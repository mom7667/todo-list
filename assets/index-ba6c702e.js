(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ti(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y0={exports:{}},Iu={},w0={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xs=Symbol.for("react.element"),oI=Symbol.for("react.portal"),sI=Symbol.for("react.fragment"),aI=Symbol.for("react.strict_mode"),lI=Symbol.for("react.profiler"),uI=Symbol.for("react.provider"),cI=Symbol.for("react.context"),dI=Symbol.for("react.forward_ref"),fI=Symbol.for("react.suspense"),hI=Symbol.for("react.memo"),pI=Symbol.for("react.lazy"),vm=Symbol.iterator;function gI(t){return t===null||typeof t!="object"?null:(t=vm&&t[vm]||t["@@iterator"],typeof t=="function"?t:null)}var _0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E0=Object.assign,T0={};function lo(t,e,n){this.props=t,this.context=e,this.refs=T0,this.updater=n||_0}lo.prototype.isReactComponent={};lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function I0(){}I0.prototype=lo.prototype;function dh(t,e,n){this.props=t,this.context=e,this.refs=T0,this.updater=n||_0}var fh=dh.prototype=new I0;fh.constructor=dh;E0(fh,lo.prototype);fh.isPureReactComponent=!0;var ym=Array.isArray,S0=Object.prototype.hasOwnProperty,hh={current:null},b0={key:!0,ref:!0,__self:!0,__source:!0};function A0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)S0.call(e,r)&&!b0.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Xs,type:t,key:o,ref:s,props:i,_owner:hh.current}}function mI(t,e){return{$$typeof:Xs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ph(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xs}function vI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wm=/\/+/g;function jc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vI(""+t.key):e.toString(36)}function cl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Xs:case oI:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+jc(s,0):r,ym(i)?(n="",t!=null&&(n=t.replace(wm,"$&/")+"/"),cl(i,e,n,"",function(c){return c})):i!=null&&(ph(i)&&(i=mI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(wm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ym(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+jc(o,a);s+=cl(o,e,n,u,i)}else if(u=gI(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+jc(o,a++),s+=cl(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function La(t,e,n){if(t==null)return t;var r=[],i=0;return cl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function yI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var St={current:null},dl={transition:null},wI={ReactCurrentDispatcher:St,ReactCurrentBatchConfig:dl,ReactCurrentOwner:hh};function C0(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:La,forEach:function(t,e,n){La(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return La(t,function(){e++}),e},toArray:function(t){return La(t,function(e){return e})||[]},only:function(t){if(!ph(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=lo;ie.Fragment=sI;ie.Profiler=lI;ie.PureComponent=dh;ie.StrictMode=aI;ie.Suspense=fI;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wI;ie.act=C0;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=E0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=hh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)S0.call(e,u)&&!b0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Xs,type:t.type,key:i,ref:o,props:r,_owner:s}};ie.createContext=function(t){return t={$$typeof:cI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:uI,_context:t},t.Consumer=t};ie.createElement=A0;ie.createFactory=function(t){var e=A0.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:dI,render:t}};ie.isValidElement=ph;ie.lazy=function(t){return{$$typeof:pI,_payload:{_status:-1,_result:t},_init:yI}};ie.memo=function(t,e){return{$$typeof:hI,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=dl.transition;dl.transition={};try{t()}finally{dl.transition=e}};ie.unstable_act=C0;ie.useCallback=function(t,e){return St.current.useCallback(t,e)};ie.useContext=function(t){return St.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return St.current.useDeferredValue(t)};ie.useEffect=function(t,e){return St.current.useEffect(t,e)};ie.useId=function(){return St.current.useId()};ie.useImperativeHandle=function(t,e,n){return St.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return St.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return St.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return St.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return St.current.useReducer(t,e,n)};ie.useRef=function(t){return St.current.useRef(t)};ie.useState=function(t){return St.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return St.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return St.current.useTransition()};ie.version="18.3.1";w0.exports=ie;var O=w0.exports;const ne=ti(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I=O,EI=Symbol.for("react.element"),TI=Symbol.for("react.fragment"),II=Object.prototype.hasOwnProperty,SI=_I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bI={key:!0,ref:!0,__self:!0,__source:!0};function x0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)II.call(e,r)&&!bI.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:EI,type:t,key:o,ref:s,props:i,_owner:SI.current}}Iu.Fragment=TI;Iu.jsx=x0;Iu.jsxs=x0;y0.exports=Iu;var L=y0.exports,Fd={},P0={exports:{}},Gt={},R0={exports:{}},D0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,Y){var Q=z.length;z.push(Y);e:for(;0<Q;){var pe=Q-1>>>1,re=z[pe];if(0<i(re,Y))z[pe]=Y,z[Q]=re,Q=pe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var Y=z[0],Q=z.pop();if(Q!==Y){z[0]=Q;e:for(var pe=0,re=z.length,ye=re>>>1;pe<ye;){var At=2*(pe+1)-1,We=z[At],Ct=At+1,yt=z[Ct];if(0>i(We,Q))Ct<re&&0>i(yt,We)?(z[pe]=yt,z[Ct]=Q,pe=Ct):(z[pe]=We,z[At]=Q,pe=At);else if(Ct<re&&0>i(yt,Q))z[pe]=yt,z[Ct]=Q,pe=Ct;else break e}}return Y}function i(z,Y){var Q=z.sortIndex-Y.sortIndex;return Q!==0?Q:z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],d=1,h=null,p=3,m=!1,v=!1,b=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(z){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=z)r(c),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(c)}}function C(z){if(b=!1,E(z),!v)if(n(u)!==null)v=!0,ze(k);else{var Y=n(c);Y!==null&&at(C,Y.startTime-z)}}function k(z,Y){v=!1,b&&(b=!1,T(_),_=-1),m=!0;var Q=p;try{for(E(Y),h=n(u);h!==null&&(!(h.expirationTime>Y)||z&&!P());){var pe=h.callback;if(typeof pe=="function"){h.callback=null,p=h.priorityLevel;var re=pe(h.expirationTime<=Y);Y=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(u)&&r(u),E(Y)}else r(u);h=n(u)}if(h!==null)var ye=!0;else{var At=n(c);At!==null&&at(C,At.startTime-Y),ye=!1}return ye}finally{h=null,p=Q,m=!1}}var V=!1,I=null,_=-1,S=5,A=-1;function P(){return!(t.unstable_now()-A<S)}function D(){if(I!==null){var z=t.unstable_now();A=z;var Y=!0;try{Y=I(!0,z)}finally{Y?x():(V=!1,I=null)}}else V=!1}var x;if(typeof y=="function")x=function(){y(D)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Me=ae.port2;ae.port1.onmessage=D,x=function(){Me.postMessage(null)}}else x=function(){R(D,0)};function ze(z){I=z,V||(V=!0,x())}function at(z,Y){_=R(function(){z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,ze(k))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var Y=3;break;default:Y=p}var Q=p;p=Y;try{return z()}finally{p=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=p;p=z;try{return Y()}finally{p=Q}},t.unstable_scheduleCallback=function(z,Y,Q){var pe=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?pe+Q:pe):Q=pe,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=Q+re,z={id:d++,callback:Y,priorityLevel:z,startTime:Q,expirationTime:re,sortIndex:-1},Q>pe?(z.sortIndex=Q,e(c,z),n(u)===null&&z===n(c)&&(b?(T(_),_=-1):b=!0,at(C,Q-pe))):(z.sortIndex=re,e(u,z),v||m||(v=!0,ze(k))),z},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(z){var Y=p;return function(){var Q=p;p=Y;try{return z.apply(this,arguments)}finally{p=Q}}}})(D0);R0.exports=D0;var AI=R0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CI=O,Wt=AI;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var k0=new Set,vs={};function ni(t,e){Gi(t,e),Gi(t+"Capture",e)}function Gi(t,e){for(vs[t]=e,t=0;t<e.length;t++)k0.add(e[t])}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bd=Object.prototype.hasOwnProperty,xI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_m={},Em={};function PI(t){return Bd.call(Em,t)?!0:Bd.call(_m,t)?!1:xI.test(t)?Em[t]=!0:(_m[t]=!0,!1)}function RI(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DI(t,e,n,r){if(e===null||typeof e>"u"||RI(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ot[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ot[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ot[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ot[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ot[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ot[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ot[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ot[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ot[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var gh=/[\-:]([a-z])/g;function mh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gh,mh);ot[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gh,mh);ot[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gh,mh);ot[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ot[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});ot.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ot[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function vh(t,e,n,r){var i=ot.hasOwnProperty(e)?ot[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DI(e,n,i,r)&&(n=null),r||i===null?PI(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Un=CI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fa=Symbol.for("react.element"),Ii=Symbol.for("react.portal"),Si=Symbol.for("react.fragment"),yh=Symbol.for("react.strict_mode"),jd=Symbol.for("react.profiler"),N0=Symbol.for("react.provider"),O0=Symbol.for("react.context"),wh=Symbol.for("react.forward_ref"),Ud=Symbol.for("react.suspense"),$d=Symbol.for("react.suspense_list"),_h=Symbol.for("react.memo"),Qn=Symbol.for("react.lazy"),V0=Symbol.for("react.offscreen"),Tm=Symbol.iterator;function Oo(t){return t===null||typeof t!="object"?null:(t=Tm&&t[Tm]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,Uc;function Qo(t){if(Uc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Uc=e&&e[1]||""}return`
`+Uc+t}var $c=!1;function zc(t,e){if(!t||$c)return"";$c=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{$c=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qo(t):""}function kI(t){switch(t.tag){case 5:return Qo(t.type);case 16:return Qo("Lazy");case 13:return Qo("Suspense");case 19:return Qo("SuspenseList");case 0:case 2:case 15:return t=zc(t.type,!1),t;case 11:return t=zc(t.type.render,!1),t;case 1:return t=zc(t.type,!0),t;default:return""}}function zd(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Si:return"Fragment";case Ii:return"Portal";case jd:return"Profiler";case yh:return"StrictMode";case Ud:return"Suspense";case $d:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O0:return(t.displayName||"Context")+".Consumer";case N0:return(t._context.displayName||"Context")+".Provider";case wh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _h:return e=t.displayName||null,e!==null?e:zd(t.type)||"Memo";case Qn:e=t._payload,t=t._init;try{return zd(t(e))}catch{}}return null}function NI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zd(e);case 8:return e===yh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function OI(t){var e=M0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ba(t){t._valueTracker||(t._valueTracker=OI(t))}function L0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=M0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Dl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wd(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Im(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F0(t,e){e=e.checked,e!=null&&vh(t,"checked",e,!1)}function Gd(t,e){F0(t,e);var n=vr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hd(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hd(t,e.type,vr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hd(t,e,n){(e!=="number"||Dl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yo=Array.isArray;function Mi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qd(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Yo(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vr(n)}}function B0(t,e){var n=vr(e.value),r=vr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Am(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function j0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kd(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?j0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ja,U0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ja=ja||document.createElement("div"),ja.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ja.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ys(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VI=["Webkit","ms","Moz","O"];Object.keys(ns).forEach(function(t){VI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ns[e]=ns[t]})});function $0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ns.hasOwnProperty(t)&&ns[t]?(""+e).trim():e+"px"}function z0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var MI=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qd(t,e){if(e){if(MI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function Yd(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xd=null;function Eh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jd=null,Li=null,Fi=null;function Cm(t){if(t=ea(t)){if(typeof Jd!="function")throw Error(j(280));var e=t.stateNode;e&&(e=xu(e),Jd(t.stateNode,t.type,e))}}function W0(t){Li?Fi?Fi.push(t):Fi=[t]:Li=t}function G0(){if(Li){var t=Li,e=Fi;if(Fi=Li=null,Cm(t),e)for(t=0;t<e.length;t++)Cm(e[t])}}function H0(t,e){return t(e)}function q0(){}var Wc=!1;function K0(t,e,n){if(Wc)return t(e,n);Wc=!0;try{return H0(t,e,n)}finally{Wc=!1,(Li!==null||Fi!==null)&&(q0(),G0())}}function ws(t,e){var n=t.stateNode;if(n===null)return null;var r=xu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Zd=!1;if(Nn)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){Zd=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{Zd=!1}function LI(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var rs=!1,kl=null,Nl=!1,ef=null,FI={onError:function(t){rs=!0,kl=t}};function BI(t,e,n,r,i,o,s,a,u){rs=!1,kl=null,LI.apply(FI,arguments)}function jI(t,e,n,r,i,o,s,a,u){if(BI.apply(this,arguments),rs){if(rs){var c=kl;rs=!1,kl=null}else throw Error(j(198));Nl||(Nl=!0,ef=c)}}function ri(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Q0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xm(t){if(ri(t)!==t)throw Error(j(188))}function UI(t){var e=t.alternate;if(!e){if(e=ri(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return xm(i),t;if(o===r)return xm(i),e;o=o.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function Y0(t){return t=UI(t),t!==null?X0(t):null}function X0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=X0(t);if(e!==null)return e;t=t.sibling}return null}var J0=Wt.unstable_scheduleCallback,Pm=Wt.unstable_cancelCallback,$I=Wt.unstable_shouldYield,zI=Wt.unstable_requestPaint,Ve=Wt.unstable_now,WI=Wt.unstable_getCurrentPriorityLevel,Th=Wt.unstable_ImmediatePriority,Z0=Wt.unstable_UserBlockingPriority,Ol=Wt.unstable_NormalPriority,GI=Wt.unstable_LowPriority,ew=Wt.unstable_IdlePriority,Su=null,En=null;function HI(t){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Su,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:QI,qI=Math.log,KI=Math.LN2;function QI(t){return t>>>=0,t===0?32:31-(qI(t)/KI|0)|0}var Ua=64,$a=4194304;function Xo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Xo(a):(o&=s,o!==0&&(r=Xo(o)))}else s=n&~i,s!==0?r=Xo(s):o!==0&&(r=Xo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fn(e),i=1<<n,r|=t[n],e&=~i;return r}function YI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XI(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-fn(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=YI(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function tf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tw(){var t=Ua;return Ua<<=1,!(Ua&4194240)&&(Ua=64),t}function Gc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Js(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=n}function JI(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ih(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function nw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rw,Sh,iw,ow,sw,nf=!1,za=[],nr=null,rr=null,ir=null,_s=new Map,Es=new Map,Xn=[],ZI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rm(t,e){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":_s.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(e.pointerId)}}function Mo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ea(e),e!==null&&Sh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eS(t,e,n,r,i){switch(e){case"focusin":return nr=Mo(nr,t,e,n,r,i),!0;case"dragenter":return rr=Mo(rr,t,e,n,r,i),!0;case"mouseover":return ir=Mo(ir,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return _s.set(o,Mo(_s.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Es.set(o,Mo(Es.get(o)||null,t,e,n,r,i)),!0}return!1}function aw(t){var e=Fr(t.target);if(e!==null){var n=ri(e);if(n!==null){if(e=n.tag,e===13){if(e=Q0(n),e!==null){t.blockedOn=e,sw(t.priority,function(){iw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Xd=r,n.target.dispatchEvent(r),Xd=null}else return e=ea(n),e!==null&&Sh(e),t.blockedOn=n,!1;e.shift()}return!0}function Dm(t,e,n){fl(t)&&n.delete(e)}function tS(){nf=!1,nr!==null&&fl(nr)&&(nr=null),rr!==null&&fl(rr)&&(rr=null),ir!==null&&fl(ir)&&(ir=null),_s.forEach(Dm),Es.forEach(Dm)}function Lo(t,e){t.blockedOn===e&&(t.blockedOn=null,nf||(nf=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,tS)))}function Ts(t){function e(i){return Lo(i,t)}if(0<za.length){Lo(za[0],t);for(var n=1;n<za.length;n++){var r=za[n];r.blockedOn===t&&(r.blockedOn=null)}}for(nr!==null&&Lo(nr,t),rr!==null&&Lo(rr,t),ir!==null&&Lo(ir,t),_s.forEach(e),Es.forEach(e),n=0;n<Xn.length;n++)r=Xn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xn.length&&(n=Xn[0],n.blockedOn===null);)aw(n),n.blockedOn===null&&Xn.shift()}var Bi=Un.ReactCurrentBatchConfig,Ml=!0;function nS(t,e,n,r){var i=ge,o=Bi.transition;Bi.transition=null;try{ge=1,bh(t,e,n,r)}finally{ge=i,Bi.transition=o}}function rS(t,e,n,r){var i=ge,o=Bi.transition;Bi.transition=null;try{ge=4,bh(t,e,n,r)}finally{ge=i,Bi.transition=o}}function bh(t,e,n,r){if(Ml){var i=rf(t,e,n,r);if(i===null)td(t,e,r,Ll,n),Rm(t,r);else if(eS(i,t,e,n,r))r.stopPropagation();else if(Rm(t,r),e&4&&-1<ZI.indexOf(t)){for(;i!==null;){var o=ea(i);if(o!==null&&rw(o),o=rf(t,e,n,r),o===null&&td(t,e,r,Ll,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else td(t,e,r,null,n)}}var Ll=null;function rf(t,e,n,r){if(Ll=null,t=Eh(r),t=Fr(t),t!==null)if(e=ri(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Q0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ll=t,null}function lw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WI()){case Th:return 1;case Z0:return 4;case Ol:case GI:return 16;case ew:return 536870912;default:return 16}default:return 16}}var Zn=null,Ah=null,hl=null;function uw(){if(hl)return hl;var t,e=Ah,n=e.length,r,i="value"in Zn?Zn.value:Zn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return hl=i.slice(t,1<r?1-r:void 0)}function pl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wa(){return!0}function km(){return!1}function Ht(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wa:km,this.isPropagationStopped=km,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wa)},persist:function(){},isPersistent:Wa}),e}var uo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ch=Ht(uo),Zs=Pe({},uo,{view:0,detail:0}),iS=Ht(Zs),Hc,qc,Fo,bu=Pe({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fo&&(Fo&&t.type==="mousemove"?(Hc=t.screenX-Fo.screenX,qc=t.screenY-Fo.screenY):qc=Hc=0,Fo=t),Hc)},movementY:function(t){return"movementY"in t?t.movementY:qc}}),Nm=Ht(bu),oS=Pe({},bu,{dataTransfer:0}),sS=Ht(oS),aS=Pe({},Zs,{relatedTarget:0}),Kc=Ht(aS),lS=Pe({},uo,{animationName:0,elapsedTime:0,pseudoElement:0}),uS=Ht(lS),cS=Pe({},uo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dS=Ht(cS),fS=Pe({},uo,{data:0}),Om=Ht(fS),hS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gS[t])?!!e[t]:!1}function xh(){return mS}var vS=Pe({},Zs,{key:function(t){if(t.key){var e=hS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=pl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(t){return t.type==="keypress"?pl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?pl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yS=Ht(vS),wS=Pe({},bu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vm=Ht(wS),_S=Pe({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),ES=Ht(_S),TS=Pe({},uo,{propertyName:0,elapsedTime:0,pseudoElement:0}),IS=Ht(TS),SS=Pe({},bu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bS=Ht(SS),AS=[9,13,27,32],Ph=Nn&&"CompositionEvent"in window,is=null;Nn&&"documentMode"in document&&(is=document.documentMode);var CS=Nn&&"TextEvent"in window&&!is,cw=Nn&&(!Ph||is&&8<is&&11>=is),Mm=String.fromCharCode(32),Lm=!1;function dw(t,e){switch(t){case"keyup":return AS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bi=!1;function xS(t,e){switch(t){case"compositionend":return fw(e);case"keypress":return e.which!==32?null:(Lm=!0,Mm);case"textInput":return t=e.data,t===Mm&&Lm?null:t;default:return null}}function PS(t,e){if(bi)return t==="compositionend"||!Ph&&dw(t,e)?(t=uw(),hl=Ah=Zn=null,bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cw&&e.locale!=="ko"?null:e.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!RS[t.type]:e==="textarea"}function hw(t,e,n,r){W0(r),e=Fl(e,"onChange"),0<e.length&&(n=new Ch("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var os=null,Is=null;function DS(t){Sw(t,0)}function Au(t){var e=xi(t);if(L0(e))return t}function kS(t,e){if(t==="change")return e}var pw=!1;if(Nn){var Qc;if(Nn){var Yc="oninput"in document;if(!Yc){var Bm=document.createElement("div");Bm.setAttribute("oninput","return;"),Yc=typeof Bm.oninput=="function"}Qc=Yc}else Qc=!1;pw=Qc&&(!document.documentMode||9<document.documentMode)}function jm(){os&&(os.detachEvent("onpropertychange",gw),Is=os=null)}function gw(t){if(t.propertyName==="value"&&Au(Is)){var e=[];hw(e,Is,t,Eh(t)),K0(DS,e)}}function NS(t,e,n){t==="focusin"?(jm(),os=e,Is=n,os.attachEvent("onpropertychange",gw)):t==="focusout"&&jm()}function OS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Is)}function VS(t,e){if(t==="click")return Au(e)}function MS(t,e){if(t==="input"||t==="change")return Au(e)}function LS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gn=typeof Object.is=="function"?Object.is:LS;function Ss(t,e){if(gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bd.call(e,i)||!gn(t[i],e[i]))return!1}return!0}function Um(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $m(t,e){var n=Um(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Um(n)}}function mw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vw(){for(var t=window,e=Dl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dl(t.document)}return e}function Rh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function FS(t){var e=vw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mw(n.ownerDocument.documentElement,n)){if(r!==null&&Rh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=$m(n,o);var s=$m(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BS=Nn&&"documentMode"in document&&11>=document.documentMode,Ai=null,of=null,ss=null,sf=!1;function zm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sf||Ai==null||Ai!==Dl(r)||(r=Ai,"selectionStart"in r&&Rh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ss&&Ss(ss,r)||(ss=r,r=Fl(of,"onSelect"),0<r.length&&(e=new Ch("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ai)))}function Ga(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ci={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionend:Ga("Transition","TransitionEnd")},Xc={},yw={};Nn&&(yw=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Cu(t){if(Xc[t])return Xc[t];if(!Ci[t])return t;var e=Ci[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yw)return Xc[t]=e[n];return t}var ww=Cu("animationend"),_w=Cu("animationiteration"),Ew=Cu("animationstart"),Tw=Cu("transitionend"),Iw=new Map,Wm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(t,e){Iw.set(t,e),ni(e,[t])}for(var Jc=0;Jc<Wm.length;Jc++){var Zc=Wm[Jc],jS=Zc.toLowerCase(),US=Zc[0].toUpperCase()+Zc.slice(1);Ir(jS,"on"+US)}Ir(ww,"onAnimationEnd");Ir(_w,"onAnimationIteration");Ir(Ew,"onAnimationStart");Ir("dblclick","onDoubleClick");Ir("focusin","onFocus");Ir("focusout","onBlur");Ir(Tw,"onTransitionEnd");Gi("onMouseEnter",["mouseout","mouseover"]);Gi("onMouseLeave",["mouseout","mouseover"]);Gi("onPointerEnter",["pointerout","pointerover"]);Gi("onPointerLeave",["pointerout","pointerover"]);ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ni("onBeforeInput",["compositionend","keypress","textInput","paste"]);ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$S=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function Gm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jI(r,e,void 0,t),t.currentTarget=null}function Sw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Gm(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Gm(i,a,c),o=u}}}if(Nl)throw t=ef,Nl=!1,ef=null,t}function Ie(t,e){var n=e[df];n===void 0&&(n=e[df]=new Set);var r=t+"__bubble";n.has(r)||(bw(e,t,2,!1),n.add(r))}function ed(t,e,n){var r=0;e&&(r|=4),bw(n,t,r,e)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function bs(t){if(!t[Ha]){t[Ha]=!0,k0.forEach(function(n){n!=="selectionchange"&&($S.has(n)||ed(n,!1,t),ed(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ha]||(e[Ha]=!0,ed("selectionchange",!1,e))}}function bw(t,e,n,r){switch(lw(e)){case 1:var i=nS;break;case 4:i=rS;break;default:i=bh}n=i.bind(null,e,n,t),i=void 0,!Zd||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function td(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Fr(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}K0(function(){var c=o,d=Eh(n),h=[];e:{var p=Iw.get(t);if(p!==void 0){var m=Ch,v=t;switch(t){case"keypress":if(pl(n)===0)break e;case"keydown":case"keyup":m=yS;break;case"focusin":v="focus",m=Kc;break;case"focusout":v="blur",m=Kc;break;case"beforeblur":case"afterblur":m=Kc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Nm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=sS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ES;break;case ww:case _w:case Ew:m=uS;break;case Tw:m=IS;break;case"scroll":m=iS;break;case"wheel":m=bS;break;case"copy":case"cut":case"paste":m=dS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Vm}var b=(e&4)!==0,R=!b&&t==="scroll",T=b?p!==null?p+"Capture":null:p;b=[];for(var y=c,E;y!==null;){E=y;var C=E.stateNode;if(E.tag===5&&C!==null&&(E=C,T!==null&&(C=ws(y,T),C!=null&&b.push(As(y,C,E)))),R)break;y=y.return}0<b.length&&(p=new m(p,v,null,n,d),h.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Xd&&(v=n.relatedTarget||n.fromElement)&&(Fr(v)||v[On]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?Fr(v):null,v!==null&&(R=ri(v),v!==R||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(b=Nm,C="onMouseLeave",T="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=Vm,C="onPointerLeave",T="onPointerEnter",y="pointer"),R=m==null?p:xi(m),E=v==null?p:xi(v),p=new b(C,y+"leave",m,n,d),p.target=R,p.relatedTarget=E,C=null,Fr(d)===c&&(b=new b(T,y+"enter",v,n,d),b.target=E,b.relatedTarget=R,C=b),R=C,m&&v)t:{for(b=m,T=v,y=0,E=b;E;E=vi(E))y++;for(E=0,C=T;C;C=vi(C))E++;for(;0<y-E;)b=vi(b),y--;for(;0<E-y;)T=vi(T),E--;for(;y--;){if(b===T||T!==null&&b===T.alternate)break t;b=vi(b),T=vi(T)}b=null}else b=null;m!==null&&Hm(h,p,m,b,!1),v!==null&&R!==null&&Hm(h,R,v,b,!0)}}e:{if(p=c?xi(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=kS;else if(Fm(p))if(pw)k=MS;else{k=OS;var V=NS}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=VS);if(k&&(k=k(t,c))){hw(h,k,n,d);break e}V&&V(t,p,c),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&Hd(p,"number",p.value)}switch(V=c?xi(c):window,t){case"focusin":(Fm(V)||V.contentEditable==="true")&&(Ai=V,of=c,ss=null);break;case"focusout":ss=of=Ai=null;break;case"mousedown":sf=!0;break;case"contextmenu":case"mouseup":case"dragend":sf=!1,zm(h,n,d);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":zm(h,n,d)}var I;if(Ph)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else bi?dw(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(cw&&n.locale!=="ko"&&(bi||_!=="onCompositionStart"?_==="onCompositionEnd"&&bi&&(I=uw()):(Zn=d,Ah="value"in Zn?Zn.value:Zn.textContent,bi=!0)),V=Fl(c,_),0<V.length&&(_=new Om(_,t,null,n,d),h.push({event:_,listeners:V}),I?_.data=I:(I=fw(n),I!==null&&(_.data=I)))),(I=CS?xS(t,n):PS(t,n))&&(c=Fl(c,"onBeforeInput"),0<c.length&&(d=new Om("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=I))}Sw(h,e)})}function As(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ws(t,n),o!=null&&r.unshift(As(t,o,i)),o=ws(t,e),o!=null&&r.push(As(t,o,i))),t=t.return}return r}function vi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Hm(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=ws(n,o),u!=null&&s.unshift(As(n,u,a))):i||(u=ws(n,o),u!=null&&s.push(As(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var zS=/\r\n?/g,WS=/\u0000|\uFFFD/g;function qm(t){return(typeof t=="string"?t:""+t).replace(zS,`
`).replace(WS,"")}function qa(t,e,n){if(e=qm(e),qm(t)!==e&&n)throw Error(j(425))}function Bl(){}var af=null,lf=null;function uf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cf=typeof setTimeout=="function"?setTimeout:void 0,GS=typeof clearTimeout=="function"?clearTimeout:void 0,Km=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof Km<"u"?function(t){return Km.resolve(null).then(t).catch(qS)}:cf;function qS(t){setTimeout(function(){throw t})}function nd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ts(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ts(e)}function or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var co=Math.random().toString(36).slice(2),_n="__reactFiber$"+co,Cs="__reactProps$"+co,On="__reactContainer$"+co,df="__reactEvents$"+co,KS="__reactListeners$"+co,QS="__reactHandles$"+co;function Fr(t){var e=t[_n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[On]||n[_n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qm(t);t!==null;){if(n=t[_n])return n;t=Qm(t)}return e}t=n,n=t.parentNode}return null}function ea(t){return t=t[_n]||t[On],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function xu(t){return t[Cs]||null}var ff=[],Pi=-1;function Sr(t){return{current:t}}function be(t){0>Pi||(t.current=ff[Pi],ff[Pi]=null,Pi--)}function Ee(t,e){Pi++,ff[Pi]=t.current,t.current=e}var yr={},vt=Sr(yr),kt=Sr(!1),Gr=yr;function Hi(t,e){var n=t.type.contextTypes;if(!n)return yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nt(t){return t=t.childContextTypes,t!=null}function jl(){be(kt),be(vt)}function Ym(t,e,n){if(vt.current!==yr)throw Error(j(168));Ee(vt,e),Ee(kt,n)}function Aw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,NI(t)||"Unknown",i));return Pe({},n,r)}function Ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yr,Gr=vt.current,Ee(vt,t),Ee(kt,kt.current),!0}function Xm(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=Aw(t,e,Gr),r.__reactInternalMemoizedMergedChildContext=t,be(kt),be(vt),Ee(vt,t)):be(kt),Ee(kt,n)}var Pn=null,Pu=!1,rd=!1;function Cw(t){Pn===null?Pn=[t]:Pn.push(t)}function YS(t){Pu=!0,Cw(t)}function br(){if(!rd&&Pn!==null){rd=!0;var t=0,e=ge;try{var n=Pn;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pn=null,Pu=!1}catch(i){throw Pn!==null&&(Pn=Pn.slice(t+1)),J0(Th,br),i}finally{ge=e,rd=!1}}return null}var Ri=[],Di=0,$l=null,zl=0,Yt=[],Xt=0,Hr=null,Rn=1,Dn="";function Or(t,e){Ri[Di++]=zl,Ri[Di++]=$l,$l=t,zl=e}function xw(t,e,n){Yt[Xt++]=Rn,Yt[Xt++]=Dn,Yt[Xt++]=Hr,Hr=t;var r=Rn;t=Dn;var i=32-fn(r)-1;r&=~(1<<i),n+=1;var o=32-fn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Rn=1<<32-fn(e)+i|n<<i|r,Dn=o+t}else Rn=1<<o|n<<i|r,Dn=t}function Dh(t){t.return!==null&&(Or(t,1),xw(t,1,0))}function kh(t){for(;t===$l;)$l=Ri[--Di],Ri[Di]=null,zl=Ri[--Di],Ri[Di]=null;for(;t===Hr;)Hr=Yt[--Xt],Yt[Xt]=null,Dn=Yt[--Xt],Yt[Xt]=null,Rn=Yt[--Xt],Yt[Xt]=null}var jt=null,Lt=null,Ae=!1,cn=null;function Pw(t,e){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,Lt=or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hr!==null?{id:Rn,overflow:Dn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,Lt=null,!0):!1;default:return!1}}function hf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pf(t){if(Ae){var e=Lt;if(e){var n=e;if(!Jm(t,e)){if(hf(t))throw Error(j(418));e=or(n.nextSibling);var r=jt;e&&Jm(t,e)?Pw(r,n):(t.flags=t.flags&-4097|2,Ae=!1,jt=t)}}else{if(hf(t))throw Error(j(418));t.flags=t.flags&-4097|2,Ae=!1,jt=t}}}function Zm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Ka(t){if(t!==jt)return!1;if(!Ae)return Zm(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uf(t.type,t.memoizedProps)),e&&(e=Lt)){if(hf(t))throw Rw(),Error(j(418));for(;e;)Pw(t,e),e=or(e.nextSibling)}if(Zm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lt=or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=jt?or(t.stateNode.nextSibling):null;return!0}function Rw(){for(var t=Lt;t;)t=or(t.nextSibling)}function qi(){Lt=jt=null,Ae=!1}function Nh(t){cn===null?cn=[t]:cn.push(t)}var XS=Un.ReactCurrentBatchConfig;function Bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Qa(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ev(t){var e=t._init;return e(t._payload)}function Dw(t){function e(T,y){if(t){var E=T.deletions;E===null?(T.deletions=[y],T.flags|=16):E.push(y)}}function n(T,y){if(!t)return null;for(;y!==null;)e(T,y),y=y.sibling;return null}function r(T,y){for(T=new Map;y!==null;)y.key!==null?T.set(y.key,y):T.set(y.index,y),y=y.sibling;return T}function i(T,y){return T=ur(T,y),T.index=0,T.sibling=null,T}function o(T,y,E){return T.index=E,t?(E=T.alternate,E!==null?(E=E.index,E<y?(T.flags|=2,y):E):(T.flags|=2,y)):(T.flags|=1048576,y)}function s(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,y,E,C){return y===null||y.tag!==6?(y=cd(E,T.mode,C),y.return=T,y):(y=i(y,E),y.return=T,y)}function u(T,y,E,C){var k=E.type;return k===Si?d(T,y,E.props.children,C,E.key):y!==null&&(y.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qn&&ev(k)===y.type)?(C=i(y,E.props),C.ref=Bo(T,y,E),C.return=T,C):(C=El(E.type,E.key,E.props,null,T.mode,C),C.ref=Bo(T,y,E),C.return=T,C)}function c(T,y,E,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=dd(E,T.mode,C),y.return=T,y):(y=i(y,E.children||[]),y.return=T,y)}function d(T,y,E,C,k){return y===null||y.tag!==7?(y=zr(E,T.mode,C,k),y.return=T,y):(y=i(y,E),y.return=T,y)}function h(T,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=cd(""+y,T.mode,E),y.return=T,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fa:return E=El(y.type,y.key,y.props,null,T.mode,E),E.ref=Bo(T,null,y),E.return=T,E;case Ii:return y=dd(y,T.mode,E),y.return=T,y;case Qn:var C=y._init;return h(T,C(y._payload),E)}if(Yo(y)||Oo(y))return y=zr(y,T.mode,E,null),y.return=T,y;Qa(T,y)}return null}function p(T,y,E,C){var k=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return k!==null?null:a(T,y,""+E,C);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Fa:return E.key===k?u(T,y,E,C):null;case Ii:return E.key===k?c(T,y,E,C):null;case Qn:return k=E._init,p(T,y,k(E._payload),C)}if(Yo(E)||Oo(E))return k!==null?null:d(T,y,E,C,null);Qa(T,E)}return null}function m(T,y,E,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return T=T.get(E)||null,a(y,T,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Fa:return T=T.get(C.key===null?E:C.key)||null,u(y,T,C,k);case Ii:return T=T.get(C.key===null?E:C.key)||null,c(y,T,C,k);case Qn:var V=C._init;return m(T,y,E,V(C._payload),k)}if(Yo(C)||Oo(C))return T=T.get(E)||null,d(y,T,C,k,null);Qa(y,C)}return null}function v(T,y,E,C){for(var k=null,V=null,I=y,_=y=0,S=null;I!==null&&_<E.length;_++){I.index>_?(S=I,I=null):S=I.sibling;var A=p(T,I,E[_],C);if(A===null){I===null&&(I=S);break}t&&I&&A.alternate===null&&e(T,I),y=o(A,y,_),V===null?k=A:V.sibling=A,V=A,I=S}if(_===E.length)return n(T,I),Ae&&Or(T,_),k;if(I===null){for(;_<E.length;_++)I=h(T,E[_],C),I!==null&&(y=o(I,y,_),V===null?k=I:V.sibling=I,V=I);return Ae&&Or(T,_),k}for(I=r(T,I);_<E.length;_++)S=m(I,T,_,E[_],C),S!==null&&(t&&S.alternate!==null&&I.delete(S.key===null?_:S.key),y=o(S,y,_),V===null?k=S:V.sibling=S,V=S);return t&&I.forEach(function(P){return e(T,P)}),Ae&&Or(T,_),k}function b(T,y,E,C){var k=Oo(E);if(typeof k!="function")throw Error(j(150));if(E=k.call(E),E==null)throw Error(j(151));for(var V=k=null,I=y,_=y=0,S=null,A=E.next();I!==null&&!A.done;_++,A=E.next()){I.index>_?(S=I,I=null):S=I.sibling;var P=p(T,I,A.value,C);if(P===null){I===null&&(I=S);break}t&&I&&P.alternate===null&&e(T,I),y=o(P,y,_),V===null?k=P:V.sibling=P,V=P,I=S}if(A.done)return n(T,I),Ae&&Or(T,_),k;if(I===null){for(;!A.done;_++,A=E.next())A=h(T,A.value,C),A!==null&&(y=o(A,y,_),V===null?k=A:V.sibling=A,V=A);return Ae&&Or(T,_),k}for(I=r(T,I);!A.done;_++,A=E.next())A=m(I,T,_,A.value,C),A!==null&&(t&&A.alternate!==null&&I.delete(A.key===null?_:A.key),y=o(A,y,_),V===null?k=A:V.sibling=A,V=A);return t&&I.forEach(function(D){return e(T,D)}),Ae&&Or(T,_),k}function R(T,y,E,C){if(typeof E=="object"&&E!==null&&E.type===Si&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Fa:e:{for(var k=E.key,V=y;V!==null;){if(V.key===k){if(k=E.type,k===Si){if(V.tag===7){n(T,V.sibling),y=i(V,E.props.children),y.return=T,T=y;break e}}else if(V.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Qn&&ev(k)===V.type){n(T,V.sibling),y=i(V,E.props),y.ref=Bo(T,V,E),y.return=T,T=y;break e}n(T,V);break}else e(T,V);V=V.sibling}E.type===Si?(y=zr(E.props.children,T.mode,C,E.key),y.return=T,T=y):(C=El(E.type,E.key,E.props,null,T.mode,C),C.ref=Bo(T,y,E),C.return=T,T=C)}return s(T);case Ii:e:{for(V=E.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(T,y.sibling),y=i(y,E.children||[]),y.return=T,T=y;break e}else{n(T,y);break}else e(T,y);y=y.sibling}y=dd(E,T.mode,C),y.return=T,T=y}return s(T);case Qn:return V=E._init,R(T,y,V(E._payload),C)}if(Yo(E))return v(T,y,E,C);if(Oo(E))return b(T,y,E,C);Qa(T,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(T,y.sibling),y=i(y,E),y.return=T,T=y):(n(T,y),y=cd(E,T.mode,C),y.return=T,T=y),s(T)):n(T,y)}return R}var Ki=Dw(!0),kw=Dw(!1),Wl=Sr(null),Gl=null,ki=null,Oh=null;function Vh(){Oh=ki=Gl=null}function Mh(t){var e=Wl.current;be(Wl),t._currentValue=e}function gf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ji(t,e){Gl=t,Oh=ki=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Dt=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(Oh!==t)if(t={context:t,memoizedValue:e,next:null},ki===null){if(Gl===null)throw Error(j(308));ki=t,Gl.dependencies={lanes:0,firstContext:t}}else ki=ki.next=t;return e}var Br=null;function Lh(t){Br===null?Br=[t]:Br.push(t)}function Nw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Lh(e)):(n.next=i.next,i.next=n),e.interleaved=n,Vn(t,r)}function Vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yn=!1;function Fh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ow(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Vn(t,n)}return i=r.interleaved,i===null?(e.next=e,Lh(r)):(e.next=i.next,i.next=e),r.interleaved=e,Vn(t,n)}function gl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ih(t,n)}}function tv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hl(t,e,n,r){var i=t.updateQueue;Yn=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(o!==null){var h=i.baseState;s=0,d=c=u=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,b=a;switch(p=e,m=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=Pe({},h,p);break e;case 2:Yn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,u=h):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Kr|=s,t.lanes=s,t.memoizedState=h}}function nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var ta={},Tn=Sr(ta),xs=Sr(ta),Ps=Sr(ta);function jr(t){if(t===ta)throw Error(j(174));return t}function Bh(t,e){switch(Ee(Ps,e),Ee(xs,t),Ee(Tn,ta),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kd(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kd(e,t)}be(Tn),Ee(Tn,e)}function Qi(){be(Tn),be(xs),be(Ps)}function Vw(t){jr(Ps.current);var e=jr(Tn.current),n=Kd(e,t.type);e!==n&&(Ee(xs,t),Ee(Tn,n))}function jh(t){xs.current===t&&(be(Tn),be(xs))}var Ce=Sr(0);function ql(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var id=[];function Uh(){for(var t=0;t<id.length;t++)id[t]._workInProgressVersionPrimary=null;id.length=0}var ml=Un.ReactCurrentDispatcher,od=Un.ReactCurrentBatchConfig,qr=0,xe=null,je=null,He=null,Kl=!1,as=!1,Rs=0,JS=0;function dt(){throw Error(j(321))}function $h(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gn(t[n],e[n]))return!1;return!0}function zh(t,e,n,r,i,o){if(qr=o,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ml.current=t===null||t.memoizedState===null?nb:rb,t=n(r,i),as){o=0;do{if(as=!1,Rs=0,25<=o)throw Error(j(301));o+=1,He=je=null,e.updateQueue=null,ml.current=ib,t=n(r,i)}while(as)}if(ml.current=Ql,e=je!==null&&je.next!==null,qr=0,He=je=xe=null,Kl=!1,e)throw Error(j(300));return t}function Wh(){var t=Rs!==0;return Rs=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?xe.memoizedState=He=t:He=He.next=t,He}function rn(){if(je===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=He===null?xe.memoizedState:He.next;if(e!==null)He=e,je=t;else{if(t===null)throw Error(j(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},He===null?xe.memoizedState=He=t:He=He.next=t}return He}function Ds(t,e){return typeof e=="function"?e(t):e}function sd(t){var e=rn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=je,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var d=c.lane;if((qr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,s=r):u=u.next=h,xe.lanes|=d,Kr|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,gn(r,e.memoizedState)||(Dt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,xe.lanes|=o,Kr|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ad(t){var e=rn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);gn(o,e.memoizedState)||(Dt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Mw(){}function Lw(t,e){var n=xe,r=rn(),i=e(),o=!gn(r.memoizedState,i);if(o&&(r.memoizedState=i,Dt=!0),r=r.queue,Gh(jw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,ks(9,Bw.bind(null,n,r,i,e),void 0,null),qe===null)throw Error(j(349));qr&30||Fw(n,e,i)}return i}function Fw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bw(t,e,n,r){e.value=n,e.getSnapshot=r,Uw(e)&&$w(t)}function jw(t,e,n){return n(function(){Uw(e)&&$w(t)})}function Uw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gn(t,n)}catch{return!0}}function $w(t){var e=Vn(t,1);e!==null&&hn(e,t,1,-1)}function rv(t){var e=wn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ds,lastRenderedState:t},e.queue=t,t=t.dispatch=tb.bind(null,xe,t),[e.memoizedState,t]}function ks(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zw(){return rn().memoizedState}function vl(t,e,n,r){var i=wn();xe.flags|=t,i.memoizedState=ks(1|e,n,void 0,r===void 0?null:r)}function Ru(t,e,n,r){var i=rn();r=r===void 0?null:r;var o=void 0;if(je!==null){var s=je.memoizedState;if(o=s.destroy,r!==null&&$h(r,s.deps)){i.memoizedState=ks(e,n,o,r);return}}xe.flags|=t,i.memoizedState=ks(1|e,n,o,r)}function iv(t,e){return vl(8390656,8,t,e)}function Gh(t,e){return Ru(2048,8,t,e)}function Ww(t,e){return Ru(4,2,t,e)}function Gw(t,e){return Ru(4,4,t,e)}function Hw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qw(t,e,n){return n=n!=null?n.concat([t]):null,Ru(4,4,Hw.bind(null,e,t),n)}function Hh(){}function Kw(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$h(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qw(t,e){var n=rn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$h(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Yw(t,e,n){return qr&21?(gn(n,e)||(n=tw(),xe.lanes|=n,Kr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Dt=!0),t.memoizedState=n)}function ZS(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=od.transition;od.transition={};try{t(!1),e()}finally{ge=n,od.transition=r}}function Xw(){return rn().memoizedState}function eb(t,e,n){var r=lr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jw(t))Zw(e,n);else if(n=Nw(t,e,n,r),n!==null){var i=It();hn(n,t,r,i),e_(n,e,r)}}function tb(t,e,n){var r=lr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jw(t))Zw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,gn(a,s)){var u=e.interleaved;u===null?(i.next=i,Lh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Nw(t,e,i,r),n!==null&&(i=It(),hn(n,t,r,i),e_(n,e,r))}}function Jw(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function Zw(t,e){as=Kl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function e_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ih(t,n)}}var Ql={readContext:nn,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useInsertionEffect:dt,useLayoutEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useMutableSource:dt,useSyncExternalStore:dt,useId:dt,unstable_isNewReconciler:!1},nb={readContext:nn,useCallback:function(t,e){return wn().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:iv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vl(4194308,4,Hw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vl(4194308,4,t,e)},useInsertionEffect:function(t,e){return vl(4,2,t,e)},useMemo:function(t,e){var n=wn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=wn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eb.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=wn();return t={current:t},e.memoizedState=t},useState:rv,useDebugValue:Hh,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=rv(!1),e=t[0];return t=ZS.bind(null,t[1]),wn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=wn();if(Ae){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),qe===null)throw Error(j(349));qr&30||Fw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,iv(jw.bind(null,r,o,t),[t]),r.flags|=2048,ks(9,Bw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=wn(),e=qe.identifierPrefix;if(Ae){var n=Dn,r=Rn;n=(r&~(1<<32-fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rb={readContext:nn,useCallback:Kw,useContext:nn,useEffect:Gh,useImperativeHandle:qw,useInsertionEffect:Ww,useLayoutEffect:Gw,useMemo:Qw,useReducer:sd,useRef:zw,useState:function(){return sd(Ds)},useDebugValue:Hh,useDeferredValue:function(t){var e=rn();return Yw(e,je.memoizedState,t)},useTransition:function(){var t=sd(Ds)[0],e=rn().memoizedState;return[t,e]},useMutableSource:Mw,useSyncExternalStore:Lw,useId:Xw,unstable_isNewReconciler:!1},ib={readContext:nn,useCallback:Kw,useContext:nn,useEffect:Gh,useImperativeHandle:qw,useInsertionEffect:Ww,useLayoutEffect:Gw,useMemo:Qw,useReducer:ad,useRef:zw,useState:function(){return ad(Ds)},useDebugValue:Hh,useDeferredValue:function(t){var e=rn();return je===null?e.memoizedState=t:Yw(e,je.memoizedState,t)},useTransition:function(){var t=ad(Ds)[0],e=rn().memoizedState;return[t,e]},useMutableSource:Mw,useSyncExternalStore:Lw,useId:Xw,unstable_isNewReconciler:!1};function ln(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function mf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Du={isMounted:function(t){return(t=t._reactInternals)?ri(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),i=lr(t),o=kn(r,i);o.payload=e,n!=null&&(o.callback=n),e=sr(t,o,i),e!==null&&(hn(e,t,i,r),gl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),i=lr(t),o=kn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=sr(t,o,i),e!==null&&(hn(e,t,i,r),gl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=lr(t),i=kn(n,r);i.tag=2,e!=null&&(i.callback=e),e=sr(t,i,r),e!==null&&(hn(e,t,r,n),gl(e,t,r))}};function ov(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ss(n,r)||!Ss(i,o):!0}function t_(t,e,n){var r=!1,i=yr,o=e.contextType;return typeof o=="object"&&o!==null?o=nn(o):(i=Nt(e)?Gr:vt.current,r=e.contextTypes,o=(r=r!=null)?Hi(t,i):yr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Du,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function sv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Du.enqueueReplaceState(e,e.state,null)}function vf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Fh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=nn(o):(o=Nt(e)?Gr:vt.current,i.context=Hi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(mf(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Du.enqueueReplaceState(i,i.state,null),Hl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yi(t,e){try{var n="",r=e;do n+=kI(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ld(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ob=typeof WeakMap=="function"?WeakMap:Map;function n_(t,e,n){n=kn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xl||(Xl=!0,xf=r),yf(t,e)},n}function r_(t,e,n){n=kn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yf(t,e),typeof r!="function"&&(ar===null?ar=new Set([this]):ar.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function av(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ob;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=wb.bind(null,t,e,n),e.then(t,t))}function lv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kn(-1,1),e.tag=2,sr(n,e,1))),n.lanes|=1),t)}var sb=Un.ReactCurrentOwner,Dt=!1;function Tt(t,e,n,r){e.child=t===null?kw(e,null,n,r):Ki(e,t.child,n,r)}function cv(t,e,n,r,i){n=n.render;var o=e.ref;return ji(e,i),r=zh(t,e,n,r,o,i),n=Wh(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mn(t,e,i)):(Ae&&n&&Dh(e),e.flags|=1,Tt(t,e,r,i),e.child)}function dv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ep(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,i_(t,e,o,r,i)):(t=El(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ss,n(s,r)&&t.ref===e.ref)return Mn(t,e,i)}return e.flags|=1,t=ur(o,r),t.ref=e.ref,t.return=e,e.child=t}function i_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ss(o,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,Mn(t,e,i)}return wf(t,e,n,r,i)}function o_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Oi,Mt),Mt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Oi,Mt),Mt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ee(Oi,Mt),Mt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ee(Oi,Mt),Mt|=r;return Tt(t,e,i,n),e.child}function s_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wf(t,e,n,r,i){var o=Nt(n)?Gr:vt.current;return o=Hi(e,o),ji(e,i),n=zh(t,e,n,r,o,i),r=Wh(),t!==null&&!Dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mn(t,e,i)):(Ae&&r&&Dh(e),e.flags|=1,Tt(t,e,n,i),e.child)}function fv(t,e,n,r,i){if(Nt(n)){var o=!0;Ul(e)}else o=!1;if(ji(e,i),e.stateNode===null)yl(t,e),t_(e,n,r),vf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=nn(c):(c=Nt(n)?Gr:vt.current,c=Hi(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&sv(e,s,r,c),Yn=!1;var p=e.memoizedState;s.state=p,Hl(e,r,s,i),u=e.memoizedState,a!==r||p!==u||kt.current||Yn?(typeof d=="function"&&(mf(e,n,d,r),u=e.memoizedState),(a=Yn||ov(e,n,a,r,p,u,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Ow(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ln(e.type,a),s.props=c,h=e.pendingProps,p=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=nn(u):(u=Nt(n)?Gr:vt.current,u=Hi(e,u));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||p!==u)&&sv(e,s,r,u),Yn=!1,p=e.memoizedState,s.state=p,Hl(e,r,s,i);var v=e.memoizedState;a!==h||p!==v||kt.current||Yn?(typeof m=="function"&&(mf(e,n,m,r),v=e.memoizedState),(c=Yn||ov(e,n,c,r,p,v,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return _f(t,e,n,r,o,i)}function _f(t,e,n,r,i,o){s_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Xm(e,n,!1),Mn(t,e,o);r=e.stateNode,sb.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ki(e,t.child,null,o),e.child=Ki(e,null,a,o)):Tt(t,e,a,o),e.memoizedState=r.state,i&&Xm(e,n,!0),e.child}function a_(t){var e=t.stateNode;e.pendingContext?Ym(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ym(t,e.context,!1),Bh(t,e.containerInfo)}function hv(t,e,n,r,i){return qi(),Nh(i),e.flags|=256,Tt(t,e,n,r),e.child}var Ef={dehydrated:null,treeContext:null,retryLane:0};function Tf(t){return{baseLanes:t,cachePool:null,transitions:null}}function l_(t,e,n){var r=e.pendingProps,i=Ce.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ee(Ce,i&1),t===null)return pf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Ou(s,r,0,null),t=zr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Tf(n),e.memoizedState=Ef,t):qh(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return ab(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ur(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=ur(a,o):(o=zr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Tf(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Ef,r}return o=t.child,t=o.sibling,r=ur(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qh(t,e){return e=Ou({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ya(t,e,n,r){return r!==null&&Nh(r),Ki(e,t.child,null,n),t=qh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ab(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=ld(Error(j(422))),Ya(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Ou({mode:"visible",children:r.children},i,0,null),o=zr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ki(e,t.child,null,s),e.child.memoizedState=Tf(s),e.memoizedState=Ef,o);if(!(e.mode&1))return Ya(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(j(419)),r=ld(o,r,void 0),Ya(t,e,s,r)}if(a=(s&t.childLanes)!==0,Dt||a){if(r=qe,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Vn(t,i),hn(r,t,i,-1))}return Zh(),r=ld(Error(j(421))),Ya(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=_b.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Lt=or(i.nextSibling),jt=e,Ae=!0,cn=null,t!==null&&(Yt[Xt++]=Rn,Yt[Xt++]=Dn,Yt[Xt++]=Hr,Rn=t.id,Dn=t.overflow,Hr=e),e=qh(e,r.children),e.flags|=4096,e)}function pv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gf(t.return,e,n)}function ud(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function u_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Tt(t,e,r.children,n),r=Ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pv(t,n,e);else if(t.tag===19)pv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ee(Ce,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ql(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ud(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ql(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ud(e,!0,n,null,o);break;case"together":ud(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Kr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=ur(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ur(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lb(t,e,n){switch(e.tag){case 3:a_(e),qi();break;case 5:Vw(e);break;case 1:Nt(e.type)&&Ul(e);break;case 4:Bh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ee(Wl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ee(Ce,Ce.current&1),e.flags|=128,null):n&e.child.childLanes?l_(t,e,n):(Ee(Ce,Ce.current&1),t=Mn(t,e,n),t!==null?t.sibling:null);Ee(Ce,Ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return u_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ee(Ce,Ce.current),r)break;return null;case 22:case 23:return e.lanes=0,o_(t,e,n)}return Mn(t,e,n)}var c_,If,d_,f_;c_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};If=function(){};d_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,jr(Tn.current);var o=null;switch(n){case"input":i=Wd(t,i),r=Wd(t,r),o=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":i=qd(t,i),r=qd(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bl)}Qd(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ie("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};f_=function(t,e,n,r){n!==r&&(e.flags|=4)};function jo(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ub(t,e,n){var r=e.pendingProps;switch(kh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Nt(e.type)&&jl(),ft(e),null;case 3:return r=e.stateNode,Qi(),be(kt),be(vt),Uh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ka(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cn!==null&&(Df(cn),cn=null))),If(t,e),ft(e),null;case 5:jh(e);var i=jr(Ps.current);if(n=e.type,t!==null&&e.stateNode!=null)d_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return ft(e),null}if(t=jr(Tn.current),Ka(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[_n]=e,r[Cs]=o,t=(e.mode&1)!==0,n){case"dialog":Ie("cancel",r),Ie("close",r);break;case"iframe":case"object":case"embed":Ie("load",r);break;case"video":case"audio":for(i=0;i<Jo.length;i++)Ie(Jo[i],r);break;case"source":Ie("error",r);break;case"img":case"image":case"link":Ie("error",r),Ie("load",r);break;case"details":Ie("toggle",r);break;case"input":Im(r,o),Ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ie("invalid",r);break;case"textarea":bm(r,o),Ie("invalid",r)}Qd(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&qa(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&qa(r.textContent,a,t),i=["children",""+a]):vs.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Ie("scroll",r)}switch(n){case"input":Ba(r),Sm(r,o,!0);break;case"textarea":Ba(r),Am(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Bl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=j0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[_n]=e,t[Cs]=r,c_(t,e,!1,!1),e.stateNode=t;e:{switch(s=Yd(n,r),n){case"dialog":Ie("cancel",t),Ie("close",t),i=r;break;case"iframe":case"object":case"embed":Ie("load",t),i=r;break;case"video":case"audio":for(i=0;i<Jo.length;i++)Ie(Jo[i],t);i=r;break;case"source":Ie("error",t),i=r;break;case"img":case"image":case"link":Ie("error",t),Ie("load",t),i=r;break;case"details":Ie("toggle",t),i=r;break;case"input":Im(t,r),i=Wd(t,r),Ie("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),Ie("invalid",t);break;case"textarea":bm(t,r),i=qd(t,r),Ie("invalid",t);break;default:i=r}Qd(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?z0(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&U0(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ys(t,u):typeof u=="number"&&ys(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Ie("scroll",t):u!=null&&vh(t,o,u,s))}switch(n){case"input":Ba(t),Sm(t,r,!1);break;case"textarea":Ba(t),Am(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Mi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Mi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)f_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=jr(Ps.current),jr(Tn.current),Ka(e)){if(r=e.stateNode,n=e.memoizedProps,r[_n]=e,(o=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:qa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[_n]=e,e.stateNode=r}return ft(e),null;case 13:if(be(Ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Lt!==null&&e.mode&1&&!(e.flags&128))Rw(),qi(),e.flags|=98560,o=!1;else if(o=Ka(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(j(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(j(317));o[_n]=e}else qi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),o=!1}else cn!==null&&(Df(cn),cn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ce.current&1?Ue===0&&(Ue=3):Zh())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return Qi(),If(t,e),t===null&&bs(e.stateNode.containerInfo),ft(e),null;case 10:return Mh(e.type._context),ft(e),null;case 17:return Nt(e.type)&&jl(),ft(e),null;case 19:if(be(Ce),o=e.memoizedState,o===null)return ft(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)jo(o,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ql(t),s!==null){for(e.flags|=128,jo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(Ce,Ce.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ve()>Xi&&(e.flags|=128,r=!0,jo(o,!1),e.lanes=4194304)}else{if(!r)if(t=ql(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ae)return ft(e),null}else 2*Ve()-o.renderingStartTime>Xi&&n!==1073741824&&(e.flags|=128,r=!0,jo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ve(),e.sibling=null,n=Ce.current,Ee(Ce,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return Jh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Mt&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function cb(t,e){switch(kh(e),e.tag){case 1:return Nt(e.type)&&jl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qi(),be(kt),be(vt),Uh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return jh(e),null;case 13:if(be(Ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));qi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return be(Ce),null;case 4:return Qi(),null;case 10:return Mh(e.type._context),null;case 22:case 23:return Jh(),null;case 24:return null;default:return null}}var Xa=!1,gt=!1,db=typeof WeakSet=="function"?WeakSet:Set,W=null;function Ni(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function Sf(t,e,n){try{n()}catch(r){ke(t,e,r)}}var gv=!1;function fb(t,e){if(af=Ml,t=vw(),Rh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(u=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===t)break t;if(p===n&&++c===i&&(a=s),p===o&&++d===r&&(u=s),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(lf={focusedElem:t,selectionRange:n},Ml=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,R=v.memoizedState,T=e.stateNode,y=T.getSnapshotBeforeUpdate(e.elementType===e.type?b:ln(e.type,b),R);T.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(C){ke(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return v=gv,gv=!1,v}function ls(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Sf(e,n,o)}i=i.next}while(i!==r)}}function ku(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function h_(t){var e=t.alternate;e!==null&&(t.alternate=null,h_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[_n],delete e[Cs],delete e[df],delete e[KS],delete e[QS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function p_(t){return t.tag===5||t.tag===3||t.tag===4}function mv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Af(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bl));else if(r!==4&&(t=t.child,t!==null))for(Af(t,e,n),t=t.sibling;t!==null;)Af(t,e,n),t=t.sibling}function Cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cf(t,e,n),t=t.sibling;t!==null;)Cf(t,e,n),t=t.sibling}var Ze=null,un=!1;function Kn(t,e,n){for(n=n.child;n!==null;)g_(t,e,n),n=n.sibling}function g_(t,e,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Su,n)}catch{}switch(n.tag){case 5:gt||Ni(n,e);case 6:var r=Ze,i=un;Ze=null,Kn(t,e,n),Ze=r,un=i,Ze!==null&&(un?(t=Ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(un?(t=Ze,n=n.stateNode,t.nodeType===8?nd(t.parentNode,n):t.nodeType===1&&nd(t,n),Ts(t)):nd(Ze,n.stateNode));break;case 4:r=Ze,i=un,Ze=n.stateNode.containerInfo,un=!0,Kn(t,e,n),Ze=r,un=i;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Sf(n,e,s),i=i.next}while(i!==r)}Kn(t,e,n);break;case 1:if(!gt&&(Ni(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,e,a)}Kn(t,e,n);break;case 21:Kn(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,Kn(t,e,n),gt=r):Kn(t,e,n);break;default:Kn(t,e,n)}}function vv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new db),e.forEach(function(r){var i=Eb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function an(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,un=!1;break e;case 3:Ze=a.stateNode.containerInfo,un=!0;break e;case 4:Ze=a.stateNode.containerInfo,un=!0;break e}a=a.return}if(Ze===null)throw Error(j(160));g_(o,s,i),Ze=null,un=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ke(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)m_(e,t),e=e.sibling}function m_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(an(e,t),yn(t),r&4){try{ls(3,t,t.return),ku(3,t)}catch(b){ke(t,t.return,b)}try{ls(5,t,t.return)}catch(b){ke(t,t.return,b)}}break;case 1:an(e,t),yn(t),r&512&&n!==null&&Ni(n,n.return);break;case 5:if(an(e,t),yn(t),r&512&&n!==null&&Ni(n,n.return),t.flags&32){var i=t.stateNode;try{ys(i,"")}catch(b){ke(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&F0(i,o),Yd(a,s);var c=Yd(a,o);for(s=0;s<u.length;s+=2){var d=u[s],h=u[s+1];d==="style"?z0(i,h):d==="dangerouslySetInnerHTML"?U0(i,h):d==="children"?ys(i,h):vh(i,d,h,c)}switch(a){case"input":Gd(i,o);break;case"textarea":B0(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Mi(i,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?Mi(i,!!o.multiple,o.defaultValue,!0):Mi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Cs]=o}catch(b){ke(t,t.return,b)}}break;case 6:if(an(e,t),yn(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){ke(t,t.return,b)}}break;case 3:if(an(e,t),yn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ts(e.containerInfo)}catch(b){ke(t,t.return,b)}break;case 4:an(e,t),yn(t);break;case 13:an(e,t),yn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Yh=Ve())),r&4&&vv(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(c=gt)||d,an(e,t),gt=c):an(e,t),yn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(h=W=d;W!==null;){switch(p=W,m=p.child,p.tag){case 0:case 11:case 14:case 15:ls(4,p,p.return);break;case 1:Ni(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){ke(r,n,b)}}break;case 5:Ni(p,p.return);break;case 22:if(p.memoizedState!==null){wv(h);continue}}m!==null?(m.return=p,W=m):wv(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,u=h.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=$0("display",s))}catch(b){ke(t,t.return,b)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(b){ke(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:an(e,t),yn(t),r&4&&vv(t);break;case 21:break;default:an(e,t),yn(t)}}function yn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(p_(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ys(i,""),r.flags&=-33);var o=mv(t);Cf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=mv(t);Af(t,a,s);break;default:throw Error(j(161))}}catch(u){ke(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hb(t,e,n){W=t,v_(t)}function v_(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Xa;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||gt;a=Xa;var c=gt;if(Xa=s,(gt=u)&&!c)for(W=i;W!==null;)s=W,u=s.child,s.tag===22&&s.memoizedState!==null?_v(i):u!==null?(u.return=s,W=u):_v(i);for(;o!==null;)W=o,v_(o),o=o.sibling;W=i,Xa=a,gt=c}yv(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,W=o):yv(t)}}function yv(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||ku(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ln(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&nv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ts(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}gt||e.flags&512&&bf(e)}catch(p){ke(e,e.return,p)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function wv(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function _v(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ku(4,e)}catch(u){ke(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ke(e,i,u)}}var o=e.return;try{bf(e)}catch(u){ke(e,o,u)}break;case 5:var s=e.return;try{bf(e)}catch(u){ke(e,s,u)}}}catch(u){ke(e,e.return,u)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var pb=Math.ceil,Yl=Un.ReactCurrentDispatcher,Kh=Un.ReactCurrentOwner,en=Un.ReactCurrentBatchConfig,de=0,qe=null,Fe=null,rt=0,Mt=0,Oi=Sr(0),Ue=0,Ns=null,Kr=0,Nu=0,Qh=0,us=null,Pt=null,Yh=0,Xi=1/0,xn=null,Xl=!1,xf=null,ar=null,Ja=!1,er=null,Jl=0,cs=0,Pf=null,wl=-1,_l=0;function It(){return de&6?Ve():wl!==-1?wl:wl=Ve()}function lr(t){return t.mode&1?de&2&&rt!==0?rt&-rt:XS.transition!==null?(_l===0&&(_l=tw()),_l):(t=ge,t!==0||(t=window.event,t=t===void 0?16:lw(t.type)),t):1}function hn(t,e,n,r){if(50<cs)throw cs=0,Pf=null,Error(j(185));Js(t,n,r),(!(de&2)||t!==qe)&&(t===qe&&(!(de&2)&&(Nu|=n),Ue===4&&Jn(t,rt)),Ot(t,r),n===1&&de===0&&!(e.mode&1)&&(Xi=Ve()+500,Pu&&br()))}function Ot(t,e){var n=t.callbackNode;XI(t,e);var r=Vl(t,t===qe?rt:0);if(r===0)n!==null&&Pm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pm(n),e===1)t.tag===0?YS(Ev.bind(null,t)):Cw(Ev.bind(null,t)),HS(function(){!(de&6)&&br()}),n=null;else{switch(nw(r)){case 1:n=Th;break;case 4:n=Z0;break;case 16:n=Ol;break;case 536870912:n=ew;break;default:n=Ol}n=b_(n,y_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function y_(t,e){if(wl=-1,_l=0,de&6)throw Error(j(327));var n=t.callbackNode;if(Ui()&&t.callbackNode!==n)return null;var r=Vl(t,t===qe?rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zl(t,r);else{e=r;var i=de;de|=2;var o=__();(qe!==t||rt!==e)&&(xn=null,Xi=Ve()+500,$r(t,e));do try{vb();break}catch(a){w_(t,a)}while(1);Vh(),Yl.current=o,de=i,Fe!==null?e=0:(qe=null,rt=0,e=Ue)}if(e!==0){if(e===2&&(i=tf(t),i!==0&&(r=i,e=Rf(t,i))),e===1)throw n=Ns,$r(t,0),Jn(t,r),Ot(t,Ve()),n;if(e===6)Jn(t,r);else{if(i=t.current.alternate,!(r&30)&&!gb(i)&&(e=Zl(t,r),e===2&&(o=tf(t),o!==0&&(r=o,e=Rf(t,o))),e===1))throw n=Ns,$r(t,0),Jn(t,r),Ot(t,Ve()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Vr(t,Pt,xn);break;case 3:if(Jn(t,r),(r&130023424)===r&&(e=Yh+500-Ve(),10<e)){if(Vl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cf(Vr.bind(null,t,Pt,xn),e);break}Vr(t,Pt,xn);break;case 4:if(Jn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-fn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ve()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pb(r/1960))-r,10<r){t.timeoutHandle=cf(Vr.bind(null,t,Pt,xn),r);break}Vr(t,Pt,xn);break;case 5:Vr(t,Pt,xn);break;default:throw Error(j(329))}}}return Ot(t,Ve()),t.callbackNode===n?y_.bind(null,t):null}function Rf(t,e){var n=us;return t.current.memoizedState.isDehydrated&&($r(t,e).flags|=256),t=Zl(t,e),t!==2&&(e=Pt,Pt=n,e!==null&&Df(e)),t}function Df(t){Pt===null?Pt=t:Pt.push.apply(Pt,t)}function gb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!gn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jn(t,e){for(e&=~Qh,e&=~Nu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fn(e),r=1<<n;t[n]=-1,e&=~r}}function Ev(t){if(de&6)throw Error(j(327));Ui();var e=Vl(t,0);if(!(e&1))return Ot(t,Ve()),null;var n=Zl(t,e);if(t.tag!==0&&n===2){var r=tf(t);r!==0&&(e=r,n=Rf(t,r))}if(n===1)throw n=Ns,$r(t,0),Jn(t,e),Ot(t,Ve()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vr(t,Pt,xn),Ot(t,Ve()),null}function Xh(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(Xi=Ve()+500,Pu&&br())}}function Qr(t){er!==null&&er.tag===0&&!(de&6)&&Ui();var e=de;de|=1;var n=en.transition,r=ge;try{if(en.transition=null,ge=1,t)return t()}finally{ge=r,en.transition=n,de=e,!(de&6)&&br()}}function Jh(){Mt=Oi.current,be(Oi)}function $r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GS(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(kh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jl();break;case 3:Qi(),be(kt),be(vt),Uh();break;case 5:jh(r);break;case 4:Qi();break;case 13:be(Ce);break;case 19:be(Ce);break;case 10:Mh(r.type._context);break;case 22:case 23:Jh()}n=n.return}if(qe=t,Fe=t=ur(t.current,null),rt=Mt=e,Ue=0,Ns=null,Qh=Nu=Kr=0,Pt=us=null,Br!==null){for(e=0;e<Br.length;e++)if(n=Br[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Br=null}return t}function w_(t,e){do{var n=Fe;try{if(Vh(),ml.current=Ql,Kl){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Kl=!1}if(qr=0,He=je=xe=null,as=!1,Rs=0,Kh.current=null,n===null||n.return===null){Ue=1,Ns=e,Fe=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=rt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=lv(s);if(m!==null){m.flags&=-257,uv(m,s,a,o,e),m.mode&1&&av(o,c,e),e=m,u=c;var v=e.updateQueue;if(v===null){var b=new Set;b.add(u),e.updateQueue=b}else v.add(u);break e}else{if(!(e&1)){av(o,c,e),Zh();break e}u=Error(j(426))}}else if(Ae&&a.mode&1){var R=lv(s);if(R!==null){!(R.flags&65536)&&(R.flags|=256),uv(R,s,a,o,e),Nh(Yi(u,a));break e}}o=u=Yi(u,a),Ue!==4&&(Ue=2),us===null?us=[o]:us.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var T=n_(o,u,e);tv(o,T);break e;case 1:a=u;var y=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ar===null||!ar.has(E)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=r_(o,a,e);tv(o,C);break e}}o=o.return}while(o!==null)}T_(n)}catch(k){e=k,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(1)}function __(){var t=Yl.current;return Yl.current=Ql,t===null?Ql:t}function Zh(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),qe===null||!(Kr&268435455)&&!(Nu&268435455)||Jn(qe,rt)}function Zl(t,e){var n=de;de|=2;var r=__();(qe!==t||rt!==e)&&(xn=null,$r(t,e));do try{mb();break}catch(i){w_(t,i)}while(1);if(Vh(),de=n,Yl.current=r,Fe!==null)throw Error(j(261));return qe=null,rt=0,Ue}function mb(){for(;Fe!==null;)E_(Fe)}function vb(){for(;Fe!==null&&!$I();)E_(Fe)}function E_(t){var e=S_(t.alternate,t,Mt);t.memoizedProps=t.pendingProps,e===null?T_(t):Fe=e,Kh.current=null}function T_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cb(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Fe=null;return}}else if(n=ub(n,e,Mt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);Ue===0&&(Ue=5)}function Vr(t,e,n){var r=ge,i=en.transition;try{en.transition=null,ge=1,yb(t,e,n,r)}finally{en.transition=i,ge=r}return null}function yb(t,e,n,r){do Ui();while(er!==null);if(de&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(JI(t,o),t===qe&&(Fe=qe=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ja||(Ja=!0,b_(Ol,function(){return Ui(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=en.transition,en.transition=null;var s=ge;ge=1;var a=de;de|=4,Kh.current=null,fb(t,n),m_(n,t),FS(lf),Ml=!!af,lf=af=null,t.current=n,hb(n),zI(),de=a,ge=s,en.transition=o}else t.current=n;if(Ja&&(Ja=!1,er=t,Jl=i),o=t.pendingLanes,o===0&&(ar=null),HI(n.stateNode),Ot(t,Ve()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xl)throw Xl=!1,t=xf,xf=null,t;return Jl&1&&t.tag!==0&&Ui(),o=t.pendingLanes,o&1?t===Pf?cs++:(cs=0,Pf=t):cs=0,br(),null}function Ui(){if(er!==null){var t=nw(Jl),e=en.transition,n=ge;try{if(en.transition=null,ge=16>t?16:t,er===null)var r=!1;else{if(t=er,er=null,Jl=0,de&6)throw Error(j(331));var i=de;for(de|=4,W=t.current;W!==null;){var o=W,s=o.child;if(W.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:ls(8,d,o)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var p=d.sibling,m=d.return;if(h_(d),d===c){W=null;break}if(p!==null){p.return=m,W=p;break}W=m}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var R=b.sibling;b.sibling=null,b=R}while(b!==null)}}W=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,W=s;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ls(9,o,o.return)}var T=o.sibling;if(T!==null){T.return=o.return,W=T;break e}W=o.return}}var y=t.current;for(W=y;W!==null;){s=W;var E=s.child;if(s.subtreeFlags&2064&&E!==null)E.return=s,W=E;else e:for(s=y;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ku(9,a)}}catch(k){ke(a,a.return,k)}if(a===s){W=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,W=C;break e}W=a.return}}if(de=i,br(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Su,t)}catch{}r=!0}return r}finally{ge=n,en.transition=e}}return!1}function Tv(t,e,n){e=Yi(n,e),e=n_(t,e,1),t=sr(t,e,1),e=It(),t!==null&&(Js(t,1,e),Ot(t,e))}function ke(t,e,n){if(t.tag===3)Tv(t,t,n);else for(;e!==null;){if(e.tag===3){Tv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ar===null||!ar.has(r))){t=Yi(n,t),t=r_(e,t,1),e=sr(e,t,1),t=It(),e!==null&&(Js(e,1,t),Ot(e,t));break}}e=e.return}}function wb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(rt&n)===n&&(Ue===4||Ue===3&&(rt&130023424)===rt&&500>Ve()-Yh?$r(t,0):Qh|=n),Ot(t,e)}function I_(t,e){e===0&&(t.mode&1?(e=$a,$a<<=1,!($a&130023424)&&($a=4194304)):e=1);var n=It();t=Vn(t,e),t!==null&&(Js(t,e,n),Ot(t,n))}function _b(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),I_(t,n)}function Eb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),I_(t,n)}var S_;S_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||kt.current)Dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Dt=!1,lb(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,Ae&&e.flags&1048576&&xw(e,zl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;yl(t,e),t=e.pendingProps;var i=Hi(e,vt.current);ji(e,n),i=zh(null,e,r,t,i,n);var o=Wh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nt(r)?(o=!0,Ul(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Fh(e),i.updater=Du,e.stateNode=i,i._reactInternals=e,vf(e,r,t,n),e=_f(null,e,r,!0,o,n)):(e.tag=0,Ae&&o&&Dh(e),Tt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(yl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ib(r),t=ln(r,t),i){case 0:e=wf(null,e,r,t,n);break e;case 1:e=fv(null,e,r,t,n);break e;case 11:e=cv(null,e,r,t,n);break e;case 14:e=dv(null,e,r,ln(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ln(r,i),wf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ln(r,i),fv(t,e,r,i,n);case 3:e:{if(a_(e),t===null)throw Error(j(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Ow(t,e),Hl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Yi(Error(j(423)),e),e=hv(t,e,r,n,i);break e}else if(r!==i){i=Yi(Error(j(424)),e),e=hv(t,e,r,n,i);break e}else for(Lt=or(e.stateNode.containerInfo.firstChild),jt=e,Ae=!0,cn=null,n=kw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qi(),r===i){e=Mn(t,e,n);break e}Tt(t,e,r,n)}e=e.child}return e;case 5:return Vw(e),t===null&&pf(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,uf(r,i)?s=null:o!==null&&uf(r,o)&&(e.flags|=32),s_(t,e),Tt(t,e,s,n),e.child;case 6:return t===null&&pf(e),null;case 13:return l_(t,e,n);case 4:return Bh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ki(e,null,r,n):Tt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ln(r,i),cv(t,e,r,i,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ee(Wl,r._currentValue),r._currentValue=s,o!==null)if(gn(o.value,s)){if(o.children===i.children&&!kt.current){e=Mn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=kn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),gf(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(j(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),gf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Tt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ji(e,n),i=nn(i),r=r(i),e.flags|=1,Tt(t,e,r,n),e.child;case 14:return r=e.type,i=ln(r,e.pendingProps),i=ln(r.type,i),dv(t,e,r,i,n);case 15:return i_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ln(r,i),yl(t,e),e.tag=1,Nt(r)?(t=!0,Ul(e)):t=!1,ji(e,n),t_(e,r,i),vf(e,r,i,n),_f(null,e,r,!0,t,n);case 19:return u_(t,e,n);case 22:return o_(t,e,n)}throw Error(j(156,e.tag))};function b_(t,e){return J0(t,e)}function Tb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,e,n,r){return new Tb(t,e,n,r)}function ep(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ib(t){if(typeof t=="function")return ep(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wh)return 11;if(t===_h)return 14}return 2}function ur(t,e){var n=t.alternate;return n===null?(n=Jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function El(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ep(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Si:return zr(n.children,i,o,e);case yh:s=8,i|=8;break;case jd:return t=Jt(12,n,e,i|2),t.elementType=jd,t.lanes=o,t;case Ud:return t=Jt(13,n,e,i),t.elementType=Ud,t.lanes=o,t;case $d:return t=Jt(19,n,e,i),t.elementType=$d,t.lanes=o,t;case V0:return Ou(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N0:s=10;break e;case O0:s=9;break e;case wh:s=11;break e;case _h:s=14;break e;case Qn:s=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Jt(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function zr(t,e,n,r){return t=Jt(7,t,r,e),t.lanes=n,t}function Ou(t,e,n,r){return t=Jt(22,t,r,e),t.elementType=V0,t.lanes=n,t.stateNode={isHidden:!1},t}function cd(t,e,n){return t=Jt(6,t,null,e),t.lanes=n,t}function dd(t,e,n){return e=Jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Sb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gc(0),this.expirationTimes=Gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tp(t,e,n,r,i,o,s,a,u){return t=new Sb(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Jt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fh(o),t}function bb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function A_(t){if(!t)return yr;t=t._reactInternals;e:{if(ri(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Nt(n))return Aw(t,n,e)}return e}function C_(t,e,n,r,i,o,s,a,u){return t=tp(n,r,!0,t,i,o,s,a,u),t.context=A_(null),n=t.current,r=It(),i=lr(n),o=kn(r,i),o.callback=e??null,sr(n,o,i),t.current.lanes=i,Js(t,i,r),Ot(t,r),t}function Vu(t,e,n,r){var i=e.current,o=It(),s=lr(i);return n=A_(n),e.context===null?e.context=n:e.pendingContext=n,e=kn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sr(i,e,s),t!==null&&(hn(t,i,s,o),gl(t,i,s)),s}function eu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Iv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function np(t,e){Iv(t,e),(t=t.alternate)&&Iv(t,e)}function Ab(){return null}var x_=typeof reportError=="function"?reportError:function(t){console.error(t)};function rp(t){this._internalRoot=t}Mu.prototype.render=rp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Vu(t,e,null,null)};Mu.prototype.unmount=rp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qr(function(){Vu(null,t,null,null)}),e[On]=null}};function Mu(t){this._internalRoot=t}Mu.prototype.unstable_scheduleHydration=function(t){if(t){var e=ow();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xn.length&&e!==0&&e<Xn[n].priority;n++);Xn.splice(n,0,t),n===0&&aw(t)}};function ip(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Sv(){}function Cb(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=eu(s);o.call(c)}}var s=C_(e,r,t,0,null,!1,!1,"",Sv);return t._reactRootContainer=s,t[On]=s.current,bs(t.nodeType===8?t.parentNode:t),Qr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=eu(u);a.call(c)}}var u=tp(t,0,!1,null,null,!1,!1,"",Sv);return t._reactRootContainer=u,t[On]=u.current,bs(t.nodeType===8?t.parentNode:t),Qr(function(){Vu(e,u,n,r)}),u}function Fu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=eu(s);a.call(u)}}Vu(e,s,t,i)}else s=Cb(n,e,t,i,r);return eu(s)}rw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xo(e.pendingLanes);n!==0&&(Ih(e,n|1),Ot(e,Ve()),!(de&6)&&(Xi=Ve()+500,br()))}break;case 13:Qr(function(){var r=Vn(t,1);if(r!==null){var i=It();hn(r,t,1,i)}}),np(t,1)}};Sh=function(t){if(t.tag===13){var e=Vn(t,134217728);if(e!==null){var n=It();hn(e,t,134217728,n)}np(t,134217728)}};iw=function(t){if(t.tag===13){var e=lr(t),n=Vn(t,e);if(n!==null){var r=It();hn(n,t,e,r)}np(t,e)}};ow=function(){return ge};sw=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};Jd=function(t,e,n){switch(e){case"input":if(Gd(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xu(r);if(!i)throw Error(j(90));L0(r),Gd(r,i)}}}break;case"textarea":B0(t,n);break;case"select":e=n.value,e!=null&&Mi(t,!!n.multiple,e,!1)}};H0=Xh;q0=Qr;var xb={usingClientEntryPoint:!1,Events:[ea,xi,xu,W0,G0,Xh]},Uo={findFiberByHostInstance:Fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pb={bundleType:Uo.bundleType,version:Uo.version,rendererPackageName:Uo.rendererPackageName,rendererConfig:Uo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Un.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Y0(t),t===null?null:t.stateNode},findFiberByHostInstance:Uo.findFiberByHostInstance||Ab,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Za.isDisabled&&Za.supportsFiber)try{Su=Za.inject(Pb),En=Za}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xb;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ip(e))throw Error(j(200));return bb(t,e,null,n)};Gt.createRoot=function(t,e){if(!ip(t))throw Error(j(299));var n=!1,r="",i=x_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tp(t,1,!1,null,null,n,!1,r,i),t[On]=e.current,bs(t.nodeType===8?t.parentNode:t),new rp(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Y0(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return Qr(t)};Gt.hydrate=function(t,e,n){if(!Lu(e))throw Error(j(200));return Fu(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!ip(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=x_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=C_(e,null,t,1,n??null,i,!1,o,s),t[On]=e.current,bs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mu(e)};Gt.render=function(t,e,n){if(!Lu(e))throw Error(j(200));return Fu(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!Lu(t))throw Error(j(40));return t._reactRootContainer?(Qr(function(){Fu(null,null,t,!1,function(){t._reactRootContainer=null,t[On]=null})}),!0):!1};Gt.unstable_batchedUpdates=Xh;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lu(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Fu(t,e,n,!1,r)};Gt.version="18.3.1-next-f1338f8080-20240426";function P_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(P_)}catch(t){console.error(t)}}P_(),P0.exports=Gt;var op=P0.exports;const Rb=ti(op);var bv=op;Fd.createRoot=bv.createRoot,Fd.hydrateRoot=bv.hydrateRoot;function Db({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const kb=O.forwardRef(Db),R_=kb;function Nb({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 0 0 .75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 0 0-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0 1 12 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 0 1-.673-.38m0 0A2.18 2.18 0 0 1 3 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 0 1 3.413-.387m7.5 0V5.25A2.25 2.25 0 0 0 13.5 3h-3a2.25 2.25 0 0 0-2.25 2.25v.894m7.5 0a48.667 48.667 0 0 0-7.5 0M12 12.75h.008v.008H12v-.008Z"}))}const Ob=O.forwardRef(Nb),D_=Ob;function Vb({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Mb=O.forwardRef(Vb),Lb=Mb;function Fb({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Bb=O.forwardRef(Fb),jb=Bb;function Ub({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const $b=O.forwardRef(Ub),zb=$b;function Wb({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Gb=O.forwardRef(Wb),Hb=Gb;function qb({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Kb=O.forwardRef(qb),Qb=Kb;function Yb({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Xb=O.forwardRef(Yb),Jb=Xb;function Zb({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const eA=O.forwardRef(Zb),tA=eA;function nA({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const rA=O.forwardRef(nA),iA=rA;function oA({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const sA=O.forwardRef(oA),k_=sA;function aA({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const lA=O.forwardRef(aA),N_=lA;function uA({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const cA=O.forwardRef(uA),dA=cA;function fA({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.098 19.902a3.75 3.75 0 0 0 5.304 0l6.401-6.402M6.75 21A3.75 3.75 0 0 1 3 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 0 0 3.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008Z"}))}const hA=O.forwardRef(fA),pA=hA;function gA({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const mA=O.forwardRef(gA),Os=mA;function vA({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const yA=O.forwardRef(vA),wA=yA;function _A({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const EA=O.forwardRef(_A),O_=EA;function TA({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const IA=O.forwardRef(TA),SA=IA,tu={PERSONAL:"",WORK:"",SHOPPING:"",STUDY:"",OTHER:""},fd={ALL:Os,PERSONAL:O_,WORK:D_,SHOPPING:k_,STUDY:R_,OTHER:Os},bA=({isDark:t,onDarkModeToggle:e,currentCategory:n,onCategoryFilter:r})=>{const[i,o]=O.useState(!1);return L.jsx("header",{className:"fixed top-0 left-0 right-0 h-16 bg-white dark:bg-gray-800 shadow-sm z-50 transition-colors duration-200",children:L.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-full flex items-center justify-between",children:[L.jsx("h1",{className:"text-2xl font-bold text-indigo-600 dark:text-indigo-400",children:"Todo List"}),L.jsxs("div",{className:"flex items-center gap-2",children:[L.jsxs("div",{className:"relative",children:[L.jsxs("button",{onClick:()=>o(!i),className:`flex items-center gap-2 px-3 py-2 rounded-lg 
                bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 
                transition-colors text-gray-900 dark:text-gray-100`,children:[n==="ALL"?L.jsxs(L.Fragment,{children:[L.jsx(Os,{className:"w-5 h-5"}),L.jsx("span",{children:" "})]}):L.jsxs(L.Fragment,{children:[fd[n]&&ne.createElement(fd[n],{className:"w-5 h-5"}),L.jsx("span",{children:tu[n]})]}),L.jsx(Hb,{className:"w-4 h-4 ml-1"})]}),i&&L.jsxs("div",{className:`absolute top-full right-0 mt-1 bg-white dark:bg-gray-800 
                rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 py-1 min-w-[160px]`,children:[L.jsxs("button",{onClick:()=>{r("ALL"),o(!1)},className:`w-full px-4 py-2 text-left flex items-center gap-2
                    ${n==="ALL"?"bg-indigo-50 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"}`,children:[L.jsx(Os,{className:"w-5 h-5"}),L.jsx("span",{children:""})]}),Object.entries(tu).map(([s,a])=>{const u=fd[s];return L.jsxs("button",{onClick:()=>{r(s),o(!1)},className:`w-full px-4 py-2 text-left flex items-center gap-2
                        ${n===s?"bg-indigo-50 dark:bg-indigo-900/50 text-indigo-600 dark:text-indigo-400":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-900 dark:text-gray-100"}`,children:[L.jsx(u,{className:"w-5 h-5"}),L.jsx("span",{children:a})]},s)})]})]}),L.jsx("button",{onClick:e,className:`p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 
              text-gray-600 dark:text-gray-300 transition-colors duration-200`,children:t?L.jsx(dA,{className:"w-6 h-6"}):L.jsx(Jb,{className:"w-6 h-6"})})]})]})})},AA=({currentFilter:t,onFilterChange:e})=>L.jsx("aside",{className:`hidden md:block w-48 fixed left-0 top-16 bottom-0 
      bg-white dark:bg-gray-800 shadow-sm transition-colors duration-200`,children:L.jsxs("nav",{className:"p-3 space-y-4",children:[L.jsxs("div",{children:[L.jsx("h2",{className:"text-base font-semibold mb-2 text-gray-900 dark:text-gray-100",children:""}),L.jsx("ul",{className:"space-y-1",children:L.jsx("li",{children:L.jsxs("button",{onClick:()=>e("all"),className:`flex items-center gap-2 w-full p-2 rounded-lg 
                  ${t==="all"?"bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"} 
                  transition-colors text-sm`,children:[L.jsx(Qb,{className:"w-4 h-4"}),L.jsx("span",{children:""})]})})})]}),L.jsxs("div",{children:[L.jsx("h2",{className:"text-base font-semibold mb-2 text-gray-900 dark:text-gray-100",children:""}),L.jsxs("ul",{className:"space-y-1",children:[L.jsx("li",{children:L.jsxs("button",{onClick:()=>e("today"),className:`flex items-center gap-2 w-full p-2 rounded-lg 
                  ${t==="today"?"bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"} 
                  transition-colors text-sm`,children:[L.jsx(Lb,{className:"w-4 h-4"}),L.jsx("span",{children:""})]})}),L.jsx("li",{children:L.jsxs("button",{onClick:()=>e("important"),className:`flex items-center gap-2 w-full p-2 rounded-lg 
                  ${t==="important"?"bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"} 
                  transition-colors text-sm`,children:[L.jsx(N_,{className:"w-4 h-4"}),L.jsx("span",{children:""})]})}),L.jsx("li",{children:L.jsxs("button",{onClick:()=>e("completed"),className:`flex items-center gap-2 w-full p-2 rounded-lg 
                  ${t==="completed"?"bg-indigo-100 dark:bg-indigo-900 text-indigo-600 dark:text-indigo-300":"hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300"} 
                  transition-colors text-sm`,children:[L.jsx(jb,{className:"w-4 h-4"}),L.jsx("span",{children:""})]})})]})]})]})});function CA({title:t,titleId:e,...n},r){return O.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?O.createElement("title",{id:e},t):null,O.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const xA=O.forwardRef(CA),PA=xA;function kf(t,e){return kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kf(t,e)}function V_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,kf(t,e)}function X(){return X=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X.apply(null,arguments)}function Vs(t){"@babel/helpers - typeof";return Vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vs(t)}function RA(t,e){if(Vs(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DA(t){var e=RA(t,"string");return Vs(e)=="symbol"?e:e+""}function kA(t,e,n){return(e=DA(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Av(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Av(Object(n),!0).forEach(function(r){kA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Av(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var xv=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),hd=function(){return Math.random().toString(36).substring(7).split("").join(".")},Pv={INIT:"@@redux/INIT"+hd(),REPLACE:"@@redux/REPLACE"+hd(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+hd()}};function NA(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function M_(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xt(1));return n(M_)(t,e)}if(typeof t!="function")throw new Error(xt(2));var i=t,o=e,s=[],a=s,u=!1;function c(){a===s&&(a=s.slice())}function d(){if(u)throw new Error(xt(3));return o}function h(b){if(typeof b!="function")throw new Error(xt(4));if(u)throw new Error(xt(5));var R=!0;return c(),a.push(b),function(){if(R){if(u)throw new Error(xt(6));R=!1,c();var y=a.indexOf(b);a.splice(y,1),s=null}}}function p(b){if(!NA(b))throw new Error(xt(7));if(typeof b.type>"u")throw new Error(xt(8));if(u)throw new Error(xt(9));try{u=!0,o=i(o,b)}finally{u=!1}for(var R=s=a,T=0;T<R.length;T++){var y=R[T];y()}return b}function m(b){if(typeof b!="function")throw new Error(xt(10));i=b,p({type:Pv.REPLACE})}function v(){var b,R=h;return b={subscribe:function(y){if(typeof y!="object"||y===null)throw new Error(xt(11));function E(){y.next&&y.next(d())}E();var C=R(E);return{unsubscribe:C}}},b[xv]=function(){return this},b}return p({type:Pv.INIT}),r={dispatch:p,subscribe:h,getState:d,replaceReducer:m},r[xv]=v,r}function Rv(t,e){return function(){return e(t.apply(this,arguments))}}function Dv(t,e){if(typeof t=="function")return Rv(t,e);if(typeof t!="object"||t===null)throw new Error(xt(16));var n={};for(var r in t){var i=t[r];typeof i=="function"&&(n[r]=Rv(i,e))}return n}function L_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,i){return function(){return r(i.apply(void 0,arguments))}})}function OA(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return function(){var i=r.apply(void 0,arguments),o=function(){throw new Error(xt(15))},s={getState:i.getState,dispatch:function(){return o.apply(void 0,arguments)}},a=e.map(function(u){return u(s)});return o=L_.apply(void 0,a)(i.dispatch),Cv(Cv({},i),{},{dispatch:o})}}}var F_={exports:{}},VA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",MA=VA,LA=MA;function B_(){}function j_(){}j_.resetWarningCache=B_;var FA=function(){function t(r,i,o,s,a,u){if(u!==LA){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:j_,resetWarningCache:B_};return n.PropTypes=n,n};F_.exports=FA();var BA=F_.exports;const se=ti(BA);var U_=ne.createContext(null);function jA(t){t()}var $_=jA,UA=function(e){return $_=e},$A=function(){return $_};function zA(){var t=$A(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t(function(){for(var i=e;i;)i.callback(),i=i.next})},get:function(){for(var i=[],o=e;o;)i.push(o),o=o.next;return i},subscribe:function(i){var o=!0,s=n={callback:i,next:null,prev:n};return s.prev?s.prev.next=s:e=s,function(){!o||e===null||(o=!1,s.next?s.next.prev=s.prev:n=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var kv={notify:function(){},get:function(){return[]}};function z_(t,e){var n,r=kv;function i(h){return u(),r.subscribe(h)}function o(){r.notify()}function s(){d.onStateChange&&d.onStateChange()}function a(){return!!n}function u(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=zA())}function c(){n&&(n(),n=void 0,r.clear(),r=kv)}var d={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:s,isSubscribed:a,trySubscribe:u,tryUnsubscribe:c,getListeners:function(){return r}};return d}var W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect;function WA(t){var e=t.store,n=t.context,r=t.children,i=O.useMemo(function(){var a=z_(e);return{store:e,subscription:a}},[e]),o=O.useMemo(function(){return e.getState()},[e]);W_(function(){var a=i.subscription;return a.onStateChange=a.notifyNestedSubs,a.trySubscribe(),o!==e.getState()&&a.notifyNestedSubs(),function(){a.tryUnsubscribe(),a.onStateChange=null}},[i,o]);var s=n||U_;return ne.createElement(s.Provider,{value:i},r)}function nu(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}var G_={exports:{}},ve={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ye=typeof Symbol=="function"&&Symbol.for,sp=Ye?Symbol.for("react.element"):60103,ap=Ye?Symbol.for("react.portal"):60106,Bu=Ye?Symbol.for("react.fragment"):60107,ju=Ye?Symbol.for("react.strict_mode"):60108,Uu=Ye?Symbol.for("react.profiler"):60114,$u=Ye?Symbol.for("react.provider"):60109,zu=Ye?Symbol.for("react.context"):60110,lp=Ye?Symbol.for("react.async_mode"):60111,Wu=Ye?Symbol.for("react.concurrent_mode"):60111,Gu=Ye?Symbol.for("react.forward_ref"):60112,Hu=Ye?Symbol.for("react.suspense"):60113,GA=Ye?Symbol.for("react.suspense_list"):60120,qu=Ye?Symbol.for("react.memo"):60115,Ku=Ye?Symbol.for("react.lazy"):60116,HA=Ye?Symbol.for("react.block"):60121,qA=Ye?Symbol.for("react.fundamental"):60117,KA=Ye?Symbol.for("react.responder"):60118,QA=Ye?Symbol.for("react.scope"):60119;function qt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case sp:switch(t=t.type,t){case lp:case Wu:case Bu:case Uu:case ju:case Hu:return t;default:switch(t=t&&t.$$typeof,t){case zu:case Gu:case Ku:case qu:case $u:return t;default:return e}}case ap:return e}}}function H_(t){return qt(t)===Wu}ve.AsyncMode=lp;ve.ConcurrentMode=Wu;ve.ContextConsumer=zu;ve.ContextProvider=$u;ve.Element=sp;ve.ForwardRef=Gu;ve.Fragment=Bu;ve.Lazy=Ku;ve.Memo=qu;ve.Portal=ap;ve.Profiler=Uu;ve.StrictMode=ju;ve.Suspense=Hu;ve.isAsyncMode=function(t){return H_(t)||qt(t)===lp};ve.isConcurrentMode=H_;ve.isContextConsumer=function(t){return qt(t)===zu};ve.isContextProvider=function(t){return qt(t)===$u};ve.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===sp};ve.isForwardRef=function(t){return qt(t)===Gu};ve.isFragment=function(t){return qt(t)===Bu};ve.isLazy=function(t){return qt(t)===Ku};ve.isMemo=function(t){return qt(t)===qu};ve.isPortal=function(t){return qt(t)===ap};ve.isProfiler=function(t){return qt(t)===Uu};ve.isStrictMode=function(t){return qt(t)===ju};ve.isSuspense=function(t){return qt(t)===Hu};ve.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Bu||t===Wu||t===Uu||t===ju||t===Hu||t===GA||typeof t=="object"&&t!==null&&(t.$$typeof===Ku||t.$$typeof===qu||t.$$typeof===$u||t.$$typeof===zu||t.$$typeof===Gu||t.$$typeof===qA||t.$$typeof===KA||t.$$typeof===QA||t.$$typeof===HA)};ve.typeOf=qt;G_.exports=ve;var YA=G_.exports,up=YA,XA={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},JA={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ZA={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},q_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},cp={};cp[up.ForwardRef]=ZA;cp[up.Memo]=q_;function Nv(t){return up.isMemo(t)?q_:cp[t.$$typeof]||XA}var eC=Object.defineProperty,tC=Object.getOwnPropertyNames,Ov=Object.getOwnPropertySymbols,nC=Object.getOwnPropertyDescriptor,rC=Object.getPrototypeOf,Vv=Object.prototype;function K_(t,e,n){if(typeof e!="string"){if(Vv){var r=rC(e);r&&r!==Vv&&K_(t,r,n)}var i=tC(e);Ov&&(i=i.concat(Ov(e)));for(var o=Nv(t),s=Nv(e),a=0;a<i.length;++a){var u=i[a];if(!JA[u]&&!(n&&n[u])&&!(s&&s[u])&&!(o&&o[u])){var c=nC(e,u);try{eC(t,u,c)}catch{}}}}return t}var iC=K_;const Mv=ti(iC);var Q_={exports:{}},_e={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=60103,Yu=60106,na=60107,ra=60108,ia=60114,oa=60109,sa=60110,aa=60112,la=60113,dp=60120,ua=60115,ca=60116,Y_=60121,X_=60122,J_=60117,Z_=60129,eE=60131;if(typeof Symbol=="function"&&Symbol.for){var Je=Symbol.for;Qu=Je("react.element"),Yu=Je("react.portal"),na=Je("react.fragment"),ra=Je("react.strict_mode"),ia=Je("react.profiler"),oa=Je("react.provider"),sa=Je("react.context"),aa=Je("react.forward_ref"),la=Je("react.suspense"),dp=Je("react.suspense_list"),ua=Je("react.memo"),ca=Je("react.lazy"),Y_=Je("react.block"),X_=Je("react.server.block"),J_=Je("react.fundamental"),Z_=Je("react.debug_trace_mode"),eE=Je("react.legacy_hidden")}function vn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Qu:switch(t=t.type,t){case na:case ia:case ra:case la:case dp:return t;default:switch(t=t&&t.$$typeof,t){case sa:case aa:case ca:case ua:case oa:return t;default:return e}}case Yu:return e}}}var oC=oa,sC=Qu,aC=aa,lC=na,uC=ca,cC=ua,dC=Yu,fC=ia,hC=ra,pC=la;_e.ContextConsumer=sa;_e.ContextProvider=oC;_e.Element=sC;_e.ForwardRef=aC;_e.Fragment=lC;_e.Lazy=uC;_e.Memo=cC;_e.Portal=dC;_e.Profiler=fC;_e.StrictMode=hC;_e.Suspense=pC;_e.isAsyncMode=function(){return!1};_e.isConcurrentMode=function(){return!1};_e.isContextConsumer=function(t){return vn(t)===sa};_e.isContextProvider=function(t){return vn(t)===oa};_e.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qu};_e.isForwardRef=function(t){return vn(t)===aa};_e.isFragment=function(t){return vn(t)===na};_e.isLazy=function(t){return vn(t)===ca};_e.isMemo=function(t){return vn(t)===ua};_e.isPortal=function(t){return vn(t)===Yu};_e.isProfiler=function(t){return vn(t)===ia};_e.isStrictMode=function(t){return vn(t)===ra};_e.isSuspense=function(t){return vn(t)===la};_e.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===na||t===ia||t===Z_||t===ra||t===la||t===dp||t===eE||typeof t=="object"&&t!==null&&(t.$$typeof===ca||t.$$typeof===ua||t.$$typeof===oa||t.$$typeof===sa||t.$$typeof===aa||t.$$typeof===J_||t.$$typeof===Y_||t[0]===X_)};_e.typeOf=vn;Q_.exports=_e;var gC=Q_.exports,mC=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],vC=["reactReduxForwardedRef"],yC=[],wC=[null,null];function _C(t,e){var n=t[1];return[e.payload,n+1]}function Lv(t,e,n){W_(function(){return t.apply(void 0,e)},n)}function EC(t,e,n,r,i,o,s){t.current=r,e.current=i,n.current=!1,o.current&&(o.current=null,s())}function TC(t,e,n,r,i,o,s,a,u,c){if(t){var d=!1,h=null,p=function(){if(!d){var b=e.getState(),R,T;try{R=r(b,i.current)}catch(y){T=y,h=y}T||(h=null),R===o.current?s.current||u():(o.current=R,a.current=R,s.current=!0,c({type:"STORE_UPDATED",payload:{error:T}}))}};n.onStateChange=p,n.trySubscribe(),p();var m=function(){if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h};return m}}var IC=function(){return[null,0]};function SC(t,e){e===void 0&&(e={});var n=e,r=n.getDisplayName,i=r===void 0?function(E){return"ConnectAdvanced("+E+")"}:r,o=n.methodName,s=o===void 0?"connectAdvanced":o,a=n.renderCountProp,u=a===void 0?void 0:a,c=n.shouldHandleStateChanges,d=c===void 0?!0:c,h=n.storeKey,p=h===void 0?"store":h;n.withRef;var m=n.forwardRef,v=m===void 0?!1:m,b=n.context,R=b===void 0?U_:b,T=nu(n,mC),y=R;return function(C){var k=C.displayName||C.name||"Component",V=i(k),I=X({},T,{getDisplayName:i,methodName:s,renderCountProp:u,shouldHandleStateChanges:d,storeKey:p,displayName:V,wrappedComponentName:k,WrappedComponent:C}),_=T.pure;function S(ae){return t(ae.dispatch,I)}var A=_?O.useMemo:function(ae){return ae()};function P(ae){var Me=O.useMemo(function(){var Wn=ae.reactReduxForwardedRef,fi=nu(ae,vC);return[ae.context,Wn,fi]},[ae]),ze=Me[0],at=Me[1],z=Me[2],Y=O.useMemo(function(){return ze&&ze.Consumer&&gC.isContextConsumer(ne.createElement(ze.Consumer,null))?ze:y},[ze,y]),Q=O.useContext(Y),pe=!!ae.store&&!!ae.store.getState&&!!ae.store.dispatch;Q&&Q.store;var re=pe?ae.store:Q.store,ye=O.useMemo(function(){return S(re)},[re]),At=O.useMemo(function(){if(!d)return wC;var Wn=z_(re,pe?null:Q.subscription),fi=Wn.notifyNestedSubs.bind(Wn);return[Wn,fi]},[re,pe,Q]),We=At[0],Ct=At[1],yt=O.useMemo(function(){return pe?Q:X({},Q,{subscription:We})},[pe,Q,We]),ai=O.useReducer(_C,yC,IC),_o=ai[0],on=_o[0],$n=ai[1];if(on&&on.error)throw on.error;var li=O.useRef(),xr=O.useRef(z),zn=O.useRef(),ui=O.useRef(!1),ci=A(function(){return zn.current&&z===xr.current?zn.current:ye(re.getState(),z)},[re,on,z]);Lv(EC,[xr,li,ui,z,ci,zn,Ct]),Lv(TC,[d,re,We,ye,xr,li,ui,zn,Ct,$n],[re,We,ye]);var di=O.useMemo(function(){return ne.createElement(C,X({},ci,{ref:at}))},[at,C,ci]),wc=O.useMemo(function(){return d?ne.createElement(Y.Provider,{value:yt},di):di},[Y,di,yt]);return wc}var D=_?ne.memo(P):P;if(D.WrappedComponent=C,D.displayName=P.displayName=V,v){var x=ne.forwardRef(function(Me,ze){return ne.createElement(D,X({},Me,{reactReduxForwardedRef:ze}))});return x.displayName=V,x.WrappedComponent=C,Mv(x,C)}return Mv(D,C)}}function Fv(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function pd(t,e){if(Fv(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!Fv(t[n[i]],e[n[i]]))return!1;return!0}function bC(t,e){var n={},r=function(s){var a=t[s];typeof a=="function"&&(n[s]=function(){return e(a.apply(void 0,arguments))})};for(var i in t)r(i);return n}function fp(t){return function(n,r){var i=t(n,r);function o(){return i}return o.dependsOnOwnProps=!1,o}}function Bv(t){return t.dependsOnOwnProps!==null&&t.dependsOnOwnProps!==void 0?!!t.dependsOnOwnProps:t.length!==1}function tE(t,e){return function(r,i){i.displayName;var o=function(a,u){return o.dependsOnOwnProps?o.mapToProps(a,u):o.mapToProps(a)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,u){o.mapToProps=t,o.dependsOnOwnProps=Bv(t);var c=o(a,u);return typeof c=="function"&&(o.mapToProps=c,o.dependsOnOwnProps=Bv(c),c=o(a,u)),c},o}}function AC(t){return typeof t=="function"?tE(t):void 0}function CC(t){return t?void 0:fp(function(e){return{dispatch:e}})}function xC(t){return t&&typeof t=="object"?fp(function(e){return bC(t,e)}):void 0}const PC=[AC,CC,xC];function RC(t){return typeof t=="function"?tE(t):void 0}function DC(t){return t?void 0:fp(function(){return{}})}const kC=[RC,DC];function NC(t,e,n){return X({},n,t,e)}function OC(t){return function(n,r){r.displayName;var i=r.pure,o=r.areMergedPropsEqual,s=!1,a;return function(c,d,h){var p=t(c,d,h);return s?(!i||!o(p,a))&&(a=p):(s=!0,a=p),a}}}function VC(t){return typeof t=="function"?OC(t):void 0}function MC(t){return t?void 0:function(){return NC}}const LC=[VC,MC];var FC=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function BC(t,e,n,r){return function(o,s){return n(t(o,s),e(r,s),s)}}function jC(t,e,n,r,i){var o=i.areStatesEqual,s=i.areOwnPropsEqual,a=i.areStatePropsEqual,u=!1,c,d,h,p,m;function v(E,C){return c=E,d=C,h=t(c,d),p=e(r,d),m=n(h,p,d),u=!0,m}function b(){return h=t(c,d),e.dependsOnOwnProps&&(p=e(r,d)),m=n(h,p,d),m}function R(){return t.dependsOnOwnProps&&(h=t(c,d)),e.dependsOnOwnProps&&(p=e(r,d)),m=n(h,p,d),m}function T(){var E=t(c,d),C=!a(E,h);return h=E,C&&(m=n(h,p,d)),m}function y(E,C){var k=!s(C,d),V=!o(E,c,C,d);return c=E,d=C,k&&V?b():k?R():V?T():m}return function(C,k){return u?y(C,k):v(C,k)}}function UC(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,i=e.initMergeProps,o=nu(e,FC),s=n(t,o),a=r(t,o),u=i(t,o),c=o.pure?jC:BC;return c(s,a,u,t,o)}var $C=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function gd(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(o,s){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function zC(t,e){return t===e}function WC(t){var e=t===void 0?{}:t,n=e.connectHOC,r=n===void 0?SC:n,i=e.mapStateToPropsFactories,o=i===void 0?kC:i,s=e.mapDispatchToPropsFactories,a=s===void 0?PC:s,u=e.mergePropsFactories,c=u===void 0?LC:u,d=e.selectorFactory,h=d===void 0?UC:d;return function(m,v,b,R){R===void 0&&(R={});var T=R,y=T.pure,E=y===void 0?!0:y,C=T.areStatesEqual,k=C===void 0?zC:C,V=T.areOwnPropsEqual,I=V===void 0?pd:V,_=T.areStatePropsEqual,S=_===void 0?pd:_,A=T.areMergedPropsEqual,P=A===void 0?pd:A,D=nu(T,$C),x=gd(m,o,"mapStateToProps"),ae=gd(v,a,"mapDispatchToProps"),Me=gd(b,c,"mergeProps");return r(h,X({methodName:"connect",getDisplayName:function(at){return"Connect("+at+")"},shouldHandleStateChanges:!!m,initMapStateToProps:x,initMapDispatchToProps:ae,initMergeProps:Me,pure:E,areStatesEqual:k,areOwnPropsEqual:I,areStatePropsEqual:S,areMergedPropsEqual:P},D))}}const nE=WC();UA(op.unstable_batchedUpdates);function GC(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function rE(t,e){var n=O.useState(function(){return{inputs:e,result:t()}})[0],r=O.useRef(!0),i=O.useRef(n),o=r.current||!!(e&&i.current.inputs&&GC(e,i.current.inputs)),s=o?i.current:{inputs:e,result:t()};return O.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}function HC(t,e){return rE(function(){return t},e)}var ce=rE,q=HC,qC=!0,md="Invariant failed";function KC(t,e){if(!t){if(qC)throw new Error(md);var n=typeof e=="function"?e():e,r=n?"".concat(md,": ").concat(n):md;throw new Error(r)}}var dn=function(e){var n=e.top,r=e.right,i=e.bottom,o=e.left,s=r-o,a=i-n,u={top:n,right:r,bottom:i,left:o,width:s,height:a,x:o,y:n,center:{x:(r+o)/2,y:(i+n)/2}};return u},hp=function(e,n){return{top:e.top-n.top,left:e.left-n.left,bottom:e.bottom+n.bottom,right:e.right+n.right}},jv=function(e,n){return{top:e.top+n.top,left:e.left+n.left,bottom:e.bottom-n.bottom,right:e.right-n.right}},QC=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},vd={top:0,right:0,bottom:0,left:0},pp=function(e){var n=e.borderBox,r=e.margin,i=r===void 0?vd:r,o=e.border,s=o===void 0?vd:o,a=e.padding,u=a===void 0?vd:a,c=dn(hp(n,i)),d=dn(jv(n,s)),h=dn(jv(d,u));return{marginBox:c,borderBox:dn(n),paddingBox:d,contentBox:h,margin:i,border:s,padding:u}},Kt=function(e){var n=e.slice(0,-2),r=e.slice(-2);if(r!=="px")return 0;var i=Number(n);return isNaN(i)&&KC(!1),i},YC=function(){return{x:window.pageXOffset,y:window.pageYOffset}},ru=function(e,n){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,a=QC(r,n);return pp({borderBox:a,border:i,margin:o,padding:s})},iu=function(e,n){return n===void 0&&(n=YC()),ru(e,n)},iE=function(e,n){var r={top:Kt(n.marginTop),right:Kt(n.marginRight),bottom:Kt(n.marginBottom),left:Kt(n.marginLeft)},i={top:Kt(n.paddingTop),right:Kt(n.paddingRight),bottom:Kt(n.paddingBottom),left:Kt(n.paddingLeft)},o={top:Kt(n.borderTopWidth),right:Kt(n.borderRightWidth),bottom:Kt(n.borderBottomWidth),left:Kt(n.borderLeftWidth)};return pp({borderBox:e,margin:r,padding:i,border:o})},oE=function(e){var n=e.getBoundingClientRect(),r=window.getComputedStyle(e);return iE(n,r)},Uv=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function XC(t,e){return!!(t===e||Uv(t)&&Uv(e))}function JC(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!XC(t[n],e[n]))return!1;return!0}function Ke(t,e){e===void 0&&(e=JC);var n,r=[],i,o=!1;function s(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];return o&&n===this&&e(a,r)||(i=t.apply(this,a),o=!0,n=this,r=a),i}return s}var ZC=function(e){var n=[],r=null,i=function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];n=a,!r&&(r=requestAnimationFrame(function(){r=null,e.apply(void 0,n)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};const Ms=ZC;function sE(t,e){}sE.bind(null,"warn");sE.bind(null,"error");function cr(){}function ex(t,e){return X({},t,{},e)}function Zt(t,e,n){var r=e.map(function(i){var o=ex(n,i.options);return t.addEventListener(i.eventName,i.fn,o),function(){t.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(function(o){o()})}}var tx="Invariant failed";function ou(t){this.message=t}ou.prototype.toString=function(){return this.message};function U(t,e){if(!t)throw new ou(tx)}var nx=function(t){V_(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.callbacks=null,r.unbind=cr,r.onWindowError=function(a){var u=r.getCallbacks();u.isDragging()&&u.tryAbort();var c=a.error;c instanceof ou&&a.preventDefault()},r.getCallbacks=function(){if(!r.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return r.callbacks},r.setCallbacks=function(a){r.callbacks=a},r}var n=e.prototype;return n.componentDidMount=function(){this.unbind=Zt(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(i){if(i instanceof ou){this.setState({});return}throw i},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},e}(ne.Component),rx=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,su=function(e){return e+1},ix=function(e){return`
  You have lifted an item in position `+su(e.source.index)+`
`},aE=function(e,n){var r=e.droppableId===n.droppableId,i=su(e.index),o=su(n.index);return r?`
      You have moved the item from position `+i+`
      to position `+o+`
    `:`
    You have moved the item from position `+i+`
    in list `+e.droppableId+`
    to list `+n.droppableId+`
    in position `+o+`
  `},lE=function(e,n,r){var i=n.droppableId===r.droppableId;return i?`
      The item `+e+`
      has been combined with `+r.draggableId:`
      The item `+e+`
      in list `+n.droppableId+`
      has been combined with `+r.draggableId+`
      in list `+r.droppableId+`
    `},ox=function(e){var n=e.destination;if(n)return aE(e.source,n);var r=e.combine;return r?lE(e.draggableId,e.source,r):"You are over an area that cannot be dropped on"},$v=function(e){return`
  The item has returned to its starting position
  of `+su(e.index)+`
`},sx=function(e){if(e.reason==="CANCEL")return`
      Movement cancelled.
      `+$v(e.source)+`
    `;var n=e.destination,r=e.combine;return n?`
      You have dropped the item.
      `+aE(e.source,n)+`
    `:r?`
      You have dropped the item.
      `+lE(e.draggableId,e.source,r)+`
    `:`
    The item has been dropped while not over a drop area.
    `+$v(e.source)+`
  `},Tl={dragHandleUsageInstructions:rx,onDragStart:ix,onDragUpdate:ox,onDragEnd:sx},Qe={x:0,y:0},nt=function(e,n){return{x:e.x+n.x,y:e.y+n.y}},Ft=function(e,n){return{x:e.x-n.x,y:e.y-n.y}},dr=function(e,n){return e.x===n.x&&e.y===n.y},fo=function(e){return{x:e.x!==0?-e.x:0,y:e.y!==0?-e.y:0}},Yr=function(e,n,r){var i;return r===void 0&&(r=0),i={},i[e]=n,i[e==="x"?"y":"x"]=r,i},Ls=function(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))},zv=function(e,n){return Math.min.apply(Math,n.map(function(r){return Ls(e,r)}))},uE=function(e){return function(n){return{x:e(n.x),y:e(n.y)}}},ax=function(t,e){var n=dn({top:Math.max(e.top,t.top),right:Math.min(e.right,t.right),bottom:Math.min(e.bottom,t.bottom),left:Math.max(e.left,t.left)});return n.width<=0||n.height<=0?null:n},da=function(e,n){return{top:e.top+n.y,left:e.left+n.x,bottom:e.bottom+n.y,right:e.right+n.x}},Wv=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},lx={top:0,right:0,bottom:0,left:0},ux=function(e,n){return n?da(e,n.scroll.diff.displacement):e},cx=function(e,n,r){if(r&&r.increasedBy){var i;return X({},e,(i={},i[n.end]=e[n.end]+r.increasedBy[n.line],i))}return e},dx=function(e,n){return n&&n.shouldClipSubject?ax(n.pageMarginBox,e):dn(e)},Ji=function(t){var e=t.page,n=t.withPlaceholder,r=t.axis,i=t.frame,o=ux(e.marginBox,i),s=cx(o,r,n),a=dx(s,i);return{page:e,withPlaceholder:n,active:a}},gp=function(t,e){t.frame||U(!1);var n=t.frame,r=Ft(e,n.scroll.initial),i=fo(r),o=X({},n,{scroll:{initial:n.scroll.initial,current:e,diff:{value:r,displacement:i},max:n.scroll.max}}),s=Ji({page:t.subject.page,withPlaceholder:t.subject.withPlaceholder,axis:t.axis,frame:o}),a=X({},t,{frame:o,subject:s});return a};function au(t){return Object.values?Object.values(t):Object.keys(t).map(function(e){return t[e]})}function mp(t,e){if(t.findIndex)return t.findIndex(e);for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function Ar(t,e){if(t.find)return t.find(e);var n=mp(t,e);if(n!==-1)return t[n]}function cE(t){return Array.prototype.slice.call(t)}var dE=Ke(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),fE=Ke(function(t){return t.reduce(function(e,n){return e[n.descriptor.id]=n,e},{})}),Xu=Ke(function(t){return au(t)}),fx=Ke(function(t){return au(t)}),ho=Ke(function(t,e){var n=fx(e).filter(function(r){return t===r.descriptor.droppableId}).sort(function(r,i){return r.descriptor.index-i.descriptor.index});return n});function vp(t){return t.at&&t.at.type==="REORDER"?t.at.destination:null}function Ju(t){return t.at&&t.at.type==="COMBINE"?t.at.combine:null}var Zu=Ke(function(t,e){return e.filter(function(n){return n.descriptor.id!==t.descriptor.id})}),hx=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.previousImpact;if(!r.isCombineEnabled)return null;var s=vp(o);if(!s)return null;function a(b){var R={type:"COMBINE",combine:{draggableId:b,droppableId:r.descriptor.id}};return X({},o,{at:R})}var u=o.displaced.all,c=u.length?u[0]:null;if(e)return c?a(c):null;var d=Zu(n,i);if(!c){if(!d.length)return null;var h=d[d.length-1];return a(h.descriptor.id)}var p=mp(d,function(b){return b.descriptor.id===c});p===-1&&U(!1);var m=p-1;if(m<0)return null;var v=d[m];return a(v.descriptor.id)},po=function(t,e){return t.descriptor.droppableId===e.descriptor.id},hE={point:Qe,value:0},Fs={invisible:{},visible:{},all:[]},px={displaced:Fs,displacedBy:hE,at:null},tn=function(t,e){return function(n){return t<=n&&n<=e}},pE=function(t){var e=tn(t.top,t.bottom),n=tn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);if(i)return!0;var o=e(r.top)||e(r.bottom),s=n(r.left)||n(r.right),a=o&&s;if(a)return!0;var u=r.top<t.top&&r.bottom>t.bottom,c=r.left<t.left&&r.right>t.right,d=u&&c;if(d)return!0;var h=u&&s||c&&o;return h}},gx=function(t){var e=tn(t.top,t.bottom),n=tn(t.left,t.right);return function(r){var i=e(r.top)&&e(r.bottom)&&n(r.left)&&n(r.right);return i}},yp={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},gE={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},mx=function(t){return function(e){var n=tn(e.top,e.bottom),r=tn(e.left,e.right);return function(i){return t===yp?n(i.top)&&n(i.bottom):r(i.left)&&r(i.right)}}},vx=function(e,n){var r=n.frame?n.frame.scroll.diff.displacement:Qe;return da(e,r)},yx=function(e,n,r){return n.subject.active?r(n.subject.active)(e):!1},wx=function(e,n,r){return r(n)(e)},wp=function(e){var n=e.target,r=e.destination,i=e.viewport,o=e.withDroppableDisplacement,s=e.isVisibleThroughFrameFn,a=o?vx(n,r):n;return yx(a,r,s)&&wx(a,i,s)},_x=function(e){return wp(X({},e,{isVisibleThroughFrameFn:pE}))},mE=function(e){return wp(X({},e,{isVisibleThroughFrameFn:gx}))},Ex=function(e){return wp(X({},e,{isVisibleThroughFrameFn:mx(e.destination.axis)}))},Tx=function(e,n,r){if(typeof r=="boolean")return r;if(!n)return!0;var i=n.invisible,o=n.visible;if(i[e])return!1;var s=o[e];return s?s.shouldAnimate:!0};function Ix(t,e){var n=t.page.marginBox,r={top:e.point.y,right:0,bottom:0,left:e.point.x};return dn(hp(n,r))}function Bs(t){var e=t.afterDragging,n=t.destination,r=t.displacedBy,i=t.viewport,o=t.forceShouldAnimate,s=t.last;return e.reduce(function(u,c){var d=Ix(c,r),h=c.descriptor.id;u.all.push(h);var p=_x({target:d,destination:n,viewport:i,withDroppableDisplacement:!0});if(!p)return u.invisible[c.descriptor.id]=!0,u;var m=Tx(h,s,o),v={draggableId:h,shouldAnimate:m};return u.visible[h]=v,u},{all:[],visible:{},invisible:{}})}function Sx(t,e){if(!t.length)return 0;var n=t[t.length-1].descriptor.index;return e.inHomeList?n:n+1}function Gv(t){var e=t.insideDestination,n=t.inHomeList,r=t.displacedBy,i=t.destination,o=Sx(e,{inHomeList:n});return{displaced:Fs,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function lu(t){var e=t.draggable,n=t.insideDestination,r=t.destination,i=t.viewport,o=t.displacedBy,s=t.last,a=t.index,u=t.forceShouldAnimate,c=po(e,r);if(a==null)return Gv({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=Ar(n,function(b){return b.descriptor.index===a});if(!d)return Gv({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var h=Zu(e,n),p=n.indexOf(d),m=h.slice(p),v=Bs({afterDragging:m,destination:r,displacedBy:o,last:s,viewport:i.frame,forceShouldAnimate:u});return{displaced:v,displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:a}}}}function wr(t,e){return!!e.effected[t]}var bx=function(t){var e=t.isMovingForward,n=t.destination,r=t.draggables,i=t.combine,o=t.afterCritical;if(!n.isCombineEnabled)return null;var s=i.draggableId,a=r[s],u=a.descriptor.index,c=wr(s,o);return c?e?u:u-1:e?u+1:u},Ax=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.insideDestination,i=t.location;if(!r.length)return null;var o=i.index,s=e?o+1:o-1,a=r[0].descriptor.index,u=r[r.length-1].descriptor.index,c=n?u:u+1;return s<a||s>c?null:s},Cx=function(t){var e=t.isMovingForward,n=t.isInHomeList,r=t.draggable,i=t.draggables,o=t.destination,s=t.insideDestination,a=t.previousImpact,u=t.viewport,c=t.afterCritical,d=a.at;if(d||U(!1),d.type==="REORDER"){var h=Ax({isMovingForward:e,isInHomeList:n,location:d.destination,insideDestination:s});return h==null?null:lu({draggable:r,insideDestination:s,destination:o,viewport:u,last:a.displaced,displacedBy:a.displacedBy,index:h})}var p=bx({isMovingForward:e,destination:o,displaced:a.displaced,draggables:i,combine:d.combine,afterCritical:c});return p==null?null:lu({draggable:r,insideDestination:s,destination:o,viewport:u,last:a.displaced,displacedBy:a.displacedBy,index:p})},xx=function(t){var e=t.displaced,n=t.afterCritical,r=t.combineWith,i=t.displacedBy,o=!!(e.visible[r]||e.invisible[r]);return wr(r,n)?o?Qe:fo(i.point):o?i.point:Qe},Px=function(t){var e=t.afterCritical,n=t.impact,r=t.draggables,i=Ju(n);i||U(!1);var o=i.draggableId,s=r[o].page.borderBox.center,a=xx({displaced:n.displaced,afterCritical:e,combineWith:o,displacedBy:n.displacedBy});return nt(s,a)},vE=function(e,n){return n.margin[e.start]+n.borderBox[e.size]/2},Rx=function(e,n){return n.margin[e.end]+n.borderBox[e.size]/2},_p=function(e,n,r){return n[e.crossAxisStart]+r.margin[e.crossAxisStart]+r.borderBox[e.crossAxisSize]/2},Hv=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Yr(n.line,r.marginBox[n.end]+vE(n,i),_p(n,r.marginBox,i))},qv=function(e){var n=e.axis,r=e.moveRelativeTo,i=e.isMoving;return Yr(n.line,r.marginBox[n.start]-Rx(n,i),_p(n,r.marginBox,i))},Dx=function(e){var n=e.axis,r=e.moveInto,i=e.isMoving;return Yr(n.line,r.contentBox[n.start]+vE(n,i),_p(n,r.contentBox,i))},kx=function(t){var e=t.impact,n=t.draggable,r=t.draggables,i=t.droppable,o=t.afterCritical,s=ho(i.descriptor.id,r),a=n.page,u=i.axis;if(!s.length)return Dx({axis:u,moveInto:i.page,isMoving:a});var c=e.displaced,d=e.displacedBy,h=c.all[0];if(h){var p=r[h];if(wr(h,o))return qv({axis:u,moveRelativeTo:p.page,isMoving:a});var m=ru(p.page,d.point);return qv({axis:u,moveRelativeTo:m,isMoving:a})}var v=s[s.length-1];if(v.descriptor.id===n.descriptor.id)return a.borderBox.center;if(wr(v.descriptor.id,o)){var b=ru(v.page,fo(o.displacedBy.point));return Hv({axis:u,moveRelativeTo:b,isMoving:a})}return Hv({axis:u,moveRelativeTo:v.page,isMoving:a})},Nf=function(t,e){var n=t.frame;return n?nt(e,n.scroll.diff.displacement):e},Nx=function(e){var n=e.impact,r=e.draggable,i=e.droppable,o=e.draggables,s=e.afterCritical,a=r.page.borderBox.center,u=n.at;return!i||!u?a:u.type==="REORDER"?kx({impact:n,draggable:r,draggables:o,droppable:i,afterCritical:s}):Px({impact:n,draggables:o,afterCritical:s})},ec=function(t){var e=Nx(t),n=t.droppable,r=n?Nf(n,e):e;return r},yE=function(t,e){var n=Ft(e,t.scroll.initial),r=fo(n),i=dn({top:e.y,bottom:e.y+t.frame.height,left:e.x,right:e.x+t.frame.width}),o={frame:i,scroll:{initial:t.scroll.initial,max:t.scroll.max,current:e,diff:{value:n,displacement:r}}};return o};function Kv(t,e){return t.map(function(n){return e[n]})}function Ox(t,e){for(var n=0;n<e.length;n++){var r=e[n].visible[t];if(r)return r}return null}var Vx=function(t){var e=t.impact,n=t.viewport,r=t.destination,i=t.draggables,o=t.maxScrollChange,s=yE(n,nt(n.scroll.current,o)),a=r.frame?gp(r,nt(r.frame.scroll.current,o)):r,u=e.displaced,c=Bs({afterDragging:Kv(u.all,i),destination:r,displacedBy:e.displacedBy,viewport:s.frame,last:u,forceShouldAnimate:!1}),d=Bs({afterDragging:Kv(u.all,i),destination:a,displacedBy:e.displacedBy,viewport:n.frame,last:u,forceShouldAnimate:!1}),h={},p={},m=[u,c,d];u.all.forEach(function(b){var R=Ox(b,m);if(R){p[b]=R;return}h[b]=!0});var v=X({},e,{displaced:{all:u.all,invisible:h,visible:p}});return v},Mx=function(t,e){return nt(t.scroll.diff.displacement,e)},Ep=function(t){var e=t.pageBorderBoxCenter,n=t.draggable,r=t.viewport,i=Mx(r,e),o=Ft(i,n.page.borderBox.center);return nt(n.client.borderBox.center,o)},wE=function(t){var e=t.draggable,n=t.destination,r=t.newPageBorderBoxCenter,i=t.viewport,o=t.withDroppableDisplacement,s=t.onlyOnMainAxis,a=s===void 0?!1:s,u=Ft(r,e.page.borderBox.center),c=da(e.page.borderBox,u),d={target:c,destination:n,withDroppableDisplacement:o,viewport:i};return a?Ex(d):mE(d)},Lx=function(t){var e=t.isMovingForward,n=t.draggable,r=t.destination,i=t.draggables,o=t.previousImpact,s=t.viewport,a=t.previousPageBorderBoxCenter,u=t.previousClientSelection,c=t.afterCritical;if(!r.isEnabled)return null;var d=ho(r.descriptor.id,i),h=po(n,r),p=hx({isMovingForward:e,draggable:n,destination:r,insideDestination:d,previousImpact:o})||Cx({isMovingForward:e,isInHomeList:h,draggable:n,draggables:i,destination:r,insideDestination:d,previousImpact:o,viewport:s,afterCritical:c});if(!p)return null;var m=ec({impact:p,draggable:n,droppable:r,draggables:i,afterCritical:c}),v=wE({draggable:n,destination:r,newPageBorderBoxCenter:m,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var b=Ep({pageBorderBoxCenter:m,draggable:n,viewport:s});return{clientSelection:b,impact:p,scrollJumpRequest:null}}var R=Ft(m,a),T=Vx({impact:p,viewport:s,destination:r,draggables:i,maxScrollChange:R});return{clientSelection:u,impact:T,scrollJumpRequest:R}},Et=function(e){var n=e.subject.active;return n||U(!1),n},Fx=function(t){var e=t.isMovingForward,n=t.pageBorderBoxCenter,r=t.source,i=t.droppables,o=t.viewport,s=r.subject.active;if(!s)return null;var a=r.axis,u=tn(s[a.start],s[a.end]),c=Xu(i).filter(function(h){return h!==r}).filter(function(h){return h.isEnabled}).filter(function(h){return!!h.subject.active}).filter(function(h){return pE(o.frame)(Et(h))}).filter(function(h){var p=Et(h);return e?s[a.crossAxisEnd]<p[a.crossAxisEnd]:p[a.crossAxisStart]<s[a.crossAxisStart]}).filter(function(h){var p=Et(h),m=tn(p[a.start],p[a.end]);return u(p[a.start])||u(p[a.end])||m(s[a.start])||m(s[a.end])}).sort(function(h,p){var m=Et(h)[a.crossAxisStart],v=Et(p)[a.crossAxisStart];return e?m-v:v-m}).filter(function(h,p,m){return Et(h)[a.crossAxisStart]===Et(m[0])[a.crossAxisStart]});if(!c.length)return null;if(c.length===1)return c[0];var d=c.filter(function(h){var p=tn(Et(h)[a.start],Et(h)[a.end]);return p(n[a.line])});return d.length===1?d[0]:d.length>1?d.sort(function(h,p){return Et(h)[a.start]-Et(p)[a.start]})[0]:c.sort(function(h,p){var m=zv(n,Wv(Et(h))),v=zv(n,Wv(Et(p)));return m!==v?m-v:Et(h)[a.start]-Et(p)[a.start]})[0]},Qv=function(e,n){var r=e.page.borderBox.center;return wr(e.descriptor.id,n)?Ft(r,n.displacedBy.point):r},Bx=function(e,n){var r=e.page.borderBox;return wr(e.descriptor.id,n)?da(r,fo(n.displacedBy.point)):r},jx=function(t){var e=t.pageBorderBoxCenter,n=t.viewport,r=t.destination,i=t.insideDestination,o=t.afterCritical,s=i.filter(function(a){return mE({target:Bx(a,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})}).sort(function(a,u){var c=Ls(e,Nf(r,Qv(a,o))),d=Ls(e,Nf(r,Qv(u,o)));return c<d?-1:d<c?1:a.descriptor.index-u.descriptor.index});return s[0]||null},fa=Ke(function(e,n){var r=n[e.line];return{value:r,point:Yr(e.line,r)}}),Ux=function(e,n,r){var i=e.axis;if(e.descriptor.mode==="virtual")return Yr(i.line,n[i.line]);var o=e.subject.page.contentBox[i.size],s=ho(e.descriptor.id,r),a=s.reduce(function(d,h){return d+h.client.marginBox[i.size]},0),u=a+n[i.line],c=u-o;return c<=0?null:Yr(i.line,c)},_E=function(e,n){return X({},e,{scroll:X({},e.scroll,{max:n})})},EE=function(e,n,r){var i=e.frame;po(n,e)&&U(!1),e.subject.withPlaceholder&&U(!1);var o=fa(e.axis,n.displaceBy).point,s=Ux(e,o,r),a={placeholderSize:o,increasedBy:s,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!i){var u=Ji({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return X({},e,{subject:u})}var c=s?nt(i.scroll.max,s):i.scroll.max,d=_E(i,c),h=Ji({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:d});return X({},e,{subject:h,frame:d})},$x=function(e){var n=e.subject.withPlaceholder;n||U(!1);var r=e.frame;if(!r){var i=Ji({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return X({},e,{subject:i})}var o=n.oldFrameMaxScroll;o||U(!1);var s=_E(r,o),a=Ji({page:e.subject.page,axis:e.axis,frame:s,withPlaceholder:null});return X({},e,{subject:a,frame:s})},zx=function(t){var e=t.previousPageBorderBoxCenter,n=t.moveRelativeTo,r=t.insideDestination,i=t.draggable,o=t.draggables,s=t.destination,a=t.viewport,u=t.afterCritical;if(!n){if(r.length)return null;var c={displaced:Fs,displacedBy:hE,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},d=ec({impact:c,draggable:i,droppable:s,draggables:o,afterCritical:u}),h=po(i,s)?s:EE(s,i,o),p=wE({draggable:i,destination:h,newPageBorderBoxCenter:d,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return p?c:null}var m=e[s.axis.line]<=n.page.borderBox.center[s.axis.line],v=function(){var R=n.descriptor.index;return n.descriptor.id===i.descriptor.id||m?R:R+1}(),b=fa(s.axis,i.displaceBy);return lu({draggable:i,insideDestination:r,destination:s,viewport:a,displacedBy:b,last:Fs,index:v})},Wx=function(t){var e=t.isMovingForward,n=t.previousPageBorderBoxCenter,r=t.draggable,i=t.isOver,o=t.draggables,s=t.droppables,a=t.viewport,u=t.afterCritical,c=Fx({isMovingForward:e,pageBorderBoxCenter:n,source:i,droppables:s,viewport:a});if(!c)return null;var d=ho(c.descriptor.id,o),h=jx({pageBorderBoxCenter:n,viewport:a,destination:c,insideDestination:d,afterCritical:u}),p=zx({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:h,insideDestination:d,viewport:a,afterCritical:u});if(!p)return null;var m=ec({impact:p,draggable:r,droppable:c,draggables:o,afterCritical:u}),v=Ep({pageBorderBoxCenter:m,draggable:r,viewport:a});return{clientSelection:v,impact:p,scrollJumpRequest:null}},Ut=function(t){var e=t.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},Gx=function(e,n){var r=Ut(e);return r?n[r]:null},Hx=function(t){var e=t.state,n=t.type,r=Gx(e.impact,e.dimensions.droppables),i=!!r,o=e.dimensions.droppables[e.critical.droppable.id],s=r||o,a=s.axis.direction,u=a==="vertical"&&(n==="MOVE_UP"||n==="MOVE_DOWN")||a==="horizontal"&&(n==="MOVE_LEFT"||n==="MOVE_RIGHT");if(u&&!i)return null;var c=n==="MOVE_DOWN"||n==="MOVE_RIGHT",d=e.dimensions.draggables[e.critical.draggable.id],h=e.current.page.borderBoxCenter,p=e.dimensions,m=p.draggables,v=p.droppables;return u?Lx({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,destination:s,draggables:m,viewport:e.viewport,previousClientSelection:e.current.client.selection,previousImpact:e.impact,afterCritical:e.afterCritical}):Wx({isMovingForward:c,previousPageBorderBoxCenter:h,draggable:d,isOver:s,draggables:m,droppables:v,viewport:e.viewport,afterCritical:e.afterCritical})};function Mr(t){return t.phase==="DRAGGING"||t.phase==="COLLECTING"}function TE(t){var e=tn(t.top,t.bottom),n=tn(t.left,t.right);return function(i){return e(i.y)&&n(i.x)}}function qx(t,e){return t.left<e.right&&t.right>e.left&&t.top<e.bottom&&t.bottom>e.top}function Kx(t){var e=t.pageBorderBox,n=t.draggable,r=t.candidates,i=n.page.borderBox.center,o=r.map(function(s){var a=s.axis,u=Yr(s.axis.line,e.center[a.line],s.page.borderBox.center[a.crossAxisLine]);return{id:s.descriptor.id,distance:Ls(i,u)}}).sort(function(s,a){return a.distance-s.distance});return o[0]?o[0].id:null}function Qx(t){var e=t.pageBorderBox,n=t.draggable,r=t.droppables,i=Xu(r).filter(function(o){if(!o.isEnabled)return!1;var s=o.subject.active;if(!s||!qx(e,s))return!1;if(TE(s)(e.center))return!0;var a=o.axis,u=s.center[a.crossAxisLine],c=e[a.crossAxisStart],d=e[a.crossAxisEnd],h=tn(s[a.crossAxisStart],s[a.crossAxisEnd]),p=h(c),m=h(d);return!p&&!m?!0:p?c<u:d>u});return i.length?i.length===1?i[0].descriptor.id:Kx({pageBorderBox:e,draggable:n,candidates:i}):null}var IE=function(e,n){return dn(da(e,n))},Yx=function(t,e){var n=t.frame;return n?IE(e,n.scroll.diff.value):e};function SE(t){var e=t.displaced,n=t.id;return!!(e.visible[n]||e.invisible[n])}function Xx(t){var e=t.draggable,n=t.closest,r=t.inHomeList;return n?r&&n.descriptor.index>e.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}var Jx=function(t){var e=t.pageBorderBoxWithDroppableScroll,n=t.draggable,r=t.destination,i=t.insideDestination,o=t.last,s=t.viewport,a=t.afterCritical,u=r.axis,c=fa(r.axis,n.displaceBy),d=c.value,h=e[u.start],p=e[u.end],m=Zu(n,i),v=Ar(m,function(R){var T=R.descriptor.id,y=R.page.borderBox.center[u.line],E=wr(T,a),C=SE({displaced:o,id:T});return E?C?p<=y:h<y-d:C?p<=y+d:h<y}),b=Xx({draggable:n,closest:v,inHomeList:po(n,r)});return lu({draggable:n,insideDestination:i,destination:r,viewport:s,last:o,displacedBy:c,index:b})},Zx=4,eP=function(t){var e=t.draggable,n=t.pageBorderBoxWithDroppableScroll,r=t.previousImpact,i=t.destination,o=t.insideDestination,s=t.afterCritical;if(!i.isCombineEnabled)return null;var a=i.axis,u=fa(i.axis,e.displaceBy),c=u.value,d=n[a.start],h=n[a.end],p=Zu(e,o),m=Ar(p,function(b){var R=b.descriptor.id,T=b.page.borderBox,y=T[a.size],E=y/Zx,C=wr(R,s),k=SE({displaced:r.displaced,id:R});return C?k?h>T[a.start]+E&&h<T[a.end]-E:d>T[a.start]-c+E&&d<T[a.end]-c-E:k?h>T[a.start]+c+E&&h<T[a.end]+c-E:d>T[a.start]+E&&d<T[a.end]-E});if(!m)return null;var v={displacedBy:u,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:m.descriptor.id,droppableId:i.descriptor.id}}};return v},bE=function(t){var e=t.pageOffset,n=t.draggable,r=t.draggables,i=t.droppables,o=t.previousImpact,s=t.viewport,a=t.afterCritical,u=IE(n.page.borderBox,e),c=Qx({pageBorderBox:u,draggable:n,droppables:i});if(!c)return px;var d=i[c],h=ho(d.descriptor.id,r),p=Yx(d,u);return eP({pageBorderBoxWithDroppableScroll:p,draggable:n,previousImpact:o,destination:d,insideDestination:h,afterCritical:a})||Jx({pageBorderBoxWithDroppableScroll:p,draggable:n,destination:d,insideDestination:h,last:o.displaced,viewport:s,afterCritical:a})},Tp=function(t,e){var n;return X({},t,(n={},n[e.descriptor.id]=e,n))},tP=function(e){var n=e.previousImpact,r=e.impact,i=e.droppables,o=Ut(n),s=Ut(r);if(!o||o===s)return i;var a=i[o];if(!a.subject.withPlaceholder)return i;var u=$x(a);return Tp(i,u)},nP=function(t){var e=t.draggable,n=t.draggables,r=t.droppables,i=t.previousImpact,o=t.impact,s=tP({previousImpact:i,impact:o,droppables:r}),a=Ut(o);if(!a)return s;var u=r[a];if(po(e,u)||u.subject.withPlaceholder)return s;var c=EE(u,e,n);return Tp(s,c)},ds=function(t){var e=t.state,n=t.clientSelection,r=t.dimensions,i=t.viewport,o=t.impact,s=t.scrollJumpRequest,a=i||e.viewport,u=r||e.dimensions,c=n||e.current.client.selection,d=Ft(c,e.initial.client.selection),h={offset:d,selection:c,borderBoxCenter:nt(e.initial.client.borderBoxCenter,d)},p={selection:nt(h.selection,a.scroll.current),borderBoxCenter:nt(h.borderBoxCenter,a.scroll.current),offset:nt(h.offset,a.scroll.diff.value)},m={client:h,page:p};if(e.phase==="COLLECTING")return X({phase:"COLLECTING"},e,{dimensions:u,viewport:a,current:m});var v=u.draggables[e.critical.draggable.id],b=o||bE({pageOffset:p.offset,draggable:v,draggables:u.draggables,droppables:u.droppables,previousImpact:e.impact,viewport:a,afterCritical:e.afterCritical}),R=nP({draggable:v,impact:b,previousImpact:e.impact,draggables:u.draggables,droppables:u.droppables}),T=X({},e,{current:m,dimensions:{draggables:u.draggables,droppables:R},impact:b,viewport:a,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return T};function rP(t,e){return t.map(function(n){return e[n]})}var AE=function(t){var e=t.impact,n=t.viewport,r=t.draggables,i=t.destination,o=t.forceShouldAnimate,s=e.displaced,a=rP(s.all,r),u=Bs({afterDragging:a,destination:i,displacedBy:e.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:s});return X({},e,{displaced:u})},CE=function(t){var e=t.impact,n=t.draggable,r=t.droppable,i=t.draggables,o=t.viewport,s=t.afterCritical,a=ec({impact:e,draggable:n,draggables:i,droppable:r,afterCritical:s});return Ep({pageBorderBoxCenter:a,draggable:n,viewport:o})},xE=function(t){var e=t.state,n=t.dimensions,r=t.viewport;e.movementMode!=="SNAP"&&U(!1);var i=e.impact,o=r||e.viewport,s=n||e.dimensions,a=s.draggables,u=s.droppables,c=a[e.critical.draggable.id],d=Ut(i);d||U(!1);var h=u[d],p=AE({impact:i,viewport:o,destination:h,draggables:a}),m=CE({impact:p,draggable:c,droppable:h,draggables:a,viewport:o,afterCritical:e.afterCritical});return ds({impact:p,clientSelection:m,state:e,dimensions:s,viewport:o})},iP=function(t){return{index:t.index,droppableId:t.droppableId}},PE=function(t){var e=t.draggable,n=t.home,r=t.draggables,i=t.viewport,o=fa(n.axis,e.displaceBy),s=ho(n.descriptor.id,r),a=s.indexOf(e);a===-1&&U(!1);var u=s.slice(a+1),c=u.reduce(function(m,v){return m[v.descriptor.id]=!0,m},{}),d={inVirtualList:n.descriptor.mode==="virtual",displacedBy:o,effected:c},h=Bs({afterDragging:u,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),p={displaced:h,displacedBy:o,at:{type:"REORDER",destination:iP(e.descriptor)}};return{impact:p,afterCritical:d}},oP=function(t,e){return{draggables:t.draggables,droppables:Tp(t.droppables,e)}},sP=function(t){var e=t.draggable,n=t.offset,r=t.initialWindowScroll,i=ru(e.client,n),o=iu(i,r),s=X({},e,{placeholder:X({},e.placeholder,{client:i}),client:i,page:o});return s},aP=function(t){var e=t.frame;return e||U(!1),e},lP=function(t){var e=t.additions,n=t.updatedDroppables,r=t.viewport,i=r.scroll.diff.value;return e.map(function(o){var s=o.descriptor.droppableId,a=n[s],u=aP(a),c=u.scroll.diff.value,d=nt(i,c),h=sP({draggable:o,offset:d,initialWindowScroll:r.scroll.initial});return h})},uP=function(t){var e=t.state,n=t.published,r=n.modified.map(function(E){var C=e.dimensions.droppables[E.droppableId],k=gp(C,E.scroll);return k}),i=X({},e.dimensions.droppables,{},dE(r)),o=fE(lP({additions:n.additions,updatedDroppables:i,viewport:e.viewport})),s=X({},e.dimensions.draggables,{},o);n.removals.forEach(function(E){delete s[E]});var a={droppables:i,draggables:s},u=Ut(e.impact),c=u?a.droppables[u]:null,d=a.draggables[e.critical.draggable.id],h=a.droppables[e.critical.droppable.id],p=PE({draggable:d,home:h,draggables:s,viewport:e.viewport}),m=p.impact,v=p.afterCritical,b=c&&c.isCombineEnabled?e.impact:m,R=bE({pageOffset:e.current.page.offset,draggable:a.draggables[e.critical.draggable.id],draggables:a.draggables,droppables:a.droppables,previousImpact:b,viewport:e.viewport,afterCritical:v}),T=X({phase:"DRAGGING"},e,{phase:"DRAGGING",impact:R,onLiftImpact:m,dimensions:a,afterCritical:v,forceShouldAnimate:!1});if(e.phase==="COLLECTING")return T;var y=X({phase:"DROP_PENDING"},T,{phase:"DROP_PENDING",reason:e.reason,isWaiting:!1});return y},Of=function(e){return e.movementMode==="SNAP"},yd=function(e,n,r){var i=oP(e.dimensions,n);return!Of(e)||r?ds({state:e,dimensions:i}):xE({state:e,dimensions:i})};function wd(t){return t.isDragging&&t.movementMode==="SNAP"?X({phase:"DRAGGING"},t,{scrollJumpRequest:null}):t}var Yv={phase:"IDLE",completed:null,shouldFlush:!1},cP=function(t,e){if(t===void 0&&(t=Yv),e.type==="FLUSH")return X({},Yv,{shouldFlush:!0});if(e.type==="INITIAL_PUBLISH"){t.phase!=="IDLE"&&U(!1);var n=e.payload,r=n.critical,i=n.clientSelection,o=n.viewport,s=n.dimensions,a=n.movementMode,u=s.draggables[r.draggable.id],c=s.droppables[r.droppable.id],d={selection:i,borderBoxCenter:u.client.borderBox.center,offset:Qe},h={client:d,page:{selection:nt(d.selection,o.scroll.initial),borderBoxCenter:nt(d.selection,o.scroll.initial),offset:nt(d.selection,o.scroll.diff.value)}},p=Xu(s.droppables).every(function($n){return!$n.isFixedOnPage}),m=PE({draggable:u,home:c,draggables:s.draggables,viewport:o}),v=m.impact,b=m.afterCritical,R={phase:"DRAGGING",isDragging:!0,critical:r,movementMode:a,dimensions:s,initial:h,current:h,isWindowScrollAllowed:p,impact:v,afterCritical:b,onLiftImpact:v,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null};return R}if(e.type==="COLLECTION_STARTING"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&U(!1);var T=X({phase:"COLLECTING"},t,{phase:"COLLECTING"});return T}if(e.type==="PUBLISH_WHILE_DRAGGING")return t.phase==="COLLECTING"||t.phase==="DROP_PENDING"||U(!1),uP({state:t,published:e.payload});if(e.type==="MOVE"){if(t.phase==="DROP_PENDING")return t;Mr(t)||U(!1);var y=e.payload.client;return dr(y,t.current.client.selection)?t:ds({state:t,clientSelection:y,impact:Of(t)?t.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="COLLECTING")return wd(t);Mr(t)||U(!1);var E=e.payload,C=E.id,k=E.newScroll,V=t.dimensions.droppables[C];if(!V)return t;var I=gp(V,k);return yd(t,I,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(t.phase==="DROP_PENDING")return t;Mr(t)||U(!1);var _=e.payload,S=_.id,A=_.isEnabled,P=t.dimensions.droppables[S];P||U(!1),P.isEnabled===A&&U(!1);var D=X({},P,{isEnabled:A});return yd(t,D,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(t.phase==="DROP_PENDING")return t;Mr(t)||U(!1);var x=e.payload,ae=x.id,Me=x.isCombineEnabled,ze=t.dimensions.droppables[ae];ze||U(!1),ze.isCombineEnabled===Me&&U(!1);var at=X({},ze,{isCombineEnabled:Me});return yd(t,at,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(t.phase==="DROP_PENDING"||t.phase==="DROP_ANIMATING")return t;Mr(t)||U(!1),t.isWindowScrollAllowed||U(!1);var z=e.payload.newScroll;if(dr(t.viewport.scroll.current,z))return wd(t);var Y=yE(t.viewport,z);return Of(t)?xE({state:t,viewport:Y}):ds({state:t,viewport:Y})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Mr(t))return t;var Q=e.payload.maxScroll;if(dr(Q,t.viewport.scroll.max))return t;var pe=X({},t.viewport,{scroll:X({},t.viewport.scroll,{max:Q})});return X({phase:"DRAGGING"},t,{viewport:pe})}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(t.phase==="COLLECTING"||t.phase==="DROP_PENDING")return t;t.phase!=="DRAGGING"&&U(!1);var re=Hx({state:t,type:e.type});return re?ds({state:t,impact:re.impact,clientSelection:re.clientSelection,scrollJumpRequest:re.scrollJumpRequest}):t}if(e.type==="DROP_PENDING"){var ye=e.payload.reason;t.phase!=="COLLECTING"&&U(!1);var At=X({phase:"DROP_PENDING"},t,{phase:"DROP_PENDING",isWaiting:!0,reason:ye});return At}if(e.type==="DROP_ANIMATE"){var We=e.payload,Ct=We.completed,yt=We.dropDuration,ai=We.newHomeClientOffset;t.phase==="DRAGGING"||t.phase==="DROP_PENDING"||U(!1);var _o={phase:"DROP_ANIMATING",completed:Ct,dropDuration:yt,newHomeClientOffset:ai,dimensions:t.dimensions};return _o}if(e.type==="DROP_COMPLETE"){var on=e.payload.completed;return{phase:"IDLE",completed:on,shouldFlush:!1}}return t},dP=function(e){return{type:"BEFORE_INITIAL_CAPTURE",payload:e}},fP=function(e){return{type:"LIFT",payload:e}},hP=function(e){return{type:"INITIAL_PUBLISH",payload:e}},pP=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},gP=function(){return{type:"COLLECTION_STARTING",payload:null}},mP=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},vP=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},yP=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},RE=function(e){return{type:"MOVE",payload:e}},wP=function(e){return{type:"MOVE_BY_WINDOW_SCROLL",payload:e}},_P=function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}},EP=function(){return{type:"MOVE_UP",payload:null}},TP=function(){return{type:"MOVE_DOWN",payload:null}},IP=function(){return{type:"MOVE_RIGHT",payload:null}},SP=function(){return{type:"MOVE_LEFT",payload:null}},Ip=function(){return{type:"FLUSH",payload:null}},bP=function(e){return{type:"DROP_ANIMATE",payload:e}},Sp=function(e){return{type:"DROP_COMPLETE",payload:e}},DE=function(e){return{type:"DROP",payload:e}},AP=function(e){return{type:"DROP_PENDING",payload:e}},kE=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},CP=function(t){return function(e){var n=e.getState,r=e.dispatch;return function(i){return function(o){if(o.type!=="LIFT"){i(o);return}var s=o.payload,a=s.id,u=s.clientSelection,c=s.movementMode,d=n();d.phase==="DROP_ANIMATING"&&r(Sp({completed:d.completed})),n().phase!=="IDLE"&&U(!1),r(Ip()),r(dP({draggableId:a,movementMode:c}));var h={shouldPublishImmediately:c==="SNAP"},p={draggableId:a,scrollOptions:h},m=t.startPublishing(p),v=m.critical,b=m.dimensions,R=m.viewport;r(hP({critical:v,dimensions:b,clientSelection:u,movementMode:c,viewport:R}))}}}},xP=function(t){return function(){return function(e){return function(n){n.type==="INITIAL_PUBLISH"&&t.dragging(),n.type==="DROP_ANIMATE"&&t.dropping(n.payload.completed.result.reason),(n.type==="FLUSH"||n.type==="DROP_COMPLETE")&&t.resting(),e(n)}}}},bp={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},js={opacity:{drop:0,combining:.7},scale:{drop:.75}},Ap={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Nr=Ap.outOfTheWay+"s "+bp.outOfTheWay,fs={fluid:"opacity "+Nr,snap:"transform "+Nr+", opacity "+Nr,drop:function(e){var n=e+"s "+bp.drop;return"transform "+n+", opacity "+n},outOfTheWay:"transform "+Nr,placeholder:"height "+Nr+", width "+Nr+", margin "+Nr},Xv=function(e){return dr(e,Qe)?null:"translate("+e.x+"px, "+e.y+"px)"},Vf={moveTo:Xv,drop:function(e,n){var r=Xv(e);return r?n?r+" scale("+js.scale.drop+")":r:null}},Mf=Ap.minDropTime,NE=Ap.maxDropTime,PP=NE-Mf,Jv=1500,RP=.6,DP=function(t){var e=t.current,n=t.destination,r=t.reason,i=Ls(e,n);if(i<=0)return Mf;if(i>=Jv)return NE;var o=i/Jv,s=Mf+PP*o,a=r==="CANCEL"?s*RP:s;return Number(a.toFixed(2))},kP=function(t){var e=t.impact,n=t.draggable,r=t.dimensions,i=t.viewport,o=t.afterCritical,s=r.draggables,a=r.droppables,u=Ut(e),c=u?a[u]:null,d=a[n.descriptor.droppableId],h=CE({impact:e,draggable:n,draggables:s,afterCritical:o,droppable:c||d,viewport:i}),p=Ft(h,n.client.borderBox.center);return p},NP=function(t){var e=t.draggables,n=t.reason,r=t.lastImpact,i=t.home,o=t.viewport,s=t.onLiftImpact;if(!r.at||n!=="DROP"){var a=AE({draggables:e,impact:s,destination:i,viewport:o,forceShouldAnimate:!0});return{impact:a,didDropInsideDroppable:!1}}if(r.at.type==="REORDER")return{impact:r,didDropInsideDroppable:!0};var u=X({},r,{displaced:Fs});return{impact:u,didDropInsideDroppable:!0}},OP=function(t){var e=t.getState,n=t.dispatch;return function(r){return function(i){if(i.type!=="DROP"){r(i);return}var o=e(),s=i.payload.reason;if(o.phase==="COLLECTING"){n(AP({reason:s}));return}if(o.phase!=="IDLE"){var a=o.phase==="DROP_PENDING"&&o.isWaiting;a&&U(!1),o.phase==="DRAGGING"||o.phase==="DROP_PENDING"||U(!1);var u=o.critical,c=o.dimensions,d=c.draggables[o.critical.draggable.id],h=NP({reason:s,lastImpact:o.impact,afterCritical:o.afterCritical,onLiftImpact:o.onLiftImpact,home:o.dimensions.droppables[o.critical.droppable.id],viewport:o.viewport,draggables:o.dimensions.draggables}),p=h.impact,m=h.didDropInsideDroppable,v=m?vp(p):null,b=m?Ju(p):null,R={index:u.draggable.index,droppableId:u.droppable.id},T={draggableId:d.descriptor.id,type:d.descriptor.type,source:R,reason:s,mode:o.movementMode,destination:v,combine:b},y=kP({impact:p,draggable:d,dimensions:c,viewport:o.viewport,afterCritical:o.afterCritical}),E={critical:o.critical,afterCritical:o.afterCritical,result:T,impact:p},C=!dr(o.current.client.offset,y)||!!T.combine;if(!C){n(Sp({completed:E}));return}var k=DP({current:o.current.client.offset,destination:y,reason:s}),V={newHomeClientOffset:y,dropDuration:k,completed:E};n(bP(V))}}}},OE=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function VP(t){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(n){n.target!==window&&n.target!==window.document||t()}}}function MP(t){var e=t.onWindowScroll;function n(){e(OE())}var r=Ms(n),i=VP(r),o=cr;function s(){return o!==cr}function a(){s()&&U(!1),o=Zt(window,[i])}function u(){s()||U(!1),r.cancel(),o(),o=cr}return{start:a,stop:u,isActive:s}}var LP=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},FP=function(t){var e=MP({onWindowScroll:function(r){t.dispatch(wP({newScroll:r}))}});return function(n){return function(r){!e.isActive()&&r.type==="INITIAL_PUBLISH"&&e.start(),e.isActive()&&LP(r)&&e.stop(),n(r)}}},BP=function(t){var e=!1,n=!1,r=setTimeout(function(){n=!0}),i=function(s){e||n||(e=!0,t(s),clearTimeout(r))};return i.wasCalled=function(){return e},i},jP=function(){var t=[],e=function(o){var s=mp(t,function(c){return c.timerId===o});s===-1&&U(!1);var a=t.splice(s,1),u=a[0];u.callback()},n=function(o){var s=setTimeout(function(){return e(s)}),a={timerId:s,callback:o};t.push(a)},r=function(){if(t.length){var o=[].concat(t);t.length=0,o.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:n,flush:r}},UP=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.droppableId===n.droppableId&&e.index===n.index},$P=function(e,n){return e==null&&n==null?!0:e==null||n==null?!1:e.draggableId===n.draggableId&&e.droppableId===n.droppableId},zP=function(e,n){if(e===n)return!0;var r=e.draggable.id===n.draggable.id&&e.draggable.droppableId===n.draggable.droppableId&&e.draggable.type===n.draggable.type&&e.draggable.index===n.draggable.index,i=e.droppable.id===n.droppable.id&&e.droppable.type===n.droppable.type;return r&&i},$o=function(e,n){n()},el=function(e,n){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:n}},_d=function(e,n,r,i){if(!e){r(i(n));return}var o=BP(r),s={announce:o};e(n,s),o.wasCalled()||r(i(n))},WP=function(t,e){var n=jP(),r=null,i=function(p,m){r&&U(!1),$o("onBeforeCapture",function(){var v=t().onBeforeCapture;if(v){var b={draggableId:p,mode:m};v(b)}})},o=function(p,m){r&&U(!1),$o("onBeforeDragStart",function(){var v=t().onBeforeDragStart;v&&v(el(p,m))})},s=function(p,m){r&&U(!1);var v=el(p,m);r={mode:m,lastCritical:p,lastLocation:v.source,lastCombine:null},n.add(function(){$o("onDragStart",function(){return _d(t().onDragStart,v,e,Tl.onDragStart)})})},a=function(p,m){var v=vp(m),b=Ju(m);r||U(!1);var R=!zP(p,r.lastCritical);R&&(r.lastCritical=p);var T=!UP(r.lastLocation,v);T&&(r.lastLocation=v);var y=!$P(r.lastCombine,b);if(y&&(r.lastCombine=b),!(!R&&!T&&!y)){var E=X({},el(p,r.mode),{combine:b,destination:v});n.add(function(){$o("onDragUpdate",function(){return _d(t().onDragUpdate,E,e,Tl.onDragUpdate)})})}},u=function(){r||U(!1),n.flush()},c=function(p){r||U(!1),r=null,$o("onDragEnd",function(){return _d(t().onDragEnd,p,e,Tl.onDragEnd)})},d=function(){if(r){var p=X({},el(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});c(p)}};return{beforeCapture:i,beforeStart:o,start:s,update:a,flush:u,drop:c,abort:d}},GP=function(t,e){var n=WP(t,e);return function(r){return function(i){return function(o){if(o.type==="BEFORE_INITIAL_CAPTURE"){n.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(o.type==="INITIAL_PUBLISH"){var s=o.payload.critical;n.beforeStart(s,o.payload.movementMode),i(o),n.start(s,o.payload.movementMode);return}if(o.type==="DROP_COMPLETE"){var a=o.payload.completed.result;n.flush(),i(o),n.drop(a);return}if(i(o),o.type==="FLUSH"){n.abort();return}var u=r.getState();u.phase==="DRAGGING"&&n.update(u.critical,u.impact)}}}},HP=function(t){return function(e){return function(n){if(n.type!=="DROP_ANIMATION_FINISHED"){e(n);return}var r=t.getState();r.phase!=="DROP_ANIMATING"&&U(!1),t.dispatch(Sp({completed:r.completed}))}}},qP=function(t){var e=null,n=null;function r(){n&&(cancelAnimationFrame(n),n=null),e&&(e(),e=null)}return function(i){return function(o){if((o.type==="FLUSH"||o.type==="DROP_COMPLETE"||o.type==="DROP_ANIMATION_FINISHED")&&r(),i(o),o.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var u=t.getState();u.phase==="DROP_ANIMATING"&&t.dispatch(kE())}};n=requestAnimationFrame(function(){n=null,e=Zt(window,[s])})}}}},KP=function(t){return function(){return function(e){return function(n){(n.type==="DROP_COMPLETE"||n.type==="FLUSH"||n.type==="DROP_ANIMATE")&&t.stopPublishing(),e(n)}}}},QP=function(t){var e=!1;return function(){return function(n){return function(r){if(r.type==="INITIAL_PUBLISH"){e=!0,t.tryRecordFocus(r.payload.critical.draggable.id),n(r),t.tryRestoreFocusRecorded();return}if(n(r),!!e){if(r.type==="FLUSH"){e=!1,t.tryRestoreFocusRecorded();return}if(r.type==="DROP_COMPLETE"){e=!1;var i=r.payload.completed.result;i.combine&&t.tryShiftRecord(i.draggableId,i.combine.draggableId),t.tryRestoreFocusRecorded()}}}}}},YP=function(e){return e.type==="DROP_COMPLETE"||e.type==="DROP_ANIMATE"||e.type==="FLUSH"},XP=function(t){return function(e){return function(n){return function(r){if(YP(r)){t.stop(),n(r);return}if(r.type==="INITIAL_PUBLISH"){n(r);var i=e.getState();i.phase!=="DRAGGING"&&U(!1),t.start(i);return}n(r),t.scroll(e.getState())}}}},JP=function(t){return function(e){return function(n){if(e(n),n.type==="PUBLISH_WHILE_DRAGGING"){var r=t.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||t.dispatch(DE({reason:r.reason})))}}}},ZP=L_,eR=function(t){var e=t.dimensionMarshal,n=t.focusMarshal,r=t.styleMarshal,i=t.getResponders,o=t.announce,s=t.autoScroller;return M_(cP,ZP(OA(xP(r),KP(e),CP(e),OP,HP,qP,JP,XP(s),FP,QP(n),GP(i,o))))},Ed=function(){return{additions:{},removals:{},modified:{}}};function tR(t){var e=t.registry,n=t.callbacks,r=Ed(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame(function(){i=null;var d=r,h=d.additions,p=d.removals,m=d.modified,v=Object.keys(h).map(function(T){return e.draggable.getById(T).getDimension(Qe)}).sort(function(T,y){return T.descriptor.index-y.descriptor.index}),b=Object.keys(m).map(function(T){var y=e.droppable.getById(T),E=y.callbacks.getScrollWhileDragging();return{droppableId:T,scroll:E}}),R={additions:v,removals:Object.keys(p),modified:b};r=Ed(),n.publish(R)}))},s=function(d){var h=d.descriptor.id;r.additions[h]=d,r.modified[d.descriptor.droppableId]=!0,r.removals[h]&&delete r.removals[h],o()},a=function(d){var h=d.descriptor;r.removals[h.id]=!0,r.modified[h.droppableId]=!0,r.additions[h.id]&&delete r.additions[h.id],o()},u=function(){i&&(cancelAnimationFrame(i),i=null,r=Ed())};return{add:s,remove:a,stop:u}}var VE=function(t){var e=t.scrollHeight,n=t.scrollWidth,r=t.height,i=t.width,o=Ft({x:n,y:e},{x:i,y:r}),s={x:Math.max(0,o.x),y:Math.max(0,o.y)};return s},ME=function(){var t=document.documentElement;return t||U(!1),t},LE=function(){var t=ME(),e=VE({scrollHeight:t.scrollHeight,scrollWidth:t.scrollWidth,width:t.clientWidth,height:t.clientHeight});return e},nR=function(){var t=OE(),e=LE(),n=t.y,r=t.x,i=ME(),o=i.clientWidth,s=i.clientHeight,a=r+o,u=n+s,c=dn({top:n,left:r,right:a,bottom:u}),d={frame:c,scroll:{initial:t,current:t,max:e,diff:{value:Qe,displacement:Qe}}};return d},rR=function(t){var e=t.critical,n=t.scrollOptions,r=t.registry,i=nR(),o=i.scroll.current,s=e.droppable,a=r.droppable.getAllByType(s.type).map(function(h){return h.callbacks.getDimensionAndWatchScroll(o,n)}),u=r.draggable.getAllByType(e.draggable.type).map(function(h){return h.getDimension(o)}),c={draggables:fE(u),droppables:dE(a)},d={dimensions:c,critical:e,viewport:i};return d};function Zv(t,e,n){if(n.descriptor.id===e.id||n.descriptor.type!==e.type)return!1;var r=t.droppable.getById(n.descriptor.droppableId);return r.descriptor.mode==="virtual"}var iR=function(t,e){var n=null,r=tR({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:t}),i=function(m,v){t.droppable.exists(m)||U(!1),n&&e.updateDroppableIsEnabled({id:m,isEnabled:v})},o=function(m,v){n&&(t.droppable.exists(m)||U(!1),e.updateDroppableIsCombineEnabled({id:m,isCombineEnabled:v}))},s=function(m,v){n&&(t.droppable.exists(m)||U(!1),e.updateDroppableScroll({id:m,newScroll:v}))},a=function(m,v){n&&t.droppable.getById(m).callbacks.scroll(v)},u=function(){if(n){r.stop();var m=n.critical.droppable;t.droppable.getAllByType(m.type).forEach(function(v){return v.callbacks.dragStopped()}),n.unsubscribe(),n=null}},c=function(m){n||U(!1);var v=n.critical.draggable;m.type==="ADDITION"&&Zv(t,v,m.value)&&r.add(m.value),m.type==="REMOVAL"&&Zv(t,v,m.value)&&r.remove(m.value)},d=function(m){n&&U(!1);var v=t.draggable.getById(m.draggableId),b=t.droppable.getById(v.descriptor.droppableId),R={draggable:v.descriptor,droppable:b.descriptor},T=t.subscribe(c);return n={critical:R,unsubscribe:T},rR({critical:R,registry:t,scrollOptions:m.scrollOptions})},h={updateDroppableIsEnabled:i,updateDroppableIsCombineEnabled:o,scrollDroppable:a,updateDroppableScroll:s,startPublishing:d,stopPublishing:u};return h},FE=function(t,e){return t.phase==="IDLE"?!0:t.phase!=="DROP_ANIMATING"||t.completed.result.draggableId===e?!1:t.completed.result.reason==="DROP"},oR=function(t){window.scrollBy(t.x,t.y)},sR=Ke(function(t){return Xu(t).filter(function(e){return!(!e.isEnabled||!e.frame)})}),aR=function(e,n){var r=Ar(sR(n),function(i){return i.frame||U(!1),TE(i.frame.pageMarginBox)(e)});return r},lR=function(t){var e=t.center,n=t.destination,r=t.droppables;if(n){var i=r[n];return i.frame?i:null}var o=aR(e,r);return o},fr={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(e){return Math.pow(e,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},uR=function(t,e){var n=t[e.size]*fr.startFromPercentage,r=t[e.size]*fr.maxScrollAtPercentage,i={startScrollingFrom:n,maxScrollValueAt:r};return i},BE=function(t){var e=t.startOfRange,n=t.endOfRange,r=t.current,i=n-e;if(i===0)return 0;var o=r-e,s=o/i;return s},Cp=1,cR=function(t,e){if(t>e.startScrollingFrom)return 0;if(t<=e.maxScrollValueAt)return fr.maxPixelScroll;if(t===e.startScrollingFrom)return Cp;var n=BE({startOfRange:e.maxScrollValueAt,endOfRange:e.startScrollingFrom,current:t}),r=1-n,i=fr.maxPixelScroll*fr.ease(r);return Math.ceil(i)},ey=fr.durationDampening.accelerateAt,ty=fr.durationDampening.stopDampeningAt,dR=function(t,e){var n=e,r=ty,i=Date.now(),o=i-n;if(o>=ty)return t;if(o<ey)return Cp;var s=BE({startOfRange:ey,endOfRange:r,current:o}),a=t*fr.ease(s);return Math.ceil(a)},ny=function(t){var e=t.distanceToEdge,n=t.thresholds,r=t.dragStartTime,i=t.shouldUseTimeDampening,o=cR(e,n);return o===0?0:i?Math.max(dR(o,r),Cp):o},ry=function(t){var e=t.container,n=t.distanceToEdges,r=t.dragStartTime,i=t.axis,o=t.shouldUseTimeDampening,s=uR(e,i),a=n[i.end]<n[i.start];return a?ny({distanceToEdge:n[i.end],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o}):-1*ny({distanceToEdge:n[i.start],thresholds:s,dragStartTime:r,shouldUseTimeDampening:o})},fR=function(t){var e=t.container,n=t.subject,r=t.proposedScroll,i=n.height>e.height,o=n.width>e.width;return!o&&!i?r:o&&i?null:{x:o?0:r.x,y:i?0:r.y}},hR=uE(function(t){return t===0?0:t}),jE=function(t){var e=t.dragStartTime,n=t.container,r=t.subject,i=t.center,o=t.shouldUseTimeDampening,s={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},a=ry({container:n,distanceToEdges:s,dragStartTime:e,axis:yp,shouldUseTimeDampening:o}),u=ry({container:n,distanceToEdges:s,dragStartTime:e,axis:gE,shouldUseTimeDampening:o}),c=hR({x:u,y:a});if(dr(c,Qe))return null;var d=fR({container:n,subject:r,proposedScroll:c});return d?dr(d,Qe)?null:d:null},pR=uE(function(t){return t===0?0:t>0?1:-1}),xp=function(){var t=function(n,r){return n<0?n:n>r?n-r:0};return function(e){var n=e.current,r=e.max,i=e.change,o=nt(n,i),s={x:t(o.x,r.x),y:t(o.y,r.y)};return dr(s,Qe)?null:s}}(),UE=function(e){var n=e.max,r=e.current,i=e.change,o={x:Math.max(r.x,n.x),y:Math.max(r.y,n.y)},s=pR(i),a=xp({max:o,current:r,change:s});return!a||s.x!==0&&a.x===0||s.y!==0&&a.y===0},Pp=function(e,n){return UE({current:e.scroll.current,max:e.scroll.max,change:n})},gR=function(e,n){if(!Pp(e,n))return null;var r=e.scroll.max,i=e.scroll.current;return xp({current:i,max:r,change:n})},Rp=function(e,n){var r=e.frame;return r?UE({current:r.scroll.current,max:r.scroll.max,change:n}):!1},mR=function(e,n){var r=e.frame;return!r||!Rp(e,n)?null:xp({current:r.scroll.current,max:r.scroll.max,change:n})},vR=function(t){var e=t.viewport,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=jE({dragStartTime:i,container:e.frame,subject:n,center:r,shouldUseTimeDampening:o});return s&&Pp(e,s)?s:null},yR=function(t){var e=t.droppable,n=t.subject,r=t.center,i=t.dragStartTime,o=t.shouldUseTimeDampening,s=e.frame;if(!s)return null;var a=jE({dragStartTime:i,container:s.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return a&&Rp(e,a)?a:null},iy=function(t){var e=t.state,n=t.dragStartTime,r=t.shouldUseTimeDampening,i=t.scrollWindow,o=t.scrollDroppable,s=e.current.page.borderBoxCenter,a=e.dimensions.draggables[e.critical.draggable.id],u=a.page.marginBox;if(e.isWindowScrollAllowed){var c=e.viewport,d=vR({dragStartTime:n,viewport:c,subject:u,center:s,shouldUseTimeDampening:r});if(d){i(d);return}}var h=lR({center:s,destination:Ut(e.impact),droppables:e.dimensions.droppables});if(h){var p=yR({dragStartTime:n,droppable:h,subject:u,center:s,shouldUseTimeDampening:r});p&&o(h.descriptor.id,p)}},wR=function(t){var e=t.scrollWindow,n=t.scrollDroppable,r=Ms(e),i=Ms(n),o=null,s=function(d){o||U(!1);var h=o,p=h.shouldUseTimeDampening,m=h.dragStartTime;iy({state:d,scrollWindow:r,scrollDroppable:i,dragStartTime:m,shouldUseTimeDampening:p})},a=function(d){o&&U(!1);var h=Date.now(),p=!1,m=function(){p=!0};iy({state:d,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:m,scrollDroppable:m}),o={dragStartTime:h,shouldUseTimeDampening:p},p&&s(d)},u=function(){o&&(r.cancel(),i.cancel(),o=null)};return{start:a,stop:u,scroll:s}},_R=function(t){var e=t.move,n=t.scrollDroppable,r=t.scrollWindow,i=function(c,d){var h=nt(c.current.client.selection,d);e({client:h})},o=function(c,d){if(!Rp(c,d))return d;var h=mR(c,d);if(!h)return n(c.descriptor.id,d),null;var p=Ft(d,h);n(c.descriptor.id,p);var m=Ft(d,p);return m},s=function(c,d,h){if(!c||!Pp(d,h))return h;var p=gR(d,h);if(!p)return r(h),null;var m=Ft(h,p);r(m);var v=Ft(h,m);return v},a=function(c){var d=c.scrollJumpRequest;if(d){var h=Ut(c.impact);h||U(!1);var p=o(c.dimensions.droppables[h],d);if(p){var m=c.viewport,v=s(c.isWindowScrollAllowed,m,p);v&&i(c,v)}}};return a},ER=function(t){var e=t.scrollDroppable,n=t.scrollWindow,r=t.move,i=wR({scrollWindow:n,scrollDroppable:e}),o=_R({move:r,scrollWindow:n,scrollDroppable:e}),s=function(c){if(c.phase==="DRAGGING"){if(c.movementMode==="FLUID"){i.scroll(c);return}c.scrollJumpRequest&&o(c)}},a={scroll:s,start:i.start,stop:i.stop};return a},Zi="data-rbd",eo=function(){var t=Zi+"-drag-handle";return{base:t,draggableId:t+"-draggable-id",contextId:t+"-context-id"}}(),Lf=function(){var t=Zi+"-draggable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),TR=function(){var t=Zi+"-droppable";return{base:t,contextId:t+"-context-id",id:t+"-id"}}(),oy={contextId:Zi+"-scroll-container-context-id"},IR=function(e){return function(n){return"["+n+'="'+e+'"]'}},zo=function(e,n){return e.map(function(r){var i=r.styles[n];return i?r.selector+" { "+i+" }":""}).join(" ")},SR="pointer-events: none;",bR=function(t){var e=IR(t),n=function(){var a=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:e(eo.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:a,dragging:SR,dropAnimating:a}}}(),r=function(){var a=`
      transition: `+fs.outOfTheWay+`;
    `;return{selector:e(Lf.contextId),styles:{dragging:a,dropAnimating:a,userCancel:a}}}(),i={selector:e(TR.contextId),styles:{always:"overflow-anchor: none;"}},o={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[r,n,i,o];return{always:zo(s,"always"),resting:zo(s,"resting"),dragging:zo(s,"dragging"),dropAnimating:zo(s,"dropAnimating"),userCancel:zo(s,"userCancel")}},$t=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?O.useLayoutEffect:O.useEffect,Td=function(){var e=document.querySelector("head");return e||U(!1),e},sy=function(e){var n=document.createElement("style");return e&&n.setAttribute("nonce",e),n.type="text/css",n};function AR(t,e){var n=ce(function(){return bR(t)},[t]),r=O.useRef(null),i=O.useRef(null),o=q(Ke(function(h){var p=i.current;p||U(!1),p.textContent=h}),[]),s=q(function(h){var p=r.current;p||U(!1),p.textContent=h},[]);$t(function(){!r.current&&!i.current||U(!1);var h=sy(e),p=sy(e);return r.current=h,i.current=p,h.setAttribute(Zi+"-always",t),p.setAttribute(Zi+"-dynamic",t),Td().appendChild(h),Td().appendChild(p),s(n.always),o(n.resting),function(){var m=function(b){var R=b.current;R||U(!1),Td().removeChild(R),b.current=null};m(r),m(i)}},[e,s,o,n.always,n.resting,t]);var a=q(function(){return o(n.dragging)},[o,n.dragging]),u=q(function(h){if(h==="DROP"){o(n.dropAnimating);return}o(n.userCancel)},[o,n.dropAnimating,n.userCancel]),c=q(function(){i.current&&o(n.resting)},[o,n.resting]),d=ce(function(){return{dragging:a,dropping:u,resting:c}},[a,u,c]);return d}var $E=function(t){return t&&t.ownerDocument?t.ownerDocument.defaultView:window};function tc(t){return t instanceof $E(t).HTMLElement}function CR(t,e){var n="["+eo.contextId+'="'+t+'"]',r=cE(document.querySelectorAll(n));if(!r.length)return null;var i=Ar(r,function(o){return o.getAttribute(eo.draggableId)===e});return!i||!tc(i)?null:i}function xR(t){var e=O.useRef({}),n=O.useRef(null),r=O.useRef(null),i=O.useRef(!1),o=q(function(p,m){var v={id:p,focus:m};return e.current[p]=v,function(){var R=e.current,T=R[p];T!==v&&delete R[p]}},[]),s=q(function(p){var m=CR(t,p);m&&m!==document.activeElement&&m.focus()},[t]),a=q(function(p,m){n.current===p&&(n.current=m)},[]),u=q(function(){r.current||i.current&&(r.current=requestAnimationFrame(function(){r.current=null;var p=n.current;p&&s(p)}))},[s]),c=q(function(p){n.current=null;var m=document.activeElement;m&&m.getAttribute(eo.draggableId)===p&&(n.current=p)},[]);$t(function(){return i.current=!0,function(){i.current=!1;var p=r.current;p&&cancelAnimationFrame(p)}},[]);var d=ce(function(){return{register:o,tryRecordFocus:c,tryRestoreFocusRecorded:u,tryShiftRecord:a}},[o,c,u,a]);return d}function PR(){var t={draggables:{},droppables:{}},e=[];function n(h){return e.push(h),function(){var m=e.indexOf(h);m!==-1&&e.splice(m,1)}}function r(h){e.length&&e.forEach(function(p){return p(h)})}function i(h){return t.draggables[h]||null}function o(h){var p=i(h);return p||U(!1),p}var s={register:function(p){t.draggables[p.descriptor.id]=p,r({type:"ADDITION",value:p})},update:function(p,m){var v=t.draggables[m.descriptor.id];v&&v.uniqueId===p.uniqueId&&(delete t.draggables[m.descriptor.id],t.draggables[p.descriptor.id]=p)},unregister:function(p){var m=p.descriptor.id,v=i(m);v&&p.uniqueId===v.uniqueId&&(delete t.draggables[m],r({type:"REMOVAL",value:p}))},getById:o,findById:i,exists:function(p){return!!i(p)},getAllByType:function(p){return au(t.draggables).filter(function(m){return m.descriptor.type===p})}};function a(h){return t.droppables[h]||null}function u(h){var p=a(h);return p||U(!1),p}var c={register:function(p){t.droppables[p.descriptor.id]=p},unregister:function(p){var m=a(p.descriptor.id);m&&p.uniqueId===m.uniqueId&&delete t.droppables[p.descriptor.id]},getById:u,findById:a,exists:function(p){return!!a(p)},getAllByType:function(p){return au(t.droppables).filter(function(m){return m.descriptor.type===p})}};function d(){t.draggables={},t.droppables={},e.length=0}return{draggable:s,droppable:c,subscribe:n,clean:d}}function RR(){var t=ce(PR,[]);return O.useEffect(function(){return function(){requestAnimationFrame(t.clean)}},[t]),t}var Dp=ne.createContext(null),uu=function(){var t=document.body;return t||U(!1),t},DR={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},kR=function(e){return"rbd-announcement-"+e};function NR(t){var e=ce(function(){return kR(t)},[t]),n=O.useRef(null);O.useEffect(function(){var o=document.createElement("div");return n.current=o,o.id=e,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),X(o.style,DR),uu().appendChild(o),function(){setTimeout(function(){var u=uu();u.contains(o)&&u.removeChild(o),o===n.current&&(n.current=null)})}},[e]);var r=q(function(i){var o=n.current;if(o){o.textContent=i;return}},[]);return r}var OR=0,VR={separator:"::"};function kp(t,e){return e===void 0&&(e=VR),ce(function(){return""+t+e.separator+OR++},[e.separator,t])}function MR(t){var e=t.contextId,n=t.uniqueId;return"rbd-hidden-text-"+e+"-"+n}function LR(t){var e=t.contextId,n=t.text,r=kp("hidden-text",{separator:"-"}),i=ce(function(){return MR({contextId:e,uniqueId:r})},[r,e]);return O.useEffect(function(){var s=document.createElement("div");return s.id=i,s.textContent=n,s.style.display="none",uu().appendChild(s),function(){var u=uu();u.contains(s)&&u.removeChild(s)}},[i,n]),i}var nc=ne.createContext(null);function zE(t){var e=O.useRef(t);return O.useEffect(function(){e.current=t}),e}function FR(){var t=null;function e(){return!!t}function n(s){return s===t}function r(s){t&&U(!1);var a={abandon:s};return t=a,a}function i(){t||U(!1),t=null}function o(){t&&(t.abandon(),i())}return{isClaimed:e,isActive:n,claim:r,release:i,tryAbandon:o}}var BR=9,jR=13,Np=27,WE=32,UR=33,$R=34,zR=35,WR=36,GR=37,HR=38,qR=39,KR=40,tl,QR=(tl={},tl[jR]=!0,tl[BR]=!0,tl),GE=function(t){QR[t.keyCode]&&t.preventDefault()},rc=function(){var t="visibilitychange";if(typeof document>"u")return t;var e=[t,"ms"+t,"webkit"+t,"moz"+t,"o"+t],n=Ar(e,function(r){return"on"+r in document});return n||t}(),HE=0,ay=5;function YR(t,e){return Math.abs(e.x-t.x)>=ay||Math.abs(e.y-t.y)>=ay}var ly={type:"IDLE"};function XR(t){var e=t.cancel,n=t.completed,r=t.getPhase,i=t.setPhase;return[{eventName:"mousemove",fn:function(s){var a=s.button,u=s.clientX,c=s.clientY;if(a===HE){var d={x:u,y:c},h=r();if(h.type==="DRAGGING"){s.preventDefault(),h.actions.move(d);return}h.type!=="PENDING"&&U(!1);var p=h.point;if(YR(p,d)){s.preventDefault();var m=h.actions.fluidLift(d);i({type:"DRAGGING",actions:m})}}}},{eventName:"mouseup",fn:function(s){var a=r();if(a.type!=="DRAGGING"){e();return}s.preventDefault(),a.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"mousedown",fn:function(s){r().type==="DRAGGING"&&s.preventDefault(),e()}},{eventName:"keydown",fn:function(s){var a=r();if(a.type==="PENDING"){e();return}if(s.keyCode===Np){s.preventDefault(),e();return}GE(s)}},{eventName:"resize",fn:e},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){r().type==="PENDING"&&e()}},{eventName:"webkitmouseforcedown",fn:function(s){var a=r();if(a.type==="IDLE"&&U(!1),a.actions.shouldRespectForcePress()){e();return}s.preventDefault()}},{eventName:rc,fn:e}]}function JR(t){var e=O.useRef(ly),n=O.useRef(cr),r=ce(function(){return{eventName:"mousedown",fn:function(h){if(!h.defaultPrevented&&h.button===HE&&!(h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)){var p=t.findClosestDraggableId(h);if(p){var m=t.tryGetLock(p,s,{sourceEvent:h});if(m){h.preventDefault();var v={x:h.clientX,y:h.clientY};n.current(),c(m,v)}}}}}},[t]),i=ce(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(h){if(!h.defaultPrevented){var p=t.findClosestDraggableId(h);if(p){var m=t.findOptionsForDraggable(p);m&&(m.shouldRespectForcePress||t.canGetLock(p)&&h.preventDefault())}}}}},[t]),o=q(function(){var h={passive:!1,capture:!0};n.current=Zt(window,[i,r],h)},[i,r]),s=q(function(){var d=e.current;d.type!=="IDLE"&&(e.current=ly,n.current(),o())},[o]),a=q(function(){var d=e.current;s(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[s]),u=q(function(){var h={capture:!0,passive:!1},p=XR({cancel:a,completed:s,getPhase:function(){return e.current},setPhase:function(v){e.current=v}});n.current=Zt(window,p,h)},[a,s]),c=q(function(h,p){e.current.type!=="IDLE"&&U(!1),e.current={type:"PENDING",point:p,actions:h},u()},[u]);$t(function(){return o(),function(){n.current()}},[o])}var yi;function ZR(){}var eD=(yi={},yi[$R]=!0,yi[UR]=!0,yi[WR]=!0,yi[zR]=!0,yi);function tD(t,e){function n(){e(),t.cancel()}function r(){e(),t.drop()}return[{eventName:"keydown",fn:function(o){if(o.keyCode===Np){o.preventDefault(),n();return}if(o.keyCode===WE){o.preventDefault(),r();return}if(o.keyCode===KR){o.preventDefault(),t.moveDown();return}if(o.keyCode===HR){o.preventDefault(),t.moveUp();return}if(o.keyCode===qR){o.preventDefault(),t.moveRight();return}if(o.keyCode===GR){o.preventDefault(),t.moveLeft();return}if(eD[o.keyCode]){o.preventDefault();return}GE(o)}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:rc,fn:n}]}function nD(t){var e=O.useRef(ZR),n=ce(function(){return{eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==WE)return;var s=t.findClosestDraggableId(o);if(!s)return;var a=t.tryGetLock(s,d,{sourceEvent:o});if(!a)return;o.preventDefault();var u=!0,c=a.snapLift();e.current();function d(){u||U(!1),u=!1,e.current(),r()}e.current=Zt(window,tD(c,d),{capture:!0,passive:!1})}}},[t]),r=q(function(){var o={passive:!1,capture:!0};e.current=Zt(window,[n],o)},[n]);$t(function(){return r(),function(){e.current()}},[r])}var Id={type:"IDLE"},rD=120,iD=.15;function oD(t){var e=t.cancel,n=t.getPhase;return[{eventName:"orientationchange",fn:e},{eventName:"resize",fn:e},{eventName:"contextmenu",fn:function(i){i.preventDefault()}},{eventName:"keydown",fn:function(i){if(n().type!=="DRAGGING"){e();return}i.keyCode===Np&&i.preventDefault(),e()}},{eventName:rc,fn:e}]}function sD(t){var e=t.cancel,n=t.completed,r=t.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}s.hasMoved=!0;var a=o.touches[0],u=a.clientX,c=a.clientY,d={x:u,y:c};o.preventDefault(),s.actions.move(d)}},{eventName:"touchend",fn:function(o){var s=r();if(s.type!=="DRAGGING"){e();return}o.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),n()}},{eventName:"touchcancel",fn:function(o){if(r().type!=="DRAGGING"){e();return}o.preventDefault(),e()}},{eventName:"touchforcechange",fn:function(o){var s=r();s.type==="IDLE"&&U(!1);var a=o.touches[0];if(a){var u=a.force>=iD;if(u){var c=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){c&&e();return}if(c){if(s.hasMoved){o.preventDefault();return}e();return}o.preventDefault()}}}},{eventName:rc,fn:e}]}function aD(t){var e=O.useRef(Id),n=O.useRef(cr),r=q(function(){return e.current},[]),i=q(function(m){e.current=m},[]),o=ce(function(){return{eventName:"touchstart",fn:function(m){if(!m.defaultPrevented){var v=t.findClosestDraggableId(m);if(v){var b=t.tryGetLock(v,a,{sourceEvent:m});if(b){var R=m.touches[0],T=R.clientX,y=R.clientY,E={x:T,y};n.current(),h(b,E)}}}}}},[t]),s=q(function(){var m={capture:!0,passive:!1};n.current=Zt(window,[o],m)},[o]),a=q(function(){var p=e.current;p.type!=="IDLE"&&(p.type==="PENDING"&&clearTimeout(p.longPressTimerId),i(Id),n.current(),s())},[s,i]),u=q(function(){var p=e.current;a(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[a]),c=q(function(){var m={capture:!0,passive:!1},v={cancel:u,completed:a,getPhase:r},b=Zt(window,sD(v),m),R=Zt(window,oD(v),m);n.current=function(){b(),R()}},[u,r,a]),d=q(function(){var m=r();m.type!=="PENDING"&&U(!1);var v=m.actions.fluidLift(m.point);i({type:"DRAGGING",actions:v,hasMoved:!1})},[r,i]),h=q(function(m,v){r().type!=="IDLE"&&U(!1);var b=setTimeout(d,rD);i({type:"PENDING",point:v,actions:m,longPressTimerId:b}),c()},[c,r,i,d]);$t(function(){return s(),function(){n.current();var v=r();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),i(Id))}},[r,s,i]),$t(function(){var m=Zt(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return m},[])}var lD={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function qE(t,e){if(e==null)return!1;var n=!!lD[e.tagName.toLowerCase()];if(n)return!0;var r=e.getAttribute("contenteditable");return r==="true"||r===""?!0:e===t?!1:qE(t,e.parentElement)}function uD(t,e){var n=e.target;return tc(n)?qE(t,n):!1}var cD=function(t){return dn(t.getBoundingClientRect()).center};function dD(t){return t instanceof $E(t).Element}var fD=function(){var t="matches";if(typeof document>"u")return t;var e=[t,"msMatchesSelector","webkitMatchesSelector"],n=Ar(e,function(r){return r in Element.prototype});return n||t}();function KE(t,e){return t==null?null:t[fD](e)?t:KE(t.parentElement,e)}function hD(t,e){return t.closest?t.closest(e):KE(t,e)}function pD(t){return"["+eo.contextId+'="'+t+'"]'}function gD(t,e){var n=e.target;if(!dD(n))return null;var r=pD(t),i=hD(n,r);return!i||!tc(i)?null:i}function mD(t,e){var n=gD(t,e);return n?n.getAttribute(eo.draggableId):null}function vD(t,e){var n="["+Lf.contextId+'="'+t+'"]',r=cE(document.querySelectorAll(n)),i=Ar(r,function(o){return o.getAttribute(Lf.id)===e});return!i||!tc(i)?null:i}function yD(t){t.preventDefault()}function nl(t){var e=t.expected,n=t.phase,r=t.isLockActive;return t.shouldWarn,!(!r()||e!==n)}function QE(t){var e=t.lockAPI,n=t.store,r=t.registry,i=t.draggableId;if(e.isClaimed())return!1;var o=r.draggable.findById(i);return!(!o||!o.options.isEnabled||!FE(n.getState(),i))}function wD(t){var e=t.lockAPI,n=t.contextId,r=t.store,i=t.registry,o=t.draggableId,s=t.forceSensorStop,a=t.sourceEvent,u=QE({lockAPI:e,store:r,registry:i,draggableId:o});if(!u)return null;var c=i.draggable.getById(o),d=vD(n,c.descriptor.id);if(!d||a&&!c.options.canDragInteractiveElements&&uD(d,a))return null;var h=e.claim(s||cr),p="PRE_DRAG";function m(){return c.options.shouldRespectForcePress}function v(){return e.isActive(h)}function b(V,I){nl({expected:V,phase:p,isLockActive:v,shouldWarn:!0})&&r.dispatch(I())}var R=b.bind(null,"DRAGGING");function T(V){function I(){e.release(),p="COMPLETED"}p!=="PRE_DRAG"&&(I(),p!=="PRE_DRAG"&&U(!1)),r.dispatch(fP(V.liftActionArgs)),p="DRAGGING";function _(S,A){if(A===void 0&&(A={shouldBlockNextClick:!1}),V.cleanup(),A.shouldBlockNextClick){var P=Zt(window,[{eventName:"click",fn:yD,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(P)}I(),r.dispatch(DE({reason:S}))}return X({isActive:function(){return nl({expected:"DRAGGING",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,drop:function(A){return _("DROP",A)},cancel:function(A){return _("CANCEL",A)}},V.actions)}function y(V){var I=Ms(function(S){R(function(){return RE({client:S})})}),_=T({liftActionArgs:{id:o,clientSelection:V,movementMode:"FLUID"},cleanup:function(){return I.cancel()},actions:{move:I}});return X({},_,{move:I})}function E(){var V={moveUp:function(){return R(EP)},moveRight:function(){return R(IP)},moveDown:function(){return R(TP)},moveLeft:function(){return R(SP)}};return T({liftActionArgs:{id:o,clientSelection:cD(d),movementMode:"SNAP"},cleanup:cr,actions:V})}function C(){var V=nl({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!0});V&&e.release()}var k={isActive:function(){return nl({expected:"PRE_DRAG",phase:p,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:m,fluidLift:y,snapLift:E,abort:C};return k}var _D=[JR,nD,aD];function ED(t){var e=t.contextId,n=t.store,r=t.registry,i=t.customSensors,o=t.enableDefaultSensors,s=[].concat(o?_D:[],i||[]),a=O.useState(function(){return FR()})[0],u=q(function(y,E){y.isDragging&&!E.isDragging&&a.tryAbandon()},[a]);$t(function(){var y=n.getState(),E=n.subscribe(function(){var C=n.getState();u(y,C),y=C});return E},[a,n,u]),$t(function(){return a.tryAbandon},[a.tryAbandon]);for(var c=q(function(T){return QE({lockAPI:a,registry:r,store:n,draggableId:T})},[a,r,n]),d=q(function(T,y,E){return wD({lockAPI:a,registry:r,contextId:e,store:n,draggableId:T,forceSensorStop:y,sourceEvent:E&&E.sourceEvent?E.sourceEvent:null})},[e,a,r,n]),h=q(function(T){return mD(e,T)},[e]),p=q(function(T){var y=r.draggable.findById(T);return y?y.options:null},[r.draggable]),m=q(function(){a.isClaimed()&&(a.tryAbandon(),n.getState().phase!=="IDLE"&&n.dispatch(Ip()))},[a,n]),v=q(a.isClaimed,[a]),b=ce(function(){return{canGetLock:c,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:m,isLockClaimed:v}},[c,d,h,p,m,v]),R=0;R<s.length;R++)s[R](b)}var TD=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Wo(t){return t.current||U(!1),t.current}function ID(t){var e=t.contextId,n=t.setCallbacks,r=t.sensors,i=t.nonce,o=t.dragHandleUsageInstructions,s=O.useRef(null),a=zE(t),u=q(function(){return TD(a.current)},[a]),c=NR(e),d=LR({contextId:e,text:o}),h=AR(e,i),p=q(function(S){Wo(s).dispatch(S)},[]),m=ce(function(){return Dv({publishWhileDragging:pP,updateDroppableScroll:mP,updateDroppableIsEnabled:vP,updateDroppableIsCombineEnabled:yP,collectionStarting:gP},p)},[p]),v=RR(),b=ce(function(){return iR(v,m)},[v,m]),R=ce(function(){return ER(X({scrollWindow:oR,scrollDroppable:b.scrollDroppable},Dv({move:RE},p)))},[b.scrollDroppable,p]),T=xR(e),y=ce(function(){return eR({announce:c,autoScroller:R,dimensionMarshal:b,focusMarshal:T,getResponders:u,styleMarshal:h})},[c,R,b,T,u,h]);s.current=y;var E=q(function(){var S=Wo(s),A=S.getState();A.phase!=="IDLE"&&S.dispatch(Ip())},[]),C=q(function(){var S=Wo(s).getState();return S.isDragging||S.phase==="DROP_ANIMATING"},[]),k=ce(function(){return{isDragging:C,tryAbort:E}},[C,E]);n(k);var V=q(function(S){return FE(Wo(s).getState(),S)},[]),I=q(function(){return Mr(Wo(s).getState())},[]),_=ce(function(){return{marshal:b,focus:T,contextId:e,canLift:V,isMovementAllowed:I,dragHandleUsageInstructionsId:d,registry:v}},[e,b,d,T,V,I,v]);return ED({contextId:e,store:y,registry:v,customSensors:r,enableDefaultSensors:t.enableDefaultSensors!==!1}),O.useEffect(function(){return E},[E]),ne.createElement(nc.Provider,{value:_},ne.createElement(WA,{context:Dp,store:y},t.children))}var SD=0;function bD(){return ce(function(){return""+SD++},[])}function AD(t){var e=bD(),n=t.dragHandleUsageInstructions||Tl.dragHandleUsageInstructions;return ne.createElement(nx,null,function(r){return ne.createElement(ID,{nonce:t.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:t.enableDefaultSensors,sensors:t.sensors,onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragUpdate:t.onDragUpdate,onDragEnd:t.onDragEnd},t.children)})}var YE=function(e){return function(n){return e===n}},CD=YE("scroll"),xD=YE("auto"),uy=function(e,n){return n(e.overflowX)||n(e.overflowY)},PD=function(e){var n=window.getComputedStyle(e),r={overflowX:n.overflowX,overflowY:n.overflowY};return uy(r,CD)||uy(r,xD)},RD=function(){return!1},DD=function t(e){return e==null?null:e===document.body?RD()?e:null:e===document.documentElement?null:PD(e)?e:t(e.parentElement)},Ff=function(t){return{x:t.scrollLeft,y:t.scrollTop}},kD=function t(e){if(!e)return!1;var n=window.getComputedStyle(e);return n.position==="fixed"?!0:t(e.parentElement)},ND=function(t){var e=DD(t),n=kD(t);return{closestScrollable:e,isFixedOnPage:n}},OD=function(t){var e=t.descriptor,n=t.isEnabled,r=t.isCombineEnabled,i=t.isFixedOnPage,o=t.direction,s=t.client,a=t.page,u=t.closest,c=function(){if(!u)return null;var m=u.scrollSize,v=u.client,b=VE({scrollHeight:m.scrollHeight,scrollWidth:m.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:v,scrollSize:m,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:b,diff:{value:Qe,displacement:Qe}}}}(),d=o==="vertical"?yp:gE,h=Ji({page:a,withPlaceholder:null,axis:d,frame:c}),p={descriptor:e,isCombineEnabled:r,isFixedOnPage:i,axis:d,isEnabled:n,client:s,page:a,frame:c,subject:h};return p},VD=function(e,n){var r=oE(e);if(!n||e!==n)return r;var i=r.paddingBox.top-n.scrollTop,o=r.paddingBox.left-n.scrollLeft,s=i+n.scrollHeight,a=o+n.scrollWidth,u={top:i,right:a,bottom:s,left:o},c=hp(u,r.border),d=pp({borderBox:c,margin:r.margin,border:r.border,padding:r.padding});return d},MD=function(t){var e=t.ref,n=t.descriptor,r=t.env,i=t.windowScroll,o=t.direction,s=t.isDropDisabled,a=t.isCombineEnabled,u=t.shouldClipSubject,c=r.closestScrollable,d=VD(e,c),h=iu(d,i),p=function(){if(!c)return null;var v=oE(c),b={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:v,page:iu(v,i),scroll:Ff(c),scrollSize:b,shouldClipSubject:u}}(),m=OD({descriptor:n,isEnabled:!s,isCombineEnabled:a,isFixedOnPage:r.isFixedOnPage,direction:o,client:d,page:h,closest:p});return m},LD={passive:!1},FD={passive:!0},cy=function(t){return t.shouldPublishImmediately?LD:FD};function cu(t){var e=O.useContext(t);return e||U(!1),e}var rl=function(e){return e&&e.env.closestScrollable||null};function BD(t){var e=O.useRef(null),n=cu(nc),r=kp("droppable"),i=n.registry,o=n.marshal,s=zE(t),a=ce(function(){return{id:t.droppableId,type:t.type,mode:t.mode}},[t.droppableId,t.mode,t.type]),u=O.useRef(a),c=ce(function(){return Ke(function(C,k){e.current||U(!1);var V={x:C,y:k};o.updateDroppableScroll(a.id,V)})},[a.id,o]),d=q(function(){var C=e.current;return!C||!C.env.closestScrollable?Qe:Ff(C.env.closestScrollable)},[]),h=q(function(){var C=d();c(C.x,C.y)},[d,c]),p=ce(function(){return Ms(h)},[h]),m=q(function(){var C=e.current,k=rl(C);C&&k||U(!1);var V=C.scrollOptions;if(V.shouldPublishImmediately){h();return}p()},[p,h]),v=q(function(C,k){e.current&&U(!1);var V=s.current,I=V.getDroppableRef();I||U(!1);var _=ND(I),S={ref:I,descriptor:a,env:_,scrollOptions:k};e.current=S;var A=MD({ref:I,descriptor:a,env:_,windowScroll:C,direction:V.direction,isDropDisabled:V.isDropDisabled,isCombineEnabled:V.isCombineEnabled,shouldClipSubject:!V.ignoreContainerClipping}),P=_.closestScrollable;return P&&(P.setAttribute(oy.contextId,n.contextId),P.addEventListener("scroll",m,cy(S.scrollOptions))),A},[n.contextId,a,m,s]),b=q(function(){var C=e.current,k=rl(C);return C&&k||U(!1),Ff(k)},[]),R=q(function(){var C=e.current;C||U(!1);var k=rl(C);e.current=null,k&&(p.cancel(),k.removeAttribute(oy.contextId),k.removeEventListener("scroll",m,cy(C.scrollOptions)))},[m,p]),T=q(function(C){var k=e.current;k||U(!1);var V=rl(k);V||U(!1),V.scrollTop+=C.y,V.scrollLeft+=C.x},[]),y=ce(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:b,dragStopped:R,scroll:T}},[R,v,b,T]),E=ce(function(){return{uniqueId:r,descriptor:a,callbacks:y}},[y,a,r]);$t(function(){return u.current=E.descriptor,i.droppable.register(E),function(){e.current&&R(),i.droppable.unregister(E)}},[y,a,R,E,o,i.droppable]),$t(function(){e.current&&o.updateDroppableIsEnabled(u.current.id,!t.isDropDisabled)},[t.isDropDisabled,o]),$t(function(){e.current&&o.updateDroppableIsCombineEnabled(u.current.id,t.isCombineEnabled)},[t.isCombineEnabled,o])}function Sd(){}var dy={width:0,height:0,margin:lx},jD=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate;return n||i==="close"?dy:{height:r.client.borderBox.height,width:r.client.borderBox.width,margin:r.client.margin}},UD=function(e){var n=e.isAnimatingOpenOnMount,r=e.placeholder,i=e.animate,o=jD({isAnimatingOpenOnMount:n,placeholder:r,animate:i});return{display:r.display,boxSizing:"border-box",width:o.width,height:o.height,marginTop:o.margin.top,marginRight:o.margin.right,marginBottom:o.margin.bottom,marginLeft:o.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:i!=="none"?fs.placeholder:null}};function $D(t){var e=O.useRef(null),n=q(function(){e.current&&(clearTimeout(e.current),e.current=null)},[]),r=t.animate,i=t.onTransitionEnd,o=t.onClose,s=t.contextId,a=O.useState(t.animate==="open"),u=a[0],c=a[1];O.useEffect(function(){return u?r!=="open"?(n(),c(!1),Sd):e.current?Sd:(e.current=setTimeout(function(){e.current=null,c(!1)}),n):Sd},[r,u,n]);var d=q(function(p){p.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),h=UD({isAnimatingOpenOnMount:u,animate:t.animate,placeholder:t.placeholder});return ne.createElement(t.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:t.innerRef})}var zD=ne.memo($D),Op=ne.createContext(null),WD=function(t){V_(e,t);function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o))||this,r.state={isVisible:!!r.props.on,data:r.props.on,animate:r.props.shouldAnimate&&r.props.on?"open":"none"},r.onClose=function(){r.state.animate==="close"&&r.setState({isVisible:!1})},r}e.getDerivedStateFromProps=function(i,o){return i.shouldAnimate?i.on?{isVisible:!0,data:i.on,animate:"open"}:o.isVisible?{isVisible:!0,data:o.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!i.on,data:i.on,animate:"none"}};var n=e.prototype;return n.render=function(){if(!this.state.isVisible)return null;var i={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(i)},e}(ne.PureComponent),fy={dragging:5e3,dropAnimating:4500},GD=function(e,n){return n?fs.drop(n.duration):e?fs.snap:fs.fluid},HD=function(e,n){return e?n?js.opacity.drop:js.opacity.combining:null},qD=function(e){return e.forceShouldAnimate!=null?e.forceShouldAnimate:e.mode==="SNAP"};function KD(t){var e=t.dimension,n=e.client,r=t.offset,i=t.combineWith,o=t.dropping,s=!!i,a=qD(t),u=!!o,c=u?Vf.drop(r,s):Vf.moveTo(r),d={position:"fixed",top:n.marginBox.top,left:n.marginBox.left,boxSizing:"border-box",width:n.borderBox.width,height:n.borderBox.height,transition:GD(a,o),transform:c,opacity:HD(s,u),zIndex:u?fy.dropAnimating:fy.dragging,pointerEvents:"none"};return d}function QD(t){return{transform:Vf.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"}}function YD(t){return t.type==="DRAGGING"?KD(t):QD(t)}function XD(t,e,n){n===void 0&&(n=Qe);var r=window.getComputedStyle(e),i=e.getBoundingClientRect(),o=iE(i,r),s=iu(o,n),a={client:o,tagName:e.tagName.toLowerCase(),display:r.display},u={x:o.marginBox.width,y:o.marginBox.height},c={descriptor:t,placeholder:a,displaceBy:u,client:o,page:s};return c}function JD(t){var e=kp("draggable"),n=t.descriptor,r=t.registry,i=t.getDraggableRef,o=t.canDragInteractiveElements,s=t.shouldRespectForcePress,a=t.isEnabled,u=ce(function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:a}},[o,a,s]),c=q(function(m){var v=i();return v||U(!1),XD(n,v,m)},[n,i]),d=ce(function(){return{uniqueId:e,descriptor:n,options:u,getDimension:c}},[n,c,u,e]),h=O.useRef(d),p=O.useRef(!0);$t(function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}},[r.draggable]),$t(function(){if(p.current){p.current=!1;return}var m=h.current;h.current=d,r.draggable.update(d,m)},[d,r.draggable])}function ZD(t){t.preventDefault()}function e2(t){var e=O.useRef(null),n=q(function(S){e.current=S},[]),r=q(function(){return e.current},[]),i=cu(nc),o=i.contextId,s=i.dragHandleUsageInstructionsId,a=i.registry,u=cu(Op),c=u.type,d=u.droppableId,h=ce(function(){return{id:t.draggableId,index:t.index,type:c,droppableId:d}},[t.draggableId,t.index,c,d]),p=t.children,m=t.draggableId,v=t.isEnabled,b=t.shouldRespectForcePress,R=t.canDragInteractiveElements,T=t.isClone,y=t.mapped,E=t.dropAnimationFinished;if(!T){var C=ce(function(){return{descriptor:h,registry:a,getDraggableRef:r,canDragInteractiveElements:R,shouldRespectForcePress:b,isEnabled:v}},[h,a,r,R,b,v]);JD(C)}var k=ce(function(){return v?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":m,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:ZD}:null},[o,s,m,v]),V=q(function(S){y.type==="DRAGGING"&&y.dropping&&S.propertyName==="transform"&&E()},[E,y]),I=ce(function(){var S=YD(y),A=y.type==="DRAGGING"&&y.dropping?V:null,P={innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":m,style:S,onTransitionEnd:A},dragHandleProps:k};return P},[o,k,m,y,V,n]),_=ce(function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}},[h.droppableId,h.id,h.index,h.type]);return p(I,y.snapshot,_)}var XE=function(t,e){return t===e},JE=function(t){var e=t.combine,n=t.destination;return n?n.droppableId:e?e.droppableId:null},t2=function(e){return e.combine?e.combine.draggableId:null},n2=function(e){return e.at&&e.at.type==="COMBINE"?e.at.combine.draggableId:null};function r2(){var t=Ke(function(i,o){return{x:i,y:o}}),e=Ke(function(i,o,s,a,u){return{isDragging:!0,isClone:o,isDropAnimating:!!u,dropAnimation:u,mode:i,draggingOver:s,combineWith:a,combineTargetFor:null}}),n=Ke(function(i,o,s,a,u,c,d){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:u,combineWith:c,mode:o,offset:i,dimension:s,forceShouldAnimate:d,snapshot:e(o,a,u,c,null)}}}),r=function(o,s){if(o.isDragging){if(o.critical.draggable.id!==s.draggableId)return null;var a=o.current.client.offset,u=o.dimensions.draggables[s.draggableId],c=Ut(o.impact),d=n2(o.impact),h=o.forceShouldAnimate;return n(t(a.x,a.y),o.movementMode,u,s.isClone,c,d,h)}if(o.phase==="DROP_ANIMATING"){var p=o.completed;if(p.result.draggableId!==s.draggableId)return null;var m=s.isClone,v=o.dimensions.draggables[s.draggableId],b=p.result,R=b.mode,T=JE(b),y=t2(b),E=o.dropDuration,C={duration:E,curve:bp.drop,moveTo:o.newHomeClientOffset,opacity:y?js.opacity.drop:null,scale:y?js.scale.drop:null};return{mapped:{type:"DRAGGING",offset:o.newHomeClientOffset,dimension:v,dropping:C,draggingOver:T,combineWith:y,mode:R,forceShouldAnimate:null,snapshot:e(R,m,T,y,C)}}}return null};return r}function ZE(t){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:t,combineWith:null}}var i2={mapped:{type:"SECONDARY",offset:Qe,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:ZE(null)}};function o2(){var t=Ke(function(s,a){return{x:s,y:a}}),e=Ke(ZE),n=Ke(function(s,a,u){return a===void 0&&(a=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:a,shouldAnimateDisplacement:u,snapshot:e(a)}}}),r=function(a){return a?n(Qe,a,!0):null},i=function(a,u,c,d){var h=c.displaced.visible[a],p=!!(d.inVirtualList&&d.effected[a]),m=Ju(c),v=m&&m.draggableId===a?u:null;if(!h){if(!p)return r(v);if(c.displaced.invisible[a])return null;var b=fo(d.displacedBy.point),R=t(b.x,b.y);return n(R,v,!0)}if(p)return r(v);var T=c.displacedBy.point,y=t(T.x,T.y);return n(y,v,h.shouldAnimate)},o=function(a,u){if(a.isDragging)return a.critical.draggable.id===u.draggableId?null:i(u.draggableId,a.critical.draggable.id,a.impact,a.afterCritical);if(a.phase==="DROP_ANIMATING"){var c=a.completed;return c.result.draggableId===u.draggableId?null:i(u.draggableId,c.result.draggableId,c.impact,c.afterCritical)}return null};return o}var s2=function(){var e=r2(),n=o2(),r=function(o,s){return e(o,s)||n(o,s)||i2};return r},a2={dropAnimationFinished:kE},l2=nE(s2,a2,null,{context:Dp,pure:!0,areStatePropsEqual:XE})(e2);function e1(t){var e=cu(Op),n=e.isUsingCloneFor;return n===t.draggableId&&!t.isClone?null:ne.createElement(l2,t)}function u2(t){var e=typeof t.isDragDisabled=="boolean"?!t.isDragDisabled:!0,n=!!t.disableInteractiveElementBlocking,r=!!t.shouldRespectForcePress;return ne.createElement(e1,X({},t,{isClone:!1,isEnabled:e,canDragInteractiveElements:n,shouldRespectForcePress:r}))}function c2(t){var e=O.useContext(nc);e||U(!1);var n=e.contextId,r=e.isMovementAllowed,i=O.useRef(null),o=O.useRef(null),s=t.children,a=t.droppableId,u=t.type,c=t.mode,d=t.direction,h=t.ignoreContainerClipping,p=t.isDropDisabled,m=t.isCombineEnabled,v=t.snapshot,b=t.useClone,R=t.updateViewportMaxScroll,T=t.getContainerForClone,y=q(function(){return i.current},[]),E=q(function(P){i.current=P},[]);q(function(){return o.current},[]);var C=q(function(P){o.current=P},[]),k=q(function(){r()&&R({maxScroll:LE()})},[r,R]);BD({droppableId:a,type:u,mode:c,direction:d,isDropDisabled:p,isCombineEnabled:m,ignoreContainerClipping:h,getDroppableRef:y});var V=ne.createElement(WD,{on:t.placeholder,shouldAnimate:t.shouldAnimatePlaceholder},function(P){var D=P.onClose,x=P.data,ae=P.animate;return ne.createElement(zD,{placeholder:x,onClose:D,innerRef:C,animate:ae,contextId:n,onTransitionEnd:k})}),I=ce(function(){return{innerRef:E,placeholder:V,droppableProps:{"data-rbd-droppable-id":a,"data-rbd-droppable-context-id":n}}},[n,a,V,E]),_=b?b.dragging.draggableId:null,S=ce(function(){return{droppableId:a,type:u,isUsingCloneFor:_}},[a,_,u]);function A(){if(!b)return null;var P=b.dragging,D=b.render,x=ne.createElement(e1,{draggableId:P.draggableId,index:P.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(ae,Me){return D(ae,Me,P)});return Rb.createPortal(x,T())}return ne.createElement(Op.Provider,{value:S},s(I,v),A())}var bd=function(e,n){return e===n.droppable.type},hy=function(e,n){return n.draggables[e.draggable.id]},d2=function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},n=X({},e,{shouldAnimatePlaceholder:!1}),r=Ke(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),i=Ke(function(s,a,u,c,d,h){var p=d.descriptor.id,m=d.descriptor.droppableId===s;if(m){var v=h?{render:h,dragging:r(d.descriptor)}:null,b={isDraggingOver:u,draggingOverWith:u?p:null,draggingFromThisWith:p,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:v}}if(!a)return n;if(!c)return e;var R={isDraggingOver:u,draggingOverWith:p,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:d.placeholder,shouldAnimatePlaceholder:!0,snapshot:R,useClone:null}}),o=function(a,u){var c=u.droppableId,d=u.type,h=!u.isDropDisabled,p=u.renderClone;if(a.isDragging){var m=a.critical;if(!bd(d,m))return n;var v=hy(m,a.dimensions),b=Ut(a.impact)===c;return i(c,h,b,b,v,p)}if(a.phase==="DROP_ANIMATING"){var R=a.completed;if(!bd(d,R.critical))return n;var T=hy(R.critical,a.dimensions);return i(c,h,JE(R.result)===c,Ut(R.impact)===c,T,p)}if(a.phase==="IDLE"&&a.completed&&!a.shouldFlush){var y=a.completed;if(!bd(d,y.critical))return n;var E=Ut(y.impact)===c,C=!!(y.impact.at&&y.impact.at.type==="COMBINE"),k=y.critical.droppable.id===c;return E?C?e:n:k?e:n}return n};return o},f2={updateViewportMaxScroll:_P};function h2(){return document.body||U(!1),document.body}var p2={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:h2},t1=nE(d2,f2,null,{context:Dp,pure:!0,areStatePropsEqual:XE})(c2);t1.defaultProps=p2;const py=[{name:" ",value:"#FFE082"},{name:" ",value:"#F48FB1"},{name:" ",value:"#81C784"},{name:" ",value:"#64B5F6"},{name:" ",value:"#FFB74D"},{name:" ",value:"#FFF9C4"},{name:" ",value:"#FCEAFF"},{name:" ",value:"#F1F8E9"},{name:" ",value:"#E3F2FD"},{name:" ",value:"#FFF3E0"}],gy={PERSONAL:O_,WORK:D_,SHOPPING:k_,STUDY:R_,OTHER:Os},g2=({todo:t,index:e,onToggle:n,onDelete:r,onPriorityChange:i,onColorChange:o,onEdit:s,onCategoryChange:a})=>{const[u,c]=O.useState(!1),[d,h]=O.useState(!1),[p,m]=O.useState(t.title),[v,b]=O.useState(t.description),R=ne.useMemo(()=>Math.random()*4-2,[]),[T,y]=O.useState(!1),E=()=>{d&&s(t.id,p,v),h(!d)},C=gy[t.category];return L.jsx(u2,{draggableId:t.id,index:e,children:(k,V)=>L.jsx("div",{ref:k.innerRef,...k.draggableProps,...k.dragHandleProps,className:"flex justify-center",style:{...k.draggableProps.style},children:L.jsxs("div",{style:{transform:`rotate(${R}deg)`,backgroundColor:t.backgroundColor||"#FFF9C4",width:"250px",height:"250px"},className:`rounded-lg shadow-lg hover:shadow-xl 
              transition-all duration-300 relative hover:-translate-y-1 flex flex-col
              ${V.isDragging?"shadow-2xl scale-105":""}`,children:[L.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[L.jsx("button",{onClick:()=>i(t.id),className:"p-1 hover:bg-black/10 rounded-full transition-colors",children:t.priority===1?L.jsx(PA,{className:"w-5 h-5 text-warning"}):L.jsx(N_,{className:"w-5 h-5 text-gray-600"})}),L.jsxs("div",{className:"relative",children:[L.jsx("button",{onClick:()=>c(!u),className:"p-1 hover:bg-black/10 rounded-full transition-colors",children:L.jsx(pA,{className:"w-5 h-5 text-gray-600"})}),u&&L.jsx("div",{className:"absolute top-full right-0 mt-1",children:L.jsxs("div",{className:"relative w-[180px]",children:[L.jsx("div",{className:"flex justify-center mb-3",children:py.slice(0,5).map((I,_)=>L.jsx("button",{onClick:()=>{o(t.id,I.value),c(!1)},className:`w-8 h-8 rounded-full hover:scale-110 transition-transform relative group
                              -ml-1 first:ml-0 hover:z-10 border-2 border-white shadow-md`,style:{backgroundColor:I.value},children:L.jsx("span",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-1
                              bg-gray-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100
                              whitespace-nowrap pointer-events-none`,children:I.name})},I.value))}),L.jsx("div",{className:"flex justify-center",children:py.slice(5).map((I,_)=>L.jsx("button",{onClick:()=>{o(t.id,I.value),c(!1)},className:`w-8 h-8 rounded-full hover:scale-110 transition-transform relative group
                              -ml-1 first:ml-0 hover:z-10 border-2 border-white shadow-md`,style:{backgroundColor:I.value},children:L.jsx("span",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-1
                              bg-gray-800 text-white text-xs py-1 px-2 rounded opacity-0 group-hover:opacity-100
                              whitespace-nowrap pointer-events-none`,children:I.name})},I.value))})]})})]}),L.jsx("button",{onClick:E,className:"p-1 hover:bg-black/10 rounded-full transition-colors",children:L.jsx(tA,{className:"w-5 h-5 text-gray-600"})}),L.jsx("button",{onClick:()=>r(t.id),className:"p-1 hover:bg-black/10 rounded-full transition-colors",children:L.jsx(wA,{className:"w-5 h-5 text-gray-600"})})]}),L.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:L.jsx("div",{className:`mt-6 ${t.isCompleted?"opacity-50":""}`,children:d?L.jsxs("div",{className:"space-y-2",children:[L.jsx("input",{type:"text",value:p,onChange:I=>m(I.target.value),className:`w-full p-2 border rounded bg-white/80 focus:outline-none focus:ring-2
                        text-gray-900 dark:text-gray-900`,autoFocus:!0,maxLength:100}),L.jsx("textarea",{value:v,onChange:I=>b(I.target.value),className:`w-full p-2 border rounded bg-white/80 focus:outline-none focus:ring-2 resize-none
                        text-gray-900 dark:text-gray-900`,rows:3,maxLength:500})]}):L.jsxs("div",{className:"overflow-y-auto max-h-[130px] scrollbar-thin scrollbar-thumb-gray-300 hover:scrollbar-thumb-gray-400",children:[L.jsx("h3",{className:`font-medium mb-2 text-lg text-gray-900 break-words
                      ${t.isCompleted?"line-through":""}`,children:t.title}),t.description&&L.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap break-words",children:t.description})]})})}),L.jsxs("div",{className:"absolute bottom-4 left-0 right-0 px-4 flex justify-between items-center",children:[L.jsxs("div",{className:"relative",children:[L.jsxs("button",{onClick:()=>y(!T),className:`flex items-center gap-1 px-2 py-1 text-xs rounded-full
                    bg-black/5 hover:bg-black/10 transition-colors text-gray-900`,children:[L.jsx(C,{className:"w-4 h-4"}),L.jsx("span",{children:tu[t.category]})]}),T&&L.jsx("div",{className:`absolute bottom-full left-0 mb-1 rounded-lg z-50
                    bg-transparent backdrop-blur-sm`,children:L.jsx("div",{className:"flex flex-row flex-wrap gap-1 p-1 min-w-[200px]",children:Object.entries(tu).map(([I,_])=>{const S=gy[I];return L.jsxs("button",{onClick:()=>{a(t.id,I),y(!1)},className:`px-3 py-1 text-sm rounded-full transition-colors
                              flex items-center gap-1
                              ${t.category===I?"bg-black/10 text-gray-900":"text-gray-900 hover:bg-black/10"}`,children:[L.jsx(S,{className:"w-4 h-4"}),L.jsx("span",{children:_})]},I)})})})]}),L.jsx("button",{onClick:()=>n(t.id),className:`p-2 rounded-full transition-all duration-300
                  ${t.isCompleted?"bg-success text-white":"bg-gray-200 text-gray-600"} 
                  hover:scale-110`,children:L.jsx(zb,{className:"w-5 h-5"})})]})]})})})},m2=({onAdd:t,onCancel:e})=>{const[n,r]=O.useState(""),[i,o]=O.useState(""),s=a=>{a.preventDefault(),n.trim()&&t(n,i)};return L.jsxs("form",{onSubmit:s,className:"relative",children:[L.jsx("button",{type:"button",onClick:e,className:"absolute top-0 right-0 p-2 hover:bg-gray-100 rounded-full",children:L.jsx(SA,{className:"w-5 h-5"})}),L.jsx("h2",{className:"text-lg font-semibold mb-4",children:"  "}),L.jsx("input",{type:"text",value:n,onChange:a=>r(a.target.value),placeholder:" ",className:"w-full p-2 mb-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary",autoFocus:!0}),L.jsx("textarea",{value:i,onChange:a=>o(a.target.value),placeholder:" ",className:"w-full p-2 mb-4 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary resize-none",rows:4}),L.jsx("button",{type:"submit",className:"w-full bg-primary text-white py-2 rounded-lg hover:bg-primary/90",children:""})]})},v2=({onClick:t})=>L.jsx("button",{onClick:t,className:`fixed bottom-8 right-8 w-14 h-14 bg-primary rounded-full shadow-lg 
        hover:shadow-xl hover:-translate-y-1 transition-all duration-300 
        flex items-center justify-center text-white z-50`,children:L.jsx(iA,{className:"w-8 h-8"})});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},y2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},r1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=o>>2,h=(o&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;u||(m=64,s||(p=64)),r.push(n[d],n[h],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):y2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new w2;const p=o<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const v=c<<6&192|h;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class w2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _2=function(t){const e=n1(t);return r1.encodeByteArray(e,!0)},du=function(t){return _2(t).replace(/\./g,"")},E2=function(t){try{return r1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=()=>T2().__FIREBASE_DEFAULTS__,S2=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&E2(t[1]);return e&&JSON.parse(e)},Vp=()=>{try{return I2()||S2()||b2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A2=t=>{var e,n;return(n=(e=Vp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},C2=t=>{const e=A2(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},i1=()=>{var t;return(t=Vp())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[du(JSON.stringify(n)),du(JSON.stringify(s)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D2(){var t;const e=(t=Vp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k2(){return!D2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N2(){try{return typeof indexedDB=="object"}catch{return!1}}function O2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="FirebaseError";class go extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V2,Object.setPrototypeOf(this,go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,o1.prototype.create)}}class o1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?M2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new go(i,a,r)}}function M2(t,e){return t.replace(L2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const L2=/\{\$([^}]+)}/g;function Bf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(my(o)&&my(s)){if(!Bf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function my(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new x2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(j2(e))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Lr){return this.instances.has(e)}getOptions(e=Lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Lr){return this.component?this.component.multipleInstances?e:Lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B2(t){return t===Lr?void 0:t}function j2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const $2={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},z2=ue.INFO,W2={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},G2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=W2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class s1{constructor(e){this.name=e,this._logLevel=z2,this._logHandler=G2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const H2=(t,e)=>e.some(n=>t instanceof n);let vy,yy;function q2(){return vy||(vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K2(){return yy||(yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a1=new WeakMap,jf=new WeakMap,l1=new WeakMap,Ad=new WeakMap,Mp=new WeakMap;function Q2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(hr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&a1.set(n,t)}).catch(()=>{}),Mp.set(e,t),e}function Y2(t){if(jf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});jf.set(t,e)}let Uf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||l1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function X2(t){Uf=t(Uf)}function J2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cd(this),e,...n);return l1.set(r,e.sort?e.sort():[e]),hr(r)}:K2().includes(t)?function(...e){return t.apply(Cd(this),e),hr(a1.get(this))}:function(...e){return hr(t.apply(Cd(this),e))}}function Z2(t){return typeof t=="function"?J2(t):(t instanceof IDBTransaction&&Y2(t),H2(t,q2())?new Proxy(t,Uf):t)}function hr(t){if(t instanceof IDBRequest)return Q2(t);if(Ad.has(t))return Ad.get(t);const e=Z2(t);return e!==t&&(Ad.set(t,e),Mp.set(e,t)),e}const Cd=t=>Mp.get(t);function ek(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=hr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(hr(s.result),u.oldVersion,u.newVersion,hr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const tk=["get","getKey","getAll","getAllKeys","count"],nk=["put","add","delete","clear"],xd=new Map;function wy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xd.get(e))return xd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=nk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tk.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return xd.set(e,o),o}X2(t=>({...t,get:(e,n,r)=>wy(e,n)||t.get(e,n,r),has:(e,n)=>!!wy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ik(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ik(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $f="@firebase/app",_y="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn=new s1("@firebase/app"),ok="@firebase/app-compat",sk="@firebase/analytics-compat",ak="@firebase/analytics",lk="@firebase/app-check-compat",uk="@firebase/app-check",ck="@firebase/auth",dk="@firebase/auth-compat",fk="@firebase/database",hk="@firebase/data-connect",pk="@firebase/database-compat",gk="@firebase/functions",mk="@firebase/functions-compat",vk="@firebase/installations",yk="@firebase/installations-compat",wk="@firebase/messaging",_k="@firebase/messaging-compat",Ek="@firebase/performance",Tk="@firebase/performance-compat",Ik="@firebase/remote-config",Sk="@firebase/remote-config-compat",bk="@firebase/storage",Ak="@firebase/storage-compat",Ck="@firebase/firestore",xk="@firebase/vertexai-preview",Pk="@firebase/firestore-compat",Rk="firebase",Dk="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="[DEFAULT]",kk={[$f]:"fire-core",[ok]:"fire-core-compat",[ak]:"fire-analytics",[sk]:"fire-analytics-compat",[uk]:"fire-app-check",[lk]:"fire-app-check-compat",[ck]:"fire-auth",[dk]:"fire-auth-compat",[fk]:"fire-rtdb",[hk]:"fire-data-connect",[pk]:"fire-rtdb-compat",[gk]:"fire-fn",[mk]:"fire-fn-compat",[vk]:"fire-iid",[yk]:"fire-iid-compat",[wk]:"fire-fcm",[_k]:"fire-fcm-compat",[Ek]:"fire-perf",[Tk]:"fire-perf-compat",[Ik]:"fire-rc",[Sk]:"fire-rc-compat",[bk]:"fire-gcs",[Ak]:"fire-gcs-compat",[Ck]:"fire-fst",[Pk]:"fire-fst-compat",[xk]:"fire-vertex","fire-js":"fire-js",[Rk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new Map,Nk=new Map,Wf=new Map;function Ey(t,e){try{t.container.addComponent(e)}catch(n){Fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hu(t){const e=t.name;if(Wf.has(e))return Fn.debug(`There were multiple attempts to register component ${e}.`),!1;Wf.set(e,t);for(const n of fu.values())Ey(n,t);for(const n of Nk.values())Ey(n,t);return!0}function Ok(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pr=new o1("app","Firebase",Vk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=Dk;function u1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pr.create("bad-app-name",{appName:String(i)});if(n||(n=i1()),!n)throw pr.create("no-options");const o=fu.get(i);if(o){if(Bf(n,o.options)&&Bf(r,o.config))return o;throw pr.create("duplicate-app",{appName:i})}const s=new U2(i);for(const u of Wf.values())s.addComponent(u);const a=new Mk(n,r,s);return fu.set(i,a),a}function Fk(t=zf){const e=fu.get(t);if(!e&&t===zf&&i1())return u1();if(!e)throw pr.create("no-app",{appName:t});return e}function $i(t,e,n){var r;let i=(r=kk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fn.warn(a.join(" "));return}hu(new Us(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="firebase-heartbeat-database",jk=1,$s="firebase-heartbeat-store";let Pd=null;function c1(){return Pd||(Pd=ek(Bk,jk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($s)}catch(n){console.warn(n)}}}}).catch(t=>{throw pr.create("idb-open",{originalErrorMessage:t.message})})),Pd}async function Uk(t){try{const n=(await c1()).transaction($s),r=await n.objectStore($s).get(d1(t));return await n.done,r}catch(e){if(e instanceof go)Fn.warn(e.message);else{const n=pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fn.warn(n.message)}}}async function Ty(t,e){try{const r=(await c1()).transaction($s,"readwrite");await r.objectStore($s).put(e,d1(t)),await r.done}catch(n){if(n instanceof go)Fn.warn(n.message);else{const r=pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fn.warn(r.message)}}}function d1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=1024,zk=30*24*60*60*1e3;class Wk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Hk(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Iy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=zk}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Fn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Iy(),{heartbeatsToSend:r,unsentEntries:i}=Gk(this._heartbeatsCache.heartbeats),o=du(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Fn.warn(n),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function Gk(t,e=$k){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Sy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Hk{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N2()?O2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Uk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ty(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sy(t){return du(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(t){hu(new Us("platform-logger",e=>new rk(e),"PRIVATE")),hu(new Us("heartbeat",e=>new Wk(e),"PRIVATE")),$i($f,_y,t),$i($f,_y,"esm2017"),$i("fire-js","")}qk("");var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,f1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,_){function S(){}S.prototype=_.prototype,I.D=_.prototype,I.prototype=new S,I.prototype.constructor=I,I.C=function(A,P,D){for(var x=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)x[ae-2]=arguments[ae];return _.prototype[P].apply(A,x)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,_,S){S||(S=0);var A=Array(16);if(typeof _=="string")for(var P=0;16>P;++P)A[P]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(P=0;16>P;++P)A[P]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=I.g[0],S=I.g[1],P=I.g[2];var D=I.g[3],x=_+(D^S&(P^D))+A[0]+3614090360&4294967295;_=S+(x<<7&4294967295|x>>>25),x=D+(P^_&(S^P))+A[1]+3905402710&4294967295,D=_+(x<<12&4294967295|x>>>20),x=P+(S^D&(_^S))+A[2]+606105819&4294967295,P=D+(x<<17&4294967295|x>>>15),x=S+(_^P&(D^_))+A[3]+3250441966&4294967295,S=P+(x<<22&4294967295|x>>>10),x=_+(D^S&(P^D))+A[4]+4118548399&4294967295,_=S+(x<<7&4294967295|x>>>25),x=D+(P^_&(S^P))+A[5]+1200080426&4294967295,D=_+(x<<12&4294967295|x>>>20),x=P+(S^D&(_^S))+A[6]+2821735955&4294967295,P=D+(x<<17&4294967295|x>>>15),x=S+(_^P&(D^_))+A[7]+4249261313&4294967295,S=P+(x<<22&4294967295|x>>>10),x=_+(D^S&(P^D))+A[8]+1770035416&4294967295,_=S+(x<<7&4294967295|x>>>25),x=D+(P^_&(S^P))+A[9]+2336552879&4294967295,D=_+(x<<12&4294967295|x>>>20),x=P+(S^D&(_^S))+A[10]+4294925233&4294967295,P=D+(x<<17&4294967295|x>>>15),x=S+(_^P&(D^_))+A[11]+2304563134&4294967295,S=P+(x<<22&4294967295|x>>>10),x=_+(D^S&(P^D))+A[12]+1804603682&4294967295,_=S+(x<<7&4294967295|x>>>25),x=D+(P^_&(S^P))+A[13]+4254626195&4294967295,D=_+(x<<12&4294967295|x>>>20),x=P+(S^D&(_^S))+A[14]+2792965006&4294967295,P=D+(x<<17&4294967295|x>>>15),x=S+(_^P&(D^_))+A[15]+1236535329&4294967295,S=P+(x<<22&4294967295|x>>>10),x=_+(P^D&(S^P))+A[1]+4129170786&4294967295,_=S+(x<<5&4294967295|x>>>27),x=D+(S^P&(_^S))+A[6]+3225465664&4294967295,D=_+(x<<9&4294967295|x>>>23),x=P+(_^S&(D^_))+A[11]+643717713&4294967295,P=D+(x<<14&4294967295|x>>>18),x=S+(D^_&(P^D))+A[0]+3921069994&4294967295,S=P+(x<<20&4294967295|x>>>12),x=_+(P^D&(S^P))+A[5]+3593408605&4294967295,_=S+(x<<5&4294967295|x>>>27),x=D+(S^P&(_^S))+A[10]+38016083&4294967295,D=_+(x<<9&4294967295|x>>>23),x=P+(_^S&(D^_))+A[15]+3634488961&4294967295,P=D+(x<<14&4294967295|x>>>18),x=S+(D^_&(P^D))+A[4]+3889429448&4294967295,S=P+(x<<20&4294967295|x>>>12),x=_+(P^D&(S^P))+A[9]+568446438&4294967295,_=S+(x<<5&4294967295|x>>>27),x=D+(S^P&(_^S))+A[14]+3275163606&4294967295,D=_+(x<<9&4294967295|x>>>23),x=P+(_^S&(D^_))+A[3]+4107603335&4294967295,P=D+(x<<14&4294967295|x>>>18),x=S+(D^_&(P^D))+A[8]+1163531501&4294967295,S=P+(x<<20&4294967295|x>>>12),x=_+(P^D&(S^P))+A[13]+2850285829&4294967295,_=S+(x<<5&4294967295|x>>>27),x=D+(S^P&(_^S))+A[2]+4243563512&4294967295,D=_+(x<<9&4294967295|x>>>23),x=P+(_^S&(D^_))+A[7]+1735328473&4294967295,P=D+(x<<14&4294967295|x>>>18),x=S+(D^_&(P^D))+A[12]+2368359562&4294967295,S=P+(x<<20&4294967295|x>>>12),x=_+(S^P^D)+A[5]+4294588738&4294967295,_=S+(x<<4&4294967295|x>>>28),x=D+(_^S^P)+A[8]+2272392833&4294967295,D=_+(x<<11&4294967295|x>>>21),x=P+(D^_^S)+A[11]+1839030562&4294967295,P=D+(x<<16&4294967295|x>>>16),x=S+(P^D^_)+A[14]+4259657740&4294967295,S=P+(x<<23&4294967295|x>>>9),x=_+(S^P^D)+A[1]+2763975236&4294967295,_=S+(x<<4&4294967295|x>>>28),x=D+(_^S^P)+A[4]+1272893353&4294967295,D=_+(x<<11&4294967295|x>>>21),x=P+(D^_^S)+A[7]+4139469664&4294967295,P=D+(x<<16&4294967295|x>>>16),x=S+(P^D^_)+A[10]+3200236656&4294967295,S=P+(x<<23&4294967295|x>>>9),x=_+(S^P^D)+A[13]+681279174&4294967295,_=S+(x<<4&4294967295|x>>>28),x=D+(_^S^P)+A[0]+3936430074&4294967295,D=_+(x<<11&4294967295|x>>>21),x=P+(D^_^S)+A[3]+3572445317&4294967295,P=D+(x<<16&4294967295|x>>>16),x=S+(P^D^_)+A[6]+76029189&4294967295,S=P+(x<<23&4294967295|x>>>9),x=_+(S^P^D)+A[9]+3654602809&4294967295,_=S+(x<<4&4294967295|x>>>28),x=D+(_^S^P)+A[12]+3873151461&4294967295,D=_+(x<<11&4294967295|x>>>21),x=P+(D^_^S)+A[15]+530742520&4294967295,P=D+(x<<16&4294967295|x>>>16),x=S+(P^D^_)+A[2]+3299628645&4294967295,S=P+(x<<23&4294967295|x>>>9),x=_+(P^(S|~D))+A[0]+4096336452&4294967295,_=S+(x<<6&4294967295|x>>>26),x=D+(S^(_|~P))+A[7]+1126891415&4294967295,D=_+(x<<10&4294967295|x>>>22),x=P+(_^(D|~S))+A[14]+2878612391&4294967295,P=D+(x<<15&4294967295|x>>>17),x=S+(D^(P|~_))+A[5]+4237533241&4294967295,S=P+(x<<21&4294967295|x>>>11),x=_+(P^(S|~D))+A[12]+1700485571&4294967295,_=S+(x<<6&4294967295|x>>>26),x=D+(S^(_|~P))+A[3]+2399980690&4294967295,D=_+(x<<10&4294967295|x>>>22),x=P+(_^(D|~S))+A[10]+4293915773&4294967295,P=D+(x<<15&4294967295|x>>>17),x=S+(D^(P|~_))+A[1]+2240044497&4294967295,S=P+(x<<21&4294967295|x>>>11),x=_+(P^(S|~D))+A[8]+1873313359&4294967295,_=S+(x<<6&4294967295|x>>>26),x=D+(S^(_|~P))+A[15]+4264355552&4294967295,D=_+(x<<10&4294967295|x>>>22),x=P+(_^(D|~S))+A[6]+2734768916&4294967295,P=D+(x<<15&4294967295|x>>>17),x=S+(D^(P|~_))+A[13]+1309151649&4294967295,S=P+(x<<21&4294967295|x>>>11),x=_+(P^(S|~D))+A[4]+4149444226&4294967295,_=S+(x<<6&4294967295|x>>>26),x=D+(S^(_|~P))+A[11]+3174756917&4294967295,D=_+(x<<10&4294967295|x>>>22),x=P+(_^(D|~S))+A[2]+718787259&4294967295,P=D+(x<<15&4294967295|x>>>17),x=S+(D^(P|~_))+A[9]+3951481745&4294967295,I.g[0]=I.g[0]+_&4294967295,I.g[1]=I.g[1]+(P+(x<<21&4294967295|x>>>11))&4294967295,I.g[2]=I.g[2]+P&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,_){_===void 0&&(_=I.length);for(var S=_-this.blockSize,A=this.B,P=this.h,D=0;D<_;){if(P==0)for(;D<=S;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<_;)if(A[P++]=I.charCodeAt(D++),P==this.blockSize){i(this,A),P=0;break}}else for(;D<_;)if(A[P++]=I[D++],P==this.blockSize){i(this,A),P=0;break}}this.h=P,this.o+=_},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var _=1;_<I.length-8;++_)I[_]=0;var S=8*this.o;for(_=I.length-8;_<I.length;++_)I[_]=S&255,S/=256;for(this.u(I),I=Array(16),_=S=0;4>_;++_)for(var A=0;32>A;A+=8)I[S++]=this.g[_]>>>A&255;return I};function o(I,_){var S=a;return Object.prototype.hasOwnProperty.call(S,I)?S[I]:S[I]=_(I)}function s(I,_){this.h=_;for(var S=[],A=!0,P=I.length-1;0<=P;P--){var D=I[P]|0;A&&D==_||(S[P]=D,A=!1)}this.g=S}var a={};function u(I){return-128<=I&&128>I?o(I,function(_){return new s([_|0],0>_?-1:0)}):new s([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return h;if(0>I)return R(c(-I));for(var _=[],S=1,A=0;I>=S;A++)_[A]=I/S|0,S*=4294967296;return new s(_,0)}function d(I,_){if(I.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(I.charAt(0)=="-")return R(d(I.substring(1),_));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(_,8)),A=h,P=0;P<I.length;P+=8){var D=Math.min(8,I.length-P),x=parseInt(I.substring(P,P+D),_);8>D?(D=c(Math.pow(_,D)),A=A.j(D).add(c(x))):(A=A.j(S),A=A.add(c(x)))}return A}var h=u(0),p=u(1),m=u(16777216);t=s.prototype,t.m=function(){if(b(this))return-R(this).m();for(var I=0,_=1,S=0;S<this.g.length;S++){var A=this.i(S);I+=(0<=A?A:4294967296+A)*_,_*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(v(this))return"0";if(b(this))return"-"+R(this).toString(I);for(var _=c(Math.pow(I,6)),S=this,A="";;){var P=C(S,_).g;S=T(S,P.j(_));var D=((0<S.g.length?S.g[0]:S.h)>>>0).toString(I);if(S=P,v(S))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function v(I){if(I.h!=0)return!1;for(var _=0;_<I.g.length;_++)if(I.g[_]!=0)return!1;return!0}function b(I){return I.h==-1}t.l=function(I){return I=T(this,I),b(I)?-1:v(I)?0:1};function R(I){for(var _=I.g.length,S=[],A=0;A<_;A++)S[A]=~I.g[A];return new s(S,~I.h).add(p)}t.abs=function(){return b(this)?R(this):this},t.add=function(I){for(var _=Math.max(this.g.length,I.g.length),S=[],A=0,P=0;P<=_;P++){var D=A+(this.i(P)&65535)+(I.i(P)&65535),x=(D>>>16)+(this.i(P)>>>16)+(I.i(P)>>>16);A=x>>>16,D&=65535,x&=65535,S[P]=x<<16|D}return new s(S,S[S.length-1]&-2147483648?-1:0)};function T(I,_){return I.add(R(_))}t.j=function(I){if(v(this)||v(I))return h;if(b(this))return b(I)?R(this).j(R(I)):R(R(this).j(I));if(b(I))return R(this.j(R(I)));if(0>this.l(m)&&0>I.l(m))return c(this.m()*I.m());for(var _=this.g.length+I.g.length,S=[],A=0;A<2*_;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(var P=0;P<I.g.length;P++){var D=this.i(A)>>>16,x=this.i(A)&65535,ae=I.i(P)>>>16,Me=I.i(P)&65535;S[2*A+2*P]+=x*Me,y(S,2*A+2*P),S[2*A+2*P+1]+=D*Me,y(S,2*A+2*P+1),S[2*A+2*P+1]+=x*ae,y(S,2*A+2*P+1),S[2*A+2*P+2]+=D*ae,y(S,2*A+2*P+2)}for(A=0;A<_;A++)S[A]=S[2*A+1]<<16|S[2*A];for(A=_;A<2*_;A++)S[A]=0;return new s(S,0)};function y(I,_){for(;(I[_]&65535)!=I[_];)I[_+1]+=I[_]>>>16,I[_]&=65535,_++}function E(I,_){this.g=I,this.h=_}function C(I,_){if(v(_))throw Error("division by zero");if(v(I))return new E(h,h);if(b(I))return _=C(R(I),_),new E(R(_.g),R(_.h));if(b(_))return _=C(I,R(_)),new E(R(_.g),_.h);if(30<I.g.length){if(b(I)||b(_))throw Error("slowDivide_ only works with positive integers.");for(var S=p,A=_;0>=A.l(I);)S=k(S),A=k(A);var P=V(S,1),D=V(A,1);for(A=V(A,2),S=V(S,2);!v(A);){var x=D.add(A);0>=x.l(I)&&(P=P.add(S),D=x),A=V(A,1),S=V(S,1)}return _=T(I,P.j(_)),new E(P,_)}for(P=h;0<=I.l(_);){for(S=Math.max(1,Math.floor(I.m()/_.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(S),x=D.j(_);b(x)||0<x.l(I);)S-=A,D=c(S),x=D.j(_);v(D)&&(D=p),P=P.add(D),I=T(I,x)}return new E(P,I)}t.A=function(I){return C(this,I).h},t.and=function(I){for(var _=Math.max(this.g.length,I.g.length),S=[],A=0;A<_;A++)S[A]=this.i(A)&I.i(A);return new s(S,this.h&I.h)},t.or=function(I){for(var _=Math.max(this.g.length,I.g.length),S=[],A=0;A<_;A++)S[A]=this.i(A)|I.i(A);return new s(S,this.h|I.h)},t.xor=function(I){for(var _=Math.max(this.g.length,I.g.length),S=[],A=0;A<_;A++)S[A]=this.i(A)^I.i(A);return new s(S,this.h^I.h)};function k(I){for(var _=I.g.length+1,S=[],A=0;A<_;A++)S[A]=I.i(A)<<1|I.i(A-1)>>>31;return new s(S,I.h)}function V(I,_){var S=_>>5;_%=32;for(var A=I.g.length-S,P=[],D=0;D<A;D++)P[D]=0<_?I.i(D+S)>>>_|I.i(D+S+1)<<32-_:I.i(D+S);return new s(P,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,f1=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,Wr=s}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});var il=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h1,Zo,p1,Il,Gf,g1,m1,v1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof il=="object"&&il];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var w=0;w<l.length-1;w++){var N=l[w];if(!(N in g))break e;g=g[N]}l=l[l.length-1],w=g[l],f=f(w),f!=w&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}function o(l,f){l instanceof String&&(l+="");var g=0,w=!1,N={next:function(){if(!w&&g<l.length){var M=g++;return{value:f(M,l[M]),done:!1}}return w=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(l){return l||function(){return o(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,g){return l.call.apply(l.bind,arguments)}function h(l,f,g){if(!l)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,w),l.apply(f,N)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,p.apply(null,arguments)}function m(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var w=g.slice();return w.push.apply(w,arguments),l.apply(this,w)}}function v(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(w,N,M){for(var $=Array(arguments.length-2),we=2;we<arguments.length;we++)$[we-2]=arguments[we];return f.prototype[N].apply(w,$)}}function b(l){const f=l.length;if(0<f){const g=Array(f);for(let w=0;w<f;w++)g[w]=l[w];return g}return[]}function R(l,f){for(let g=1;g<arguments.length;g++){const w=arguments[g];if(u(w)){const N=l.length||0,M=w.length||0;l.length=N+M;for(let $=0;$<M;$++)l[N+$]=w[$]}else l.push(w)}}class T{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function y(l){return/^[\s\xa0]*$/.test(l)}function E(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function C(l){return C[" "](l),l}C[" "]=function(){};var k=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function V(l,f,g){for(const w in l)f.call(g,l[w],w,l)}function I(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function _(l){const f={};for(const g in l)f[g]=l[g];return f}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,f){let g,w;for(let N=1;N<arguments.length;N++){w=arguments[N];for(g in w)l[g]=w[g];for(let M=0;M<S.length;M++)g=S[M],Object.prototype.hasOwnProperty.call(w,g)&&(l[g]=w[g])}}function P(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function D(l){a.setTimeout(()=>{throw l},0)}function x(){var l=Y;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class ae{constructor(){this.h=this.g=null}add(f,g){const w=Me.get();w.set(f,g),this.h?this.h.next=w:this.g=w,this.h=w}}var Me=new T(()=>new ze,l=>l.reset());class ze{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let at,z=!1,Y=new ae,Q=()=>{const l=a.Promise.resolve(void 0);at=()=>{l.then(pe)}};var pe=()=>{for(var l;l=x();){try{l.h.call(l.g)}catch(g){D(g)}var f=Me;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}z=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var At=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function We(l,f){if(ye.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,w=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(k){e:{try{C(f.nodeName);var N=!0;break e}catch{}N=!1}N||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ct[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&We.aa.h.call(this)}}v(We,ye);var Ct={2:"touch",3:"pen",4:"mouse"};We.prototype.h=function(){We.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),ai=0;function _o(l,f,g,w,N){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!w,this.ha=N,this.key=++ai,this.da=this.fa=!1}function on(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function $n(l){this.src=l,this.g={},this.h=0}$n.prototype.add=function(l,f,g,w,N){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var $=xr(l,f,w,N);return-1<$?(f=l[$],g||(f.fa=!1)):(f=new _o(f,this.src,M,!!w,N),f.fa=g,l.push(f)),f};function li(l,f){var g=f.type;if(g in l.g){var w=l.g[g],N=Array.prototype.indexOf.call(w,f,void 0),M;(M=0<=N)&&Array.prototype.splice.call(w,N,1),M&&(on(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function xr(l,f,g,w){for(var N=0;N<l.length;++N){var M=l[N];if(!M.da&&M.listener==f&&M.capture==!!g&&M.ha==w)return N}return-1}var zn="closure_lm_"+(1e6*Math.random()|0),ui={};function ci(l,f,g,w,N){if(w&&w.once)return Wn(l,f,g,w,N);if(Array.isArray(f)){for(var M=0;M<f.length;M++)ci(l,f[M],g,w,N);return null}return g=Ic(g),l&&l[yt]?l.K(f,g,c(w)?!!w.capture:!!w,N):di(l,f,g,!1,w,N)}function di(l,f,g,w,N,M){if(!f)throw Error("Invalid event type");var $=c(N)?!!N.capture:!!N,we=Ec(l);if(we||(l[zn]=we=new $n(l)),g=we.add(f,g,w,$,M),g.proxy)return g;if(w=wc(),g.proxy=w,w.src=l,w.listener=g,l.addEventListener)At||(N=$),N===void 0&&(N=!1),l.addEventListener(f.toString(),w,N);else if(l.attachEvent)l.attachEvent(Eg(f.toString()),w);else if(l.addListener&&l.removeListener)l.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return g}function wc(){function l(g){return f.call(l.src,l.listener,g)}const f=kT;return l}function Wn(l,f,g,w,N){if(Array.isArray(f)){for(var M=0;M<f.length;M++)Wn(l,f[M],g,w,N);return null}return g=Ic(g),l&&l[yt]?l.L(f,g,c(w)?!!w.capture:!!w,N):di(l,f,g,!0,w,N)}function fi(l,f,g,w,N){if(Array.isArray(f))for(var M=0;M<f.length;M++)fi(l,f[M],g,w,N);else w=c(w)?!!w.capture:!!w,g=Ic(g),l&&l[yt]?(l=l.i,f=String(f).toString(),f in l.g&&(M=l.g[f],g=xr(M,g,w,N),-1<g&&(on(M[g]),Array.prototype.splice.call(M,g,1),M.length==0&&(delete l.g[f],l.h--)))):l&&(l=Ec(l))&&(f=l.g[f.toString()],l=-1,f&&(l=xr(f,g,w,N)),(g=-1<l?f[l]:null)&&_c(g))}function _c(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[yt])li(f.i,l);else{var g=l.type,w=l.proxy;f.removeEventListener?f.removeEventListener(g,w,l.capture):f.detachEvent?f.detachEvent(Eg(g),w):f.addListener&&f.removeListener&&f.removeListener(w),(g=Ec(f))?(li(g,l),g.h==0&&(g.src=null,f[zn]=null)):on(l)}}}function Eg(l){return l in ui?ui[l]:ui[l]="on"+l}function kT(l,f){if(l.da)l=!0;else{f=new We(f,this);var g=l.listener,w=l.ha||l.src;l.fa&&_c(l),l=g.call(w,f)}return l}function Ec(l){return l=l[zn],l instanceof $n?l:null}var Tc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ic(l){return typeof l=="function"?l:(l[Tc]||(l[Tc]=function(f){return l.handleEvent(f)}),l[Tc])}function lt(){re.call(this),this.i=new $n(this),this.M=this,this.F=null}v(lt,re),lt.prototype[yt]=!0,lt.prototype.removeEventListener=function(l,f,g,w){fi(this,l,f,g,w)};function wt(l,f){var g,w=l.F;if(w)for(g=[];w;w=w.F)g.push(w);if(l=l.M,w=f.type||f,typeof f=="string")f=new ye(f,l);else if(f instanceof ye)f.target=f.target||l;else{var N=f;f=new ye(w,l),A(f,N)}if(N=!0,g)for(var M=g.length-1;0<=M;M--){var $=f.g=g[M];N=Ea($,w,!0,f)&&N}if($=f.g=l,N=Ea($,w,!0,f)&&N,N=Ea($,w,!1,f)&&N,g)for(M=0;M<g.length;M++)$=f.g=g[M],N=Ea($,w,!1,f)&&N}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],w=0;w<g.length;w++)on(g[w]);delete l.g[f],l.h--}}this.F=null},lt.prototype.K=function(l,f,g,w){return this.i.add(String(l),f,!1,g,w)},lt.prototype.L=function(l,f,g,w){return this.i.add(String(l),f,!0,g,w)};function Ea(l,f,g,w){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var N=!0,M=0;M<f.length;++M){var $=f[M];if($&&!$.da&&$.capture==g){var we=$.listener,Xe=$.ha||$.src;$.fa&&li(l.i,$),N=we.call(Xe,w)!==!1&&N}}return N&&!w.defaultPrevented}function Tg(l,f,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function Ig(l){l.g=Tg(()=>{l.g=null,l.i&&(l.i=!1,Ig(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class NT extends re{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ig(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Eo(l){re.call(this),this.h=l,this.g={}}v(Eo,re);var Sg=[];function bg(l){V(l.g,function(f,g){this.g.hasOwnProperty(g)&&_c(f)},l),l.g={}}Eo.prototype.N=function(){Eo.aa.N.call(this),bg(this)},Eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sc=a.JSON.stringify,OT=a.JSON.parse,VT=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function bc(){}bc.prototype.h=null;function Ag(l){return l.h||(l.h=l.i())}function Cg(){}var To={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ac(){ye.call(this,"d")}v(Ac,ye);function Cc(){ye.call(this,"c")}v(Cc,ye);var Pr={},xg=null;function Ta(){return xg=xg||new lt}Pr.La="serverreachability";function Pg(l){ye.call(this,Pr.La,l)}v(Pg,ye);function Io(l){const f=Ta();wt(f,new Pg(f))}Pr.STAT_EVENT="statevent";function Rg(l,f){ye.call(this,Pr.STAT_EVENT,l),this.stat=f}v(Rg,ye);function _t(l){const f=Ta();wt(f,new Rg(f,l))}Pr.Ma="timingevent";function Dg(l,f){ye.call(this,Pr.Ma,l),this.size=f}v(Dg,ye);function So(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function bo(){this.g=!0}bo.prototype.xa=function(){this.g=!1};function MT(l,f,g,w,N,M){l.info(function(){if(l.g)if(M)for(var $="",we=M.split("&"),Xe=0;Xe<we.length;Xe++){var fe=we[Xe].split("=");if(1<fe.length){var ut=fe[0];fe=fe[1];var ct=ut.split("_");$=2<=ct.length&&ct[1]=="type"?$+(ut+"="+fe+"&"):$+(ut+"=redacted&")}}else $=null;else $=M;return"XMLHTTP REQ ("+w+") [attempt "+N+"]: "+f+`
`+g+`
`+$})}function LT(l,f,g,w,N,M,$){l.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+N+"]: "+f+`
`+g+`
`+M+" "+$})}function hi(l,f,g,w){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+BT(l,g)+(w?" "+w:"")})}function FT(l,f){l.info(function(){return"TIMEOUT: "+f})}bo.prototype.info=function(){};function BT(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var w=g[l];if(!(2>w.length)){var N=w[1];if(Array.isArray(N)&&!(1>N.length)){var M=N[0];if(M!="noop"&&M!="stop"&&M!="close")for(var $=1;$<N.length;$++)N[$]=""}}}}return Sc(g)}catch{return f}}var Ia={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xc;function Sa(){}v(Sa,bc),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},xc=new Sa;function Gn(l,f,g,w){this.j=l,this.i=f,this.l=g,this.R=w||1,this.U=new Eo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ng}function Ng(){this.i=null,this.g="",this.h=!1}var Og={},Pc={};function Rc(l,f,g){l.L=1,l.v=xa(An(f)),l.m=g,l.P=!0,Vg(l,null)}function Vg(l,f){l.F=Date.now(),ba(l),l.A=An(l.v);var g=l.A,w=l.R;Array.isArray(w)||(w=[String(w)]),Qg(g.i,"t",w),l.C=0,g=l.j.J,l.h=new Ng,l.g=hm(l.j,g?f:null,!l.m),0<l.O&&(l.M=new NT(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,w=l.ca;var N="readystatechange";Array.isArray(N)||(N&&(Sg[0]=N.toString()),N=Sg);for(var M=0;M<N.length;M++){var $=ci(g,N[M],w||f.handleEvent,!1,f.h||f);if(!$)break;f.g[$.key]=$}f=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Io(),MT(l.i,l.u,l.A,l.l,l.R,l.m)}Gn.prototype.ca=function(l){l=l.target;const f=this.M;f&&Cn(l)==3?f.j():this.Y(l)},Gn.prototype.Y=function(l){try{if(l==this.g)e:{const ct=Cn(this.g);var f=this.g.Ba();const mi=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||nm(this.g)))){this.J||ct!=4||f==7||(f==8||0>=mi?Io(3):Io(2)),Dc(this);var g=this.g.Z();this.X=g;t:if(Mg(this)){var w=nm(this.g);l="";var N=w.length,M=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rr(this),Ao(this);var $="";break t}this.h.i=new a.TextDecoder}for(f=0;f<N;f++)this.h.h=!0,l+=this.h.i.decode(w[f],{stream:!(M&&f==N-1)});w.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,LT(this.i,this.u,this.A,this.l,this.R,ct,g),this.o){if(this.T&&!this.K){t:{if(this.g){var we,Xe=this.g;if((we=Xe.g?Xe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(we)){var fe=we;break t}}fe=null}if(g=fe)hi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,kc(this,g);else{this.o=!1,this.s=3,_t(12),Rr(this),Ao(this);break e}}if(this.P){g=!0;let sn;for(;!this.J&&this.C<$.length;)if(sn=jT(this,$),sn==Pc){ct==4&&(this.s=4,_t(14),g=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Og){this.s=4,_t(15),hi(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else hi(this.i,this.l,sn,null),kc(this,sn);if(Mg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||$.length!=0||this.h.h||(this.s=1,_t(16),g=!1),this.o=this.o&&g,!g)hi(this.i,this.l,$,"[Invalid Chunked Response]"),Rr(this),Ao(this);else if(0<$.length&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.ba&&!ut.M&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Fc(ut),ut.M=!0,_t(11))}}else hi(this.i,this.l,$,null),kc(this,$);ct==4&&Rr(this),this.o&&!this.J&&(ct==4?um(this.j,this):(this.o=!1,ba(this)))}else rI(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Rr(this),Ao(this)}}}catch{}finally{}};function Mg(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function jT(l,f){var g=l.C,w=f.indexOf(`
`,g);return w==-1?Pc:(g=Number(f.substring(g,w)),isNaN(g)?Og:(w+=1,w+g>f.length?Pc:(f=f.slice(w,w+g),l.C=w+g,f)))}Gn.prototype.cancel=function(){this.J=!0,Rr(this)};function ba(l){l.S=Date.now()+l.I,Lg(l,l.I)}function Lg(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=So(p(l.ba,l),f)}function Dc(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Gn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(FT(this.i,this.A),this.L!=2&&(Io(),_t(17)),Rr(this),this.s=2,Ao(this)):Lg(this,this.S-l)};function Ao(l){l.j.G==0||l.J||um(l.j,l)}function Rr(l){Dc(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,bg(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function kc(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Nc(g.h,l))){if(!l.K&&Nc(g.h,l)&&g.G==3){try{var w=g.Da.g.parse(f)}catch{w=null}if(Array.isArray(w)&&w.length==3){var N=w;if(N[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Oa(g),ka(g);else break e;Lc(g),_t(18)}}else g.za=N[1],0<g.za-g.T&&37500>N[2]&&g.F&&g.v==0&&!g.C&&(g.C=So(p(g.Za,g),6e3));if(1>=jg(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else kr(g,11)}else if((l.K||g.g==l)&&Oa(g),!y(f))for(N=g.Da.g.parse(f),f=0;f<N.length;f++){let fe=N[f];if(g.T=fe[0],fe=fe[1],g.G==2)if(fe[0]=="c"){g.K=fe[1],g.ia=fe[2];const ut=fe[3];ut!=null&&(g.la=ut,g.j.info("VER="+g.la));const ct=fe[4];ct!=null&&(g.Aa=ct,g.j.info("SVER="+g.Aa));const mi=fe[5];mi!=null&&typeof mi=="number"&&0<mi&&(w=1.5*mi,g.L=w,g.j.info("backChannelRequestTimeoutMs_="+w)),w=g;const sn=l.g;if(sn){const Ma=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ma){var M=w.h;M.g||Ma.indexOf("spdy")==-1&&Ma.indexOf("quic")==-1&&Ma.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Oc(M,M.h),M.h=null))}if(w.D){const Bc=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bc&&(w.ya=Bc,Te(w.I,w.D,Bc))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),w=g;var $=l;if(w.qa=fm(w,w.J?w.ia:null,w.W),$.K){Ug(w.h,$);var we=$,Xe=w.L;Xe&&(we.I=Xe),we.B&&(Dc(we),ba(we)),w.g=$}else am(w);0<g.i.length&&Na(g)}else fe[0]!="stop"&&fe[0]!="close"||kr(g,7);else g.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?kr(g,7):Mc(g):fe[0]!="noop"&&g.l&&g.l.ta(fe),g.v=0)}}Io(4)}catch{}}var UT=class{constructor(l,f){this.g=l,this.map=f}};function Fg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Bg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function jg(l){return l.h?1:l.g?l.g.size:0}function Nc(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Oc(l,f){l.g?l.g.add(f):l.h=f}function Ug(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Fg.prototype.cancel=function(){if(this.i=$g(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function $g(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return b(l.i)}function $T(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],g=l.length,w=0;w<g;w++)f.push(l[w]);return f}f=[],g=0;for(w in l)f[g++]=l[w];return f}function zT(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const w in l)f[g++]=w;return f}}}function zg(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=zT(l),w=$T(l),N=w.length,M=0;M<N;M++)f.call(void 0,w[M],g&&g[M],l)}var Wg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WT(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var w=l[g].indexOf("="),N=null;if(0<=w){var M=l[g].substring(0,w);N=l[g].substring(w+1)}else M=l[g];f(M,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function Dr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Dr){this.h=l.h,Aa(this,l.j),this.o=l.o,this.g=l.g,Ca(this,l.s),this.l=l.l;var f=l.i,g=new Po;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Gg(this,g),this.m=l.m}else l&&(f=String(l).match(Wg))?(this.h=!1,Aa(this,f[1]||"",!0),this.o=Co(f[2]||""),this.g=Co(f[3]||"",!0),Ca(this,f[4]),this.l=Co(f[5]||"",!0),Gg(this,f[6]||"",!0),this.m=Co(f[7]||"")):(this.h=!1,this.i=new Po(null,this.h))}Dr.prototype.toString=function(){var l=[],f=this.j;f&&l.push(xo(f,Hg,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(xo(f,Hg,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(xo(g,g.charAt(0)=="/"?qT:HT,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",xo(g,QT)),l.join("")};function An(l){return new Dr(l)}function Aa(l,f,g){l.j=g?Co(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Ca(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Gg(l,f,g){f instanceof Po?(l.i=f,YT(l.i,l.h)):(g||(f=xo(f,KT)),l.i=new Po(f,l.h))}function Te(l,f,g){l.i.set(f,g)}function xa(l){return Te(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Co(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function xo(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,GT),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function GT(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Hg=/[#\/\?@]/g,HT=/[#\?:]/g,qT=/[#\?]/g,KT=/[#\?@]/g,QT=/#/g;function Po(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Hn(l){l.g||(l.g=new Map,l.h=0,l.i&&WT(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Po.prototype,t.add=function(l,f){Hn(this),this.i=null,l=pi(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function qg(l,f){Hn(l),f=pi(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Kg(l,f){return Hn(l),f=pi(l,f),l.g.has(f)}t.forEach=function(l,f){Hn(this),this.g.forEach(function(g,w){g.forEach(function(N){l.call(f,N,w,this)},this)},this)},t.na=function(){Hn(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let w=0;w<f.length;w++){const N=l[w];for(let M=0;M<N.length;M++)g.push(f[w])}return g},t.V=function(l){Hn(this);let f=[];if(typeof l=="string")Kg(this,l)&&(f=f.concat(this.g.get(pi(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},t.set=function(l,f){return Hn(this),this.i=null,l=pi(this,l),Kg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Qg(l,f,g){qg(l,f),0<g.length&&(l.i=null,l.g.set(pi(l,f),b(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var w=f[g];const M=encodeURIComponent(String(w)),$=this.V(w);for(w=0;w<$.length;w++){var N=M;$[w]!==""&&(N+="="+encodeURIComponent(String($[w]))),l.push(N)}}return this.i=l.join("&")};function pi(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function YT(l,f){f&&!l.j&&(Hn(l),l.i=null,l.g.forEach(function(g,w){var N=w.toLowerCase();w!=N&&(qg(this,w),Qg(this,N,g))},l)),l.j=f}function XT(l,f){const g=new bo;if(a.Image){const w=new Image;w.onload=m(qn,g,"TestLoadImage: loaded",!0,f,w),w.onerror=m(qn,g,"TestLoadImage: error",!1,f,w),w.onabort=m(qn,g,"TestLoadImage: abort",!1,f,w),w.ontimeout=m(qn,g,"TestLoadImage: timeout",!1,f,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=l}else f(!1)}function JT(l,f){const g=new bo,w=new AbortController,N=setTimeout(()=>{w.abort(),qn(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:w.signal}).then(M=>{clearTimeout(N),M.ok?qn(g,"TestPingServer: ok",!0,f):qn(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(N),qn(g,"TestPingServer: error",!1,f)})}function qn(l,f,g,w,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),w(g)}catch{}}function ZT(){this.g=new VT}function eI(l,f,g){const w=g||"";try{zg(l,function(N,M){let $=N;c(N)&&($=Sc(N)),f.push(w+M+"="+encodeURIComponent($))})}catch(N){throw f.push(w+"type="+encodeURIComponent("_badmap")),N}}function Pa(l){this.l=l.Ub||null,this.j=l.eb||!1}v(Pa,bc),Pa.prototype.g=function(){return new Ra(this.l,this.j)},Pa.prototype.i=function(l){return function(){return l}}({});function Ra(l,f){lt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ra,lt),t=Ra.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Do(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ro(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Do(this)),this.g&&(this.readyState=3,Do(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Ro(this):Do(this),this.readyState==3&&Yg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ro(this))},t.Qa=function(l){this.g&&(this.response=l,Ro(this))},t.ga=function(){this.g&&Ro(this)};function Ro(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Do(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function Do(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Xg(l){let f="";return V(l,function(g,w){f+=w,f+=":",f+=g,f+=`\r
`}),f}function Vc(l,f,g){e:{for(w in g){var w=!1;break e}w=!0}w||(g=Xg(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Te(l,f,g))}function De(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(De,lt);var tI=/^https?$/i,nI=["POST","PUT"];t=De.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,g,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xc.g(),this.v=this.o?Ag(this.o):Ag(xc),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(M){Jg(this,M);return}if(l=g||"",g=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var N in w)g.set(N,w[N]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const M of w.keys())g.set(M,w.get(M));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),N=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nI,f,void 0))||w||N||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,$]of g)this.g.setRequestHeader(M,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tm(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){Jg(this,M)}};function Jg(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Zg(l),Da(l)}function Zg(l){l.A||(l.A=!0,wt(l,"complete"),wt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,wt(this,"complete"),wt(this,"abort"),Da(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Da(this,!0)),De.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?em(this):this.bb())},t.bb=function(){em(this)};function em(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Cn(l)!=4||l.Z()!=2)){if(l.u&&Cn(l)==4)Tg(l.Ea,0,l);else if(wt(l,"readystatechange"),Cn(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var w;if(w=$===0){var N=String(l.D).match(Wg)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),w=!tI.test(N?N.toLowerCase():"")}g=w}if(g)wt(l,"complete"),wt(l,"success");else{l.m=6;try{var M=2<Cn(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",Zg(l)}}finally{Da(l)}}}}function Da(l,f){if(l.g){tm(l);const g=l.g,w=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||wt(l,"ready");try{g.onreadystatechange=w}catch{}}}function tm(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Cn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),OT(f)}};function nm(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function rI(l){const f={};l=(l.g&&2<=Cn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<l.length;w++){if(y(l[w]))continue;var g=P(l[w]);const N=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=f[N]||[];f[N]=M,M.push(g)}I(f,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ko(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function rm(l){this.Aa=0,this.i=[],this.j=new bo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ko("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ko("baseRetryDelayMs",5e3,l),this.cb=ko("retryDelaySeedMs",1e4,l),this.Wa=ko("forwardChannelMaxRetries",2,l),this.wa=ko("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Fg(l&&l.concurrentRequestLimit),this.Da=new ZT,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rm.prototype,t.la=8,t.G=1,t.connect=function(l,f,g,w){_t(0),this.W=l,this.H=f||{},g&&w!==void 0&&(this.H.OSID=g,this.H.OAID=w),this.F=this.X,this.I=fm(this,null,this.W),Na(this)};function Mc(l){if(im(l),l.G==3){var f=l.U++,g=An(l.I);if(Te(g,"SID",l.K),Te(g,"RID",f),Te(g,"TYPE","terminate"),No(l,g),f=new Gn(l,l.j,f),f.L=2,f.v=xa(An(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=hm(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ba(f)}dm(l)}function ka(l){l.g&&(Fc(l),l.g.cancel(),l.g=null)}function im(l){ka(l),l.u&&(a.clearTimeout(l.u),l.u=null),Oa(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Na(l){if(!Bg(l.h)&&!l.s){l.s=!0;var f=l.Ga;at||Q(),z||(at(),z=!0),Y.add(f,l),l.B=0}}function iI(l,f){return jg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=So(p(l.Ga,l,f),cm(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const N=new Gn(this,this.j,l);let M=this.o;if(this.S&&(M?(M=_(M),A(M,this.S)):M=this.S),this.m!==null||this.O||(N.H=M,M=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var w=this.i[g];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(f+=w,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=sm(this,N,f),g=An(this.I),Te(g,"RID",l),Te(g,"CVER",22),this.D&&Te(g,"X-HTTP-Session-Id",this.D),No(this,g),M&&(this.O?f="headers="+encodeURIComponent(String(Xg(M)))+"&"+f:this.m&&Vc(g,this.m,M)),Oc(this.h,N),this.Ua&&Te(g,"TYPE","init"),this.P?(Te(g,"$req",f),Te(g,"SID","null"),N.T=!0,Rc(N,g,null)):Rc(N,g,f),this.G=2}}else this.G==3&&(l?om(this,l):this.i.length==0||Bg(this.h)||om(this))};function om(l,f){var g;f?g=f.l:g=l.U++;const w=An(l.I);Te(w,"SID",l.K),Te(w,"RID",g),Te(w,"AID",l.T),No(l,w),l.m&&l.o&&Vc(w,l.m,l.o),g=new Gn(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=sm(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Oc(l.h,g),Rc(g,w,f)}function No(l,f){l.H&&V(l.H,function(g,w){Te(f,w,g)}),l.l&&zg({},function(g,w){Te(f,w,g)})}function sm(l,f,g){g=Math.min(l.i.length,g);var w=l.l?p(l.l.Na,l.l,l):null;e:{var N=l.i;let M=-1;for(;;){const $=["count="+g];M==-1?0<g?(M=N[0].g,$.push("ofs="+M)):M=0:$.push("ofs="+M);let we=!0;for(let Xe=0;Xe<g;Xe++){let fe=N[Xe].g;const ut=N[Xe].map;if(fe-=M,0>fe)M=Math.max(0,N[Xe].g-100),we=!1;else try{eI(ut,$,"req"+fe+"_")}catch{w&&w(ut)}}if(we){w=$.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,w}function am(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;at||Q(),z||(at(),z=!0),Y.add(f,l),l.v=0}}function Lc(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=So(p(l.Fa,l),cm(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,lm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=So(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),ka(this),lm(this))};function Fc(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function lm(l){l.g=new Gn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=An(l.qa);Te(f,"RID","rpc"),Te(f,"SID",l.K),Te(f,"AID",l.T),Te(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Te(f,"TO",l.ja),Te(f,"TYPE","xmlhttp"),No(l,f),l.m&&l.o&&Vc(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=xa(An(f)),g.m=null,g.P=!0,Vg(g,l)}t.Za=function(){this.C!=null&&(this.C=null,ka(this),Lc(this),_t(19))};function Oa(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function um(l,f){var g=null;if(l.g==f){Oa(l),Fc(l),l.g=null;var w=2}else if(Nc(l.h,f))g=f.D,Ug(l.h,f),w=1;else return;if(l.G!=0){if(f.o)if(w==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var N=l.B;w=Ta(),wt(w,new Dg(w,g)),Na(l)}else am(l);else if(N=f.s,N==3||N==0&&0<f.X||!(w==1&&iI(l,f)||w==2&&Lc(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),N){case 1:kr(l,5);break;case 4:kr(l,10);break;case 3:kr(l,6);break;default:kr(l,2)}}}function cm(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function kr(l,f){if(l.j.info("Error code "+f),f==2){var g=p(l.fb,l),w=l.Xa;const N=!w;w=new Dr(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Aa(w,"https"),xa(w),N?XT(w.toString(),g):JT(w.toString(),g)}else _t(2);l.G=0,l.l&&l.l.sa(f),dm(l),im(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function dm(l){if(l.G=0,l.ka=[],l.l){const f=$g(l.h);(f.length!=0||l.i.length!=0)&&(R(l.ka,f),R(l.ka,l.i),l.h.i.length=0,b(l.i),l.i.length=0),l.l.ra()}}function fm(l,f,g){var w=g instanceof Dr?An(g):new Dr(g);if(w.g!="")f&&(w.g=f+"."+w.g),Ca(w,w.s);else{var N=a.location;w=N.protocol,f=f?f+"."+N.hostname:N.hostname,N=+N.port;var M=new Dr(null);w&&Aa(M,w),f&&(M.g=f),N&&Ca(M,N),g&&(M.l=g),w=M}return g=l.D,f=l.ya,g&&f&&Te(w,g,f),Te(w,"VER",l.la),No(l,w),w}function hm(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new De(new Pa({eb:g})):new De(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pm(){}t=pm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Va(){}Va.prototype.g=function(l,f){return new Vt(l,f)};function Vt(l,f){lt.call(this),this.g=new rm(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!y(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!y(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new gi(this)}v(Vt,lt),Vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Vt.prototype.close=function(){Mc(this.g)},Vt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Sc(l),l=g);f.i.push(new UT(f.Ya++,l)),f.G==3&&Na(f)},Vt.prototype.N=function(){this.g.l=null,delete this.j,Mc(this.g),delete this.g,Vt.aa.N.call(this)};function gm(l){Ac.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}v(gm,Ac);function mm(){Cc.call(this),this.status=1}v(mm,Cc);function gi(l){this.g=l}v(gi,pm),gi.prototype.ua=function(){wt(this.g,"a")},gi.prototype.ta=function(l){wt(this.g,new gm(l))},gi.prototype.sa=function(l){wt(this.g,new mm)},gi.prototype.ra=function(){wt(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,Vt.prototype.send=Vt.prototype.o,Vt.prototype.open=Vt.prototype.m,Vt.prototype.close=Vt.prototype.close,v1=function(){return new Va},m1=function(){return Ta()},g1=Pr,Gf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ia.NO_ERROR=0,Ia.TIMEOUT=8,Ia.HTTP_ERROR=6,Il=Ia,kg.COMPLETE="complete",p1=kg,Cg.EventType=To,To.OPEN="a",To.CLOSE="b",To.ERROR="c",To.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Zo=Cg,De.prototype.listenOnce=De.prototype.L,De.prototype.getLastError=De.prototype.Ka,De.prototype.getLastErrorCode=De.prototype.Ba,De.prototype.getStatus=De.prototype.Z,De.prototype.getResponseJson=De.prototype.Oa,De.prototype.getResponseText=De.prototype.oa,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Ha,h1=De}).apply(typeof il<"u"?il:typeof self<"u"?self:typeof window<"u"?window:{});const Ay="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pt.UNAUTHENTICATED=new pt(null),pt.GOOGLE_CREDENTIALS=new pt("google-credentials-uid"),pt.FIRST_PARTY=new pt("first-party-uid"),pt.MOCK_USER=new pt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new s1("@firebase/firestore");function Go(){return Xr.logLevel}function H(t,...e){if(Xr.logLevel<=ue.DEBUG){const n=e.map(Lp);Xr.debug(`Firestore (${mo}): ${t}`,...n)}}function Bn(t,...e){if(Xr.logLevel<=ue.ERROR){const n=e.map(Lp);Xr.error(`Firestore (${mo}): ${t}`,...n)}}function to(t,...e){if(Xr.logLevel<=ue.WARN){const n=e.map(Lp);Xr.warn(`Firestore (${mo}): ${t}`,...n)}}function Lp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: `+t;throw Bn(e),new Error(e)}function me(t,e){t||Z()}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends go{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pt.UNAUTHENTICATED))}shutdown(){}}class Qk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yk{constructor(e){this.t=e,this.currentUser=pt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(me(typeof r.accessToken=="string"),new y1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string"),new pt(e)}}class Xk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=pt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Jk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Xk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(pt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){me(this.o===void 0);const r=o=>{o.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,H("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string"),this.R=n.token,new Zk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tN(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function no(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $e.fromMillis(Date.now())}static fromDate(e){return $e.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $e(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new $e(0,0))}static max(){return new ee(new $e(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends zs{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const nN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tt extends zs{construct(e,n,r){return new tt(e,n,r)}static isValidIdentifier(e){return nN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new tt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new G(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new G(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tt(n)}static emptyPath(){return new tt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Se.fromString(e))}static fromName(e){return new K(Se.fromString(e).popFirst(5))}static empty(){return new K(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Se(e.slice()))}}function rN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new $e(n+1,0):new $e(n,r));return new _r(i,K.empty(),e)}function iN(t){return new _r(t.readTime,t.key,-1)}class _r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _r(ee.min(),K.empty(),-1)}static max(){return new _r(ee.max(),K.empty(),-1)}}function oN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==sN)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function lN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fp.oe=-1;function ic(t){return t==null}function pu(t){return t===0&&1/t==-1/0}function uN(t){return typeof t=="number"&&Number.isInteger(t)&&!pu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ii(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||et.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,et.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,et.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ol(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ol(this.root,e,this.comparator,!1)}getReverseIterator(){return new ol(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ol(this.root,e,this.comparator,!0)}}class ol{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class et{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??et.RED,this.left=i??et.EMPTY,this.right=o??et.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new et(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return et.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return et.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,et.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,et.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}}et.EMPTY=null,et.RED=!0,et.BLACK=!1;et.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new et(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new xy(this.data.getIterator())}getIteratorFrom(e){return new xy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new it(this.comparator);return n.data=e,n}}class xy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.fields=e,e.sort(tt.comparator)}static empty(){return new Bt([])}unionWith(e){let n=new it(tt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Bt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return no(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new E1("Invalid base64 string: "+o):o}}(e);return new st(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const cN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(t){if(me(!!t),typeof t=="string"){let e=0;const n=cN.exec(t);if(me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jr(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jp(t){const e=t.mapValue.fields.__previous_value__;return Bp(e)?jp(e):e}function Ws(t){const e=Er(t.mapValue.fields.__local_write_time__.timestampValue);return new $e(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Gs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Gs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Gs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bp(t)?4:hN(t)?9007199254740991:fN(t)?10:11:Z()}function bn(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ws(t).isEqual(Ws(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Er(i.timestampValue),a=Er(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Jr(i.bytesValue).isEqual(Jr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?pu(s)===pu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return no(t.arrayValue.values||[],e.arrayValue.values||[],bn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Cy(s)!==Cy(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!bn(s[u],a[u])))return!1;return!0}(t,e);default:return Z()}}function Hs(t,e){return(t.values||[]).find(n=>bn(n,e))!==void 0}function ro(t,e){if(t===e)return 0;const n=Zr(t),r=Zr(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Py(t.timestampValue,e.timestampValue);case 4:return Py(Ws(t),Ws(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Jr(o),u=Jr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=he(a[c],u[c]);if(d!==0)return d}return he(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=he(Oe(o.latitude),Oe(s.latitude));return a!==0?a:he(Oe(o.longitude),Oe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ry(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,d;const h=o.fields||{},p=s.fields||{},m=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(u=p.value)===null||u===void 0?void 0:u.arrayValue,b=he(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return b!==0?b:Ry(m,v)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===sl.mapValue&&s===sl.mapValue)return 0;if(o===sl.mapValue)return 1;if(s===sl.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const p=he(u[h],d[h]);if(p!==0)return p;const m=ro(a[u[h]],c[d[h]]);if(m!==0)return m}return he(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Z()}}function Py(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Er(t),r=Er(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function Ry(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ro(n[i],r[i]);if(o)return o}return he(n.length,r.length)}function io(t){return Hf(t)}function Hf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Er(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Hf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Hf(n.fields[s])}`;return i+"}"}(t.mapValue):Z()}function Dy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qf(t){return!!t&&"integerValue"in t}function Up(t){return!!t&&"arrayValue"in t}function ky(t){return!!t&&"nullValue"in t}function Ny(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sl(t){return!!t&&"mapValue"in t}function fN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ii(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=hs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.value=e}static empty(){return new Rt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hs(n)}setAll(e){let n=tt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=hs(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Sl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Sl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ii(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Rt(hs(this.value))}}function T1(t){const e=[];return ii(t.fields,(n,r)=>{const i=new tt([n]);if(Sl(r)){const o=T1(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Bt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new mt(e,0,ee.min(),ee.min(),ee.min(),Rt.empty(),0)}static newFoundDocument(e,n,r,i){return new mt(e,1,n,ee.min(),r,i,0)}static newNoDocument(e,n){return new mt(e,2,n,ee.min(),ee.min(),Rt.empty(),0)}static newUnknownDocument(e,n){return new mt(e,3,n,ee.min(),ee.min(),Rt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Rt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Rt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.position=e,this.inclusive=n}}function Oy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),n.key):r=ro(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Vy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e,n="asc"){this.field=e,this.dir=n}}function pN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{}class Be extends I1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mN(e,n,r):n==="array-contains"?new wN(e,r):n==="in"?new _N(e,r):n==="not-in"?new EN(e,r):n==="array-contains-any"?new TN(e,r):new Be(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vN(e,r):new yN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ro(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mn extends I1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mn(e,n)}matches(e){return S1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function S1(t){return t.op==="and"}function b1(t){return gN(t)&&S1(t)}function gN(t){for(const e of t.filters)if(e instanceof mn)return!1;return!0}function Kf(t){if(t instanceof Be)return t.field.canonicalString()+t.op.toString()+io(t.value);if(b1(t))return t.filters.map(e=>Kf(e)).join(",");{const e=t.filters.map(n=>Kf(n)).join(",");return`${t.op}(${e})`}}function A1(t,e){return t instanceof Be?function(r,i){return i instanceof Be&&r.op===i.op&&r.field.isEqual(i.field)&&bn(r.value,i.value)}(t,e):t instanceof mn?function(r,i){return i instanceof mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&A1(s,i.filters[a]),!0):!1}(t,e):void Z()}function C1(t){return t instanceof Be?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof mn?function(n){return n.op.toString()+" {"+n.getFilters().map(C1).join(" ,")+"}"}(t):"Filter"}class mN extends Be{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class vN extends Be{constructor(e,n){super(e,"in",n),this.keys=x1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yN extends Be{constructor(e,n){super(e,"not-in",n),this.keys=x1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function x1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class wN extends Be{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Up(n)&&Hs(n.arrayValue,this.value)}}class _N extends Be{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hs(this.value.arrayValue,n)}}class EN extends Be{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hs(this.value.arrayValue,n)}}class TN extends Be{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function My(t,e=null,n=[],r=[],i=null,o=null,s=null){return new IN(t,e,n,r,i,o,s)}function $p(t){const e=te(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ic(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>io(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>io(r)).join(",")),e.ue=n}return e.ue}function zp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!pN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!A1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Vy(t.startAt,e.startAt)&&Vy(t.endAt,e.endAt)}function Qf(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function SN(t,e,n,r,i,o,s,a){return new vo(t,e,n,r,i,o,s,a)}function P1(t){return new vo(t)}function Ly(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function R1(t){return t.collectionGroup!==null}function ps(t){const e=te(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new it(tt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new qs(o,r))}),n.has(tt.keyField().canonicalString())||e.ce.push(new qs(tt.keyField(),r))}return e.ce}function In(t){const e=te(t);return e.le||(e.le=bN(e,ps(t))),e.le}function bN(t,e){if(t.limitType==="F")return My(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new qs(i.field,o)});const n=t.endAt?new gu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gu(t.startAt.position,t.startAt.inclusive):null;return My(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Yf(t,e){const n=t.filters.concat([e]);return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Xf(t,e,n){return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oc(t,e){return zp(In(t),In(e))&&t.limitType===e.limitType}function D1(t){return`${$p(In(t))}|lt:${t.limitType}`}function _i(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>C1(i)).join(", ")}]`),ic(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>io(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>io(i)).join(",")),`Target(${r})`}(In(t))}; limitType=${t.limitType})`}function sc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of ps(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=Oy(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,ps(r),i)||r.endAt&&!function(s,a,u){const c=Oy(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,ps(r),i))}(t,e)}function AN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function k1(t){return(e,n)=>{let r=!1;for(const i of ps(t)){const o=CN(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function CN(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?ro(u,c):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ii(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new Re(K.comparator);function jn(){return xN}const N1=new Re(K.comparator);function es(...t){let e=N1;for(const n of t)e=e.insert(n.key,n);return e}function O1(t){let e=N1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ur(){return gs()}function V1(){return gs()}function gs(){return new yo(t=>t.toString(),(t,e)=>t.isEqual(e))}const PN=new Re(K.comparator),RN=new it(K.comparator);function oe(...t){let e=RN;for(const n of t)e=e.add(n);return e}const DN=new it(he);function kN(){return DN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pu(e)?"-0":e}}function M1(t){return{integerValue:""+t}}function NN(t,e){return uN(e)?M1(e):Wp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this._=void 0}}function ON(t,e,n){return t instanceof Ks?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Bp(o)&&(o=jp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Qs?F1(t,e):t instanceof Ys?B1(t,e):function(i,o){const s=L1(i,o),a=Fy(s)+Fy(i.Pe);return qf(s)&&qf(i.Pe)?M1(a):Wp(i.serializer,a)}(t,e)}function VN(t,e,n){return t instanceof Qs?F1(t,e):t instanceof Ys?B1(t,e):n}function L1(t,e){return t instanceof mu?function(r){return qf(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Ks extends ac{}class Qs extends ac{constructor(e){super(),this.elements=e}}function F1(t,e){const n=j1(e);for(const r of t.elements)n.some(i=>bn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ys extends ac{constructor(e){super(),this.elements=e}}function B1(t,e){let n=j1(e);for(const r of t.elements)n=n.filter(i=>!bn(i,r));return{arrayValue:{values:n}}}class mu extends ac{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Fy(t){return Oe(t.integerValue||t.doubleValue)}function j1(t){return Up(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.field=e,this.transform=n}}function LN(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qs&&i instanceof Qs||r instanceof Ys&&i instanceof Ys?no(r.elements,i.elements,bn):r instanceof mu&&i instanceof mu?bn(r.Pe,i.Pe):r instanceof Ks&&i instanceof Ks}(t.transform,e.transform)}class FN{constructor(e,n){this.version=e,this.transformResults=n}}class pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lc{}function U1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gp(t.key,pn.none()):new ga(t.key,t.data,pn.none());{const n=t.data,r=Rt.empty();let i=new it(tt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Cr(t.key,r,new Bt(i.toArray()),pn.none())}}function BN(t,e,n){t instanceof ga?function(i,o,s){const a=i.value.clone(),u=jy(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Cr?function(i,o,s){if(!bl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=jy(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll($1(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ms(t,e,n,r){return t instanceof ga?function(o,s,a,u){if(!bl(o.precondition,s))return a;const c=o.value.clone(),d=Uy(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cr?function(o,s,a,u){if(!bl(o.precondition,s))return a;const c=Uy(o.fieldTransforms,u,s),d=s.data;return d.setAll($1(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return bl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function jN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=L1(r.transform,i||null);o!=null&&(n===null&&(n=Rt.empty()),n.set(r.field,o))}return n||null}function By(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&no(r,i,(o,s)=>LN(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ga extends lc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cr extends lc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jy(t,e,n){const r=new Map;me(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,VN(s,a,n[i]))}return r}function Uy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,ON(o,s,e))}return r}class Gp extends lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UN extends lc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&BN(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ms(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ms(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=V1();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=U1(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&no(this.mutations,e.mutations,(n,r)=>By(n,r))&&no(this.baseMutations,e.baseMutations,(n,r)=>By(n,r))}}class Hp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){me(e.mutations.length===r.length);let i=function(){return PN}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Hp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,le;function GN(t){switch(t){default:return Z();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function z1(t){if(t===void 0)return Bn("GRPC error has no .code"),F.UNKNOWN;switch(t){case Le.OK:return F.OK;case Le.CANCELLED:return F.CANCELLED;case Le.UNKNOWN:return F.UNKNOWN;case Le.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Le.INTERNAL:return F.INTERNAL;case Le.UNAVAILABLE:return F.UNAVAILABLE;case Le.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Le.NOT_FOUND:return F.NOT_FOUND;case Le.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Le.ABORTED:return F.ABORTED;case Le.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Le.DATA_LOSS:return F.DATA_LOSS;default:return Z()}}(le=Le||(Le={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new Wr([4294967295,4294967295],0);function $y(t){const e=HN().encode(t),n=new f1;return n.update(e),new Uint8Array(n.digest())}function zy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wr([n,r],0),new Wr([i,o],0)]}class qp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ts(`Invalid padding: ${n}`);if(r<0)throw new ts(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ts(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ts(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Wr.fromNumber(r)));return i.compare(qN)===1&&(i=new Wr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=$y(e),[r,i]=zy(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new qp(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=$y(e),[r,i]=zy(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ts extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ma.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new uc(ee.min(),i,new Re(he),jn(),oe())}}class ma{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ma(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class W1{constructor(e,n){this.targetId=e,this.me=n}}class G1{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Wy{constructor(){this.fe=0,this.ge=Hy(),this.pe=st.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=oe(),n=oe(),r=oe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new ma(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Hy()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class KN{constructor(e){this.Le=e,this.Be=new Map,this.ke=jn(),this.qe=Gy(),this.Qe=new Re(he)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Qf(o))if(r===0){const s=new K(o.path);this.Ue(n,s,mt.newNoDocument(s,ee.min()))}else me(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Jr(r).toUint8Array()}catch(u){if(u instanceof E1)return to("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new qp(s,i,o)}catch(u){return to(u instanceof ts?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Qf(a.target)){const u=new K(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,mt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=oe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new uc(e,n,this.Qe,this.ke,r);return this.ke=jn(),this.qe=Gy(),this.Qe=new Re(he),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Wy,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new it(he),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Gy(){return new Re(K.comparator)}function Hy(){return new Re(K.comparator)}const QN=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),YN=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),XN=(()=>({and:"AND",or:"OR"}))();class JN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jf(t,e){return t.useProto3Json||ic(e)?e:{value:e}}function vu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ZN(t,e){return vu(t,e.toTimestamp())}function Sn(t){return me(!!t),ee.fromTimestamp(function(n){const r=Er(n);return new $e(r.seconds,r.nanos)}(t))}function Kp(t,e){return Zf(t,e).canonicalString()}function Zf(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function q1(t){const e=Se.fromString(t);return me(J1(e)),e}function eh(t,e){return Kp(t.databaseId,e.path)}function Rd(t,e){const n=q1(e);if(n.get(1)!==t.databaseId.projectId)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(Q1(n))}function K1(t,e){return Kp(t.databaseId,e)}function eO(t){const e=q1(t);return e.length===4?Se.emptyPath():Q1(e)}function th(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Q1(t){return me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qy(t,e,n){return{name:eh(t,e),fields:n.value.mapValue.fields}}function tO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(me(d===void 0||typeof d=="string"),st.fromBase64String(d||"")):(me(d===void 0||d instanceof Buffer||d instanceof Uint8Array),st.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=c.code===void 0?F.UNKNOWN:z1(c.code);return new G(d,c.message||"")}(s);n=new G1(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Rd(t,r.document.name),o=Sn(r.document.updateTime),s=r.document.createTime?Sn(r.document.createTime):ee.min(),a=new Rt({mapValue:{fields:r.document.fields}}),u=mt.newFoundDocument(i,o,s,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Al(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Rd(t,r.document),o=r.readTime?Sn(r.readTime):ee.min(),s=mt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Al([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Rd(t,r.document),o=r.removedTargetIds||[];n=new Al([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new WN(i,o),a=r.targetId;n=new W1(a,s)}}return n}function nO(t,e){let n;if(e instanceof ga)n={update:qy(t,e.key,e.value)};else if(e instanceof Gp)n={delete:eh(t,e.key)};else if(e instanceof Cr)n={update:qy(t,e.key,e.data),updateMask:dO(e.fieldMask)};else{if(!(e instanceof UN))return Z();n={verify:eh(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ks)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ys)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof mu)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:ZN(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(t,e.precondition)),n}function rO(t,e){return t&&t.length>0?(me(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Sn(i.updateTime):Sn(o);return s.isEqual(ee.min())&&(s=Sn(o)),new FN(s,i.transformResults||[])}(n,e))):[]}function iO(t,e){return{documents:[K1(t,e.path)]}}function oO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=K1(t,i);const o=function(c){if(c.length!==0)return X1(mn.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Ei(p.field),direction:lO(p.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Jf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function sO(t){let e=eO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){me(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(h){const p=Y1(h);return p instanceof mn&&b1(p)?p.getFilters():[p]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(p=>function(v){return new qs(Ti(v.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(h){let p;return p=typeof h=="object"?h.value:h,ic(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(h){const p=!!h.before,m=h.values||[];return new gu(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const p=!h.before,m=h.values||[];return new gu(m,p)}(n.endAt)),SN(e,i,s,o,a,"F",u,c)}function aO(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Y1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ti(n.unaryFilter.field);return Be.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ti(n.unaryFilter.field);return Be.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ti(n.unaryFilter.field);return Be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ti(n.unaryFilter.field);return Be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Be.create(Ti(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mn.create(n.compositeFilter.filters.map(r=>Y1(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function lO(t){return QN[t]}function uO(t){return YN[t]}function cO(t){return XN[t]}function Ei(t){return{fieldPath:t.canonicalString()}}function Ti(t){return tt.fromServerFormat(t.fieldPath)}function X1(t){return t instanceof Be?function(n){if(n.op==="=="){if(Ny(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NAN"}};if(ky(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ny(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NOT_NAN"}};if(ky(n.value))return{unaryFilter:{field:Ei(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ei(n.field),op:uO(n.op),value:n.value}}}(t):t instanceof mn?function(n){const r=n.getFilters().map(i=>X1(i));return r.length===1?r[0]:{compositeFilter:{op:cO(n.op),filters:r}}}(t):Z()}function dO(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function J1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,i,o=ee.min(),s=ee.min(),a=st.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.ct=e}}function hO(t){const e=sO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(){this.un=new gO}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(_r.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class gO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new it(Se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new it(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new oo(0)}static kn(){return new oo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(){this.changes=new yo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ms(r.mutation,i,Bt.empty(),$e.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Ur();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=es();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=jn();const s=gs(),a=function(){return gs()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Cr)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),ms(d.mutation,c,d.mutation.getFieldMask(),$e.now())):s.set(c.key,Bt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new vO(d,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=gs();let i=new Re((s,a)=>s-a),o=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Bt.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||oe()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=V1();d.forEach(p=>{if(!o.has(p)){const m=U1(n.get(p),r.get(p));m!==null&&h.set(p,m),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(Ur());let a=-1,u=o;return s.next(c=>B.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?B.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,oe())).next(d=>({batchId:a,changes:O1(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=es();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=es();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,u=>{const c=function(h,p){return new vo(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,mt.newInvalidDocument(d)))});let a=es();return s.forEach((u,c)=>{const d=o.get(u);d!==void 0&&ms(d.mutation,c,Bt.empty(),$e.now()),sc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Sn(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:hO(i.bundledQuery),readTime:Sn(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.overlays=new Re(K.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ur();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Ur(),o=n.length+1,s=new K(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Re((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Ur(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ur(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return B.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new zN(n,r));let o=this.Ir.get(n);o===void 0&&(o=oe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.Tr=new it(Ge.Er),this.dr=new it(Ge.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ge(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ge(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new Se([])),r=new Ge(n,e),i=new Ge(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new Se([])),r=new Ge(n,e),i=new Ge(n,e+1);let o=oe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ge(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ge{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||he(e.wr,n.wr)}static Ar(e,n){return he(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new it(Ge.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $N(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Ge(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ge(n,0),i=new Ge(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new it(he);return n.forEach(i=>{const o=new Ge(i,0),s=new Ge(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;K.isDocumentKey(o)||(o=o.child(""));const s=new Ge(new K(o),0);let a=new it(he);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},s),B.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const o=new Ge(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ge(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.Mr=e,this.docs=function(){return new Re(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():mt.newInvalidDocument(n))}getEntries(e,n){let r=jn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():mt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=jn();const s=n.path,a=new K(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||oN(iN(d),r)<=0||(i.has(d.key)||sc(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SO(this)}getSize(e){return B.resolve(this.size)}}class SO extends mO{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e){this.persistence=e,this.Nr=new yo(n=>$p(n),zp),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qp,this.targetCount=0,this.kr=oo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new oo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Fp(0),this.Kr=!1,this.Kr=!0,this.$r=new EO,this.referenceDelegate=e(this),this.Ur=new bO(this),this.indexManager=new pO,this.remoteDocumentCache=function(i){return new IO(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new fO(n),this.Gr=new wO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _O,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new TO(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new CO(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class CO extends aN{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Jr=new Qp,this.Yr=null}static Zr(e){return new Yp(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=K.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ee.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=oe(),i=oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Xp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return k2()?8:lN(R2())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new xO;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Go()<=ue.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",_i(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(Go()<=ue.DEBUG&&H("QueryEngine","Query:",_i(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Go()<=ue.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",_i(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(n))):B.resolve())}Yi(e,n){if(Ly(n))return B.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xf(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=oe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,s,u.readTime)?this.Yi(e,Xf(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return Ly(n)||i.isEqual(ee.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?B.resolve(null):(Go()<=ue.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_i(n)),this.rs(e,s,n,rN(i,-1)).next(a=>a))})}ts(e,n){let r=new it(k1(e));return n.forEach((i,o)=>{sc(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Go()<=ue.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",_i(n)),this.Ji.getDocumentsMatchingQuery(e,n,_r.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Re(he),this._s=new yo(o=>$p(o),zp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yO(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function DO(t,e,n,r){return new RO(t,e,n,r)}async function Z1(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=oe();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}function kO(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,p=h.keys();let m=B.resolve();return p.forEach(v=>{m=m.next(()=>d.getEntry(u,v)).next(b=>{const R=c.docVersions.get(v);me(R!==null),b.version.compareTo(R)<0&&(h.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),d.addEntry(b)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function eT(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function NO(t,e){const n=te(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(n.Ur.removeMatchingKeys(o,d.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,d.addedDocuments,h)));let m=p.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(st.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(b,R,T){return b.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,m,d)&&a.push(n.Ur.updateTargetData(o,m))});let u=jn(),c=oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(OO(o,s,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(ee.min())){const d=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}function OO(t,e,n){let r=oe(),i=oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=jn();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function VO(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function MO(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new tr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function nh(t,e,n){const r=te(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pa(s))throw s;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Ky(t,e,n){const r=te(t);let i=ee.min(),o=oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=te(u),p=h._s.get(d);return p!==void 0?B.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,s,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ee.min(),n?o:oe())).next(a=>(LO(r,AN(e),a),{documents:a,Ts:o})))}function LO(t,e,n){let r=t.us.get(e)||ee.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class Qy{constructor(){this.activeTargetIds=kN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FO{constructor(){this.so=new Qy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Qy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let al=null;function Dd(){return al===null?al=function(){return 268435456+Math.round(2147483648*Math.random())}():al++,"0x"+al.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht="WebChannelConnection";class $O extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Dd(),u=this.xo(n,r.toUriEncodedString());H("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(d=>(H("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw to("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=jO[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Dd();return new Promise((s,a)=>{const u=new h1;u.setWithCredentials(!0),u.listenOnce(p1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Il.NO_ERROR:const d=u.getResponseJson();H(ht,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case Il.TIMEOUT:H(ht,`RPC '${e}' ${o} timed out`),a(new G(F.DEADLINE_EXCEEDED,"Request time out"));break;case Il.HTTP_ERROR:const h=u.getStatus();if(H(ht,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const v=function(R){const T=R.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(T)>=0?T:F.UNKNOWN}(m.status);a(new G(v,m.message))}else a(new G(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new G(F.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{H(ht,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);H(ht,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Dd(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=v1(),a=m1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");H(ht,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);let p=!1,m=!1;const v=new UO({Io:R=>{m?H(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(p||(H(ht,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),H(ht,`RPC '${e}' stream ${i} sending:`,R),h.send(R))},To:()=>h.close()}),b=(R,T,y)=>{R.listen(T,E=>{try{y(E)}catch(C){setTimeout(()=>{throw C},0)}})};return b(h,Zo.EventType.OPEN,()=>{m||(H(ht,`RPC '${e}' stream ${i} transport opened.`),v.yo())}),b(h,Zo.EventType.CLOSE,()=>{m||(m=!0,H(ht,`RPC '${e}' stream ${i} transport closed`),v.So())}),b(h,Zo.EventType.ERROR,R=>{m||(m=!0,to(ht,`RPC '${e}' stream ${i} transport errored:`,R),v.So(new G(F.UNAVAILABLE,"The operation could not be completed")))}),b(h,Zo.EventType.MESSAGE,R=>{var T;if(!m){const y=R.data[0];me(!!y);const E=y,C=E.error||((T=E[0])===null||T===void 0?void 0:T.error);if(C){H(ht,`RPC '${e}' stream ${i} received error:`,C);const k=C.status;let V=function(S){const A=Le[S];if(A!==void 0)return z1(A)}(k),I=C.message;V===void 0&&(V=F.INTERNAL,I="Unknown error status: "+k+" with message "+C.message),m=!0,v.So(new G(V,I)),h.close()}else H(ht,`RPC '${e}' stream ${i} received:`,y),v.bo(y)}}),b(a,g1.STAT_EVENT,R=>{R.stat===Gf.PROXY?H(ht,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Gf.NOPROXY&&H(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function kd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(t){return new JN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tT(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Bn(n.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new G(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zO extends nT{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=tO(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?Sn(s.readTime):ee.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=th(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Qf(u)?{documents:iO(o,u)}:{query:oO(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=H1(o,s.resumeToken);const c=Jf(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=vu(o,s.snapshotVersion.toTimestamp());const c=Jf(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=aO(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=th(this.serializer),n.removeTarget=e,this.a_(n)}}class WO extends nT{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return me(!!e.streamToken),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=rO(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=th(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>nO(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Zf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(F.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Zf(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(F.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class HO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Bn(n),this.D_=!1):H("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{oi(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=te(u);c.L_.add(4),await va(c),c.q_.set("Unknown"),c.L_.delete(4),await dc(c)}(this))})}),this.q_=new HO(r,i)}}async function dc(t){if(oi(t))for(const e of t.B_)await e(!0)}async function va(t){for(const e of t.B_)await e(!1)}function rT(t,e){const n=te(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),tg(n)?eg(n):wo(n).r_()&&Zp(n,e))}function Jp(t,e){const n=te(t),r=wo(n);n.N_.delete(e),r.r_()&&iT(n,e),n.N_.size===0&&(r.r_()?r.o_():oi(n)&&n.q_.set("Unknown"))}function Zp(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(t).A_(e)}function iT(t,e){t.Q_.xe(e),wo(t).R_(e)}function eg(t){t.Q_=new KN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wo(t).start(),t.q_.v_()}function tg(t){return oi(t)&&!wo(t).n_()&&t.N_.size>0}function oi(t){return te(t).L_.size===0}function oT(t){t.Q_=void 0}async function KO(t){t.q_.set("Online")}async function QO(t){t.N_.forEach((e,n)=>{Zp(t,e)})}async function YO(t,e){oT(t),tg(t)?(t.q_.M_(e),eg(t)):t.q_.set("Unknown")}async function XO(t,e,n){if(t.q_.set("Online"),e instanceof G1&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yu(t,r)}else if(e instanceof Al?t.Q_.Ke(e):e instanceof W1?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ee.min()))try{const r=await eT(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.N_.get(c);d&&o.N_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.N_.get(u);if(!d)return;o.N_.set(u,d.withResumeToken(st.EMPTY_BYTE_STRING,d.snapshotVersion)),iT(o,u);const h=new tr(d.target,u,c,d.sequenceNumber);Zp(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await yu(t,r)}}async function yu(t,e,n){if(!pa(e))throw e;t.L_.add(1),await va(t),t.q_.set("Offline"),n||(n=()=>eT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await dc(t)})}function sT(t,e){return e().catch(n=>yu(t,n,e))}async function fc(t){const e=te(t),n=Tr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;JO(e);)try{const i=await VO(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,ZO(e,i)}catch(i){await yu(e,i)}aT(e)&&lT(e)}function JO(t){return oi(t)&&t.O_.length<10}function ZO(t,e){t.O_.push(e);const n=Tr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function aT(t){return oi(t)&&!Tr(t).n_()&&t.O_.length>0}function lT(t){Tr(t).start()}async function eV(t){Tr(t).p_()}async function tV(t){const e=Tr(t);for(const n of t.O_)e.m_(n.mutations)}async function nV(t,e,n){const r=t.O_.shift(),i=Hp.from(r,e,n);await sT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await fc(t)}async function rV(t,e){e&&Tr(t).V_&&await async function(r,i){if(function(s){return GN(s)&&s!==F.ABORTED}(i.code)){const o=r.O_.shift();Tr(r).s_(),await sT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await fc(r)}}(t,e),aT(t)&&lT(t)}async function Xy(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=oi(n);n.L_.add(3),await va(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await dc(n)}async function iV(t,e){const n=te(t);e?(n.L_.delete(2),await dc(n)):e||(n.L_.add(2),await va(n),n.q_.set("Unknown"))}function wo(t){return t.K_||(t.K_=function(n,r,i){const o=te(n);return o.w_(),new zO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:KO.bind(null,t),Ro:QO.bind(null,t),mo:YO.bind(null,t),d_:XO.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tg(t)?eg(t):t.q_.set("Unknown")):(await t.K_.stop(),oT(t))})),t.K_}function Tr(t){return t.U_||(t.U_=function(n,r,i){const o=te(n);return o.w_(),new WO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:eV.bind(null,t),mo:rV.bind(null,t),f_:tV.bind(null,t),g_:nV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await fc(t)):(await t.U_.stop(),t.O_.length>0&&(H("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new ng(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(t,e){if(Bn("AsyncQueue",`${e}: ${t}`),pa(t))return new G(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=es(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new zi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.W_=new Re(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class so{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new so(e,n,zi.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&oc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class sV{constructor(){this.queries=Zy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=te(n),o=i.queries;i.queries=Zy(),o.forEach((s,a)=>{for(const u of a.j_)u.onError(r)})})(this,new G(F.ABORTED,"Firestore shutting down"))}}function Zy(){return new yo(t=>D1(t),oc)}async function aV(t,e){const n=te(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new oV,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=rg(s,`Initialization of query '${_i(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&ig(n)}async function lV(t,e){const n=te(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uV(t,e){const n=te(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&ig(n)}function cV(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function ig(t){t.Y_.forEach(e=>{e.next()})}var rh,e0;(e0=rh||(rh={})).ea="default",e0.Cache="cache";class dV{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new so(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.key=e}}class cT{constructor(e){this.key=e}}class fV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=oe(),this.mutatedKeys=oe(),this.Aa=k1(e),this.Ra=new zi(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Jy,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),m=sc(this.query,h)?h:null,v=!!p&&this.mutatedKeys.has(p.key),b=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let R=!1;p&&m?p.data.isEqual(m.data)?v!==b&&(r.track({type:3,doc:m}),R=!0):this.ga(p,m)||(r.track({type:2,doc:m}),R=!0,(u&&this.Aa(m,u)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),R=!0):p&&!m&&(r.track({type:1,doc:p}),R=!0,(u||c)&&(a=!0)),R&&(m?(s=s.add(m),o=b?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,h)=>function(m,v){const b=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return b(m)-b(v)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new so(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=oe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cT(r))}),this.da.forEach(r=>{e.has(r)||n.push(new uT(r))}),n}ba(e){this.Ta=e.Ts,this.da=oe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return so.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class hV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pV{constructor(e){this.key=e,this.va=!1}}class gV{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new yo(a=>D1(a),oc),this.Ma=new Map,this.xa=new Set,this.Oa=new Re(K.comparator),this.Na=new Map,this.La=new Qp,this.Ba={},this.ka=new Map,this.qa=oo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function mV(t,e,n=!0){const r=mT(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await dT(r,e,n,!0),i}async function vV(t,e){const n=mT(t);await dT(n,e,!0,!1)}async function dT(t,e,n,r){const i=await MO(t.localStore,In(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await yV(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&rT(t.remoteStore,i),a}async function yV(t,e,n,r,i){t.Ka=(h,p,m)=>async function(b,R,T,y){let E=R.view.ma(T);E.ns&&(E=await Ky(b.localStore,R.query,!1).then(({documents:I})=>R.view.ma(I,E)));const C=y&&y.targetChanges.get(R.targetId),k=y&&y.targetMismatches.get(R.targetId)!=null,V=R.view.applyChanges(E,b.isPrimaryClient,C,k);return n0(b,R.targetId,V.wa),V.snapshot}(t,h,p,m);const o=await Ky(t.localStore,e,!0),s=new fV(e,o.Ts),a=s.ma(o.documents),u=ma.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);n0(t,n,c.wa);const d=new hV(e,n,s);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function wV(t,e,n){const r=te(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!oc(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await nh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jp(r.remoteStore,i.targetId),ih(r,i.targetId)}).catch(ha)):(ih(r,i.targetId),await nh(r.localStore,i.targetId,!0))}async function _V(t,e){const n=te(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jp(n.remoteStore,r.targetId))}async function EV(t,e,n){const r=xV(t);try{const i=await function(s,a){const u=te(s),c=$e.now(),d=a.reduce((m,v)=>m.add(v.key),oe());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let v=jn(),b=oe();return u.cs.getEntries(m,d).next(R=>{v=R,v.forEach((T,y)=>{y.isValidDocument()||(b=b.add(T))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,v)).next(R=>{h=R;const T=[];for(const y of a){const E=jN(y,h.get(y.key).overlayedDocument);E!=null&&T.push(new Cr(y.key,E,T1(E.value.mapValue),pn.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,T,a)}).next(R=>{p=R;const T=R.applyToLocalDocumentSet(h,b);return u.documentOverlayCache.saveOverlays(m,R.batchId,T)})}).then(()=>({batchId:p.batchId,changes:O1(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new Re(he)),c=c.insert(a,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await ya(r,i.changes),await fc(r.remoteStore)}catch(i){const o=rg(i,"Failed to persist write");n.reject(o)}}async function fT(t,e){const n=te(t);try{const r=await NO(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?me(s.va):i.removedDocuments.size>0&&(me(s.va),s.va=!1))}),await ya(n,r,e)}catch(r){await ha(r)}}function t0(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=te(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&ig(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TV(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Re(K.comparator);s=s.insert(o,mt.newNoDocument(o,ee.min()));const a=oe().add(o),u=new uc(ee.min(),new Map,new Re(he),s,a);await fT(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),og(r)}else await nh(r.localStore,e,!1).then(()=>ih(r,e,n)).catch(ha)}async function IV(t,e){const n=te(t),r=e.batch.batchId;try{const i=await kO(n.localStore,e);pT(n,r,null),hT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ya(n,i)}catch(i){await ha(i)}}async function SV(t,e,n){const r=te(t);try{const i=await function(s,a){const u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(me(h!==null),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);pT(r,e,n),hT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ya(r,i)}catch(i){await ha(i)}}function hT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function pT(t,e,n){const r=te(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function ih(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||gT(t,r)})}function gT(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Jp(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),og(t))}function n0(t,e,n){for(const r of n)r instanceof uT?(t.La.addReference(r.key,e),bV(t,r)):r instanceof cT?(H("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||gT(t,r.key)):Z()}function bV(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(H("SyncEngine","New document in limbo: "+n),t.xa.add(r),og(t))}function og(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(Se.fromString(e)),r=t.qa.next();t.Na.set(r,new pV(n)),t.Oa=t.Oa.insert(n,r),rT(t.remoteStore,new tr(In(P1(n.path)),r,"TargetPurposeLimboResolution",Fp.oe))}}async function ya(t,e,n){const r=te(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Xp.Wi(u.targetId,c);o.push(h)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,c){const d=te(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(c,p=>B.forEach(p.$i,m=>d.persistence.referenceDelegate.addReference(h,p.targetId,m)).next(()=>B.forEach(p.Ui,m=>d.persistence.referenceDelegate.removeReference(h,p.targetId,m)))))}catch(h){if(!pa(h))throw h;H("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const p=h.targetId;if(!h.fromCache){const m=d.os.get(p),v=m.snapshotVersion,b=m.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(p,b)}}}(r.localStore,o))}async function AV(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await Z1(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new G(F.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ya(n,r.hs)}}function CV(t,e){const n=te(t),r=n.Na.get(e);if(r&&r.va)return oe().add(r.key);{let i=oe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function mT(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TV.bind(null,e),e.Ca.d_=uV.bind(null,e.eventManager),e.Ca.$a=cV.bind(null,e.eventManager),e}function xV(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SV.bind(null,e),e}class wu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return DO(this.persistence,new PO,e.initialUser,this.serializer)}Ga(e){return new AO(Yp.Zr,this.serializer)}Wa(e){return new FO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wu.provider={build:()=>new wu};class oh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>t0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AV.bind(null,this.syncEngine),await iV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new sV}()}createDatastore(e){const n=cc(e.databaseInfo.databaseId),r=function(o){return new $O(o)}(e.databaseInfo);return function(o,s,a,u){return new GO(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new qO(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>t0(this.syncEngine,n,0),function(){return Yy.D()?new Yy:new BO}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,d){const h=new gV(i,o,s,a,u,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=te(i);H("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await va(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}oh.provider={build:()=>new oh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pt.UNAUTHENTICATED,this.clientId=w1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{H("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(H("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=rg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Nd(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Z1(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function r0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DV(t);H("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Xy(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Xy(e.remoteStore,i)),t._onlineComponents=e}async function DV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await Nd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;to("Error using user provided cache. Falling back to memory cache: "+n),await Nd(t,new wu)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await Nd(t,new wu);return t._offlineComponents}async function vT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await r0(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await r0(t,new oh))),t._onlineComponents}function kV(t){return vT(t).then(e=>e.syncEngine)}async function NV(t){const e=await vT(t),n=e.eventManager;return n.onListen=mV.bind(null,e.syncEngine),n.onUnlisten=wV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_V.bind(null,e.syncEngine),n}function OV(t,e,n={}){const r=new gr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const d=new PV({next:p=>{d.Za(),s.enqueueAndForget(()=>lV(o,h)),p.fromCache&&u.source==="server"?c.reject(new G(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),h=new dV(a,d,{includeMetadataChanges:!0,_a:!0});return aV(o,h)}(await NV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e,n){if(!n)throw new G(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VV(t,e,n,r){if(e===!0&&r===!0)throw new G(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function o0(t){if(!K.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function s0(t){if(K.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function hc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function ei(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hc(t);throw new G(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Kk;switch(r.type){case"firstParty":return new Jk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=i0.get(n);r&&(H("ComponentProvider","Removing Datastore"),i0.delete(n),r.terminate())}(this),Promise.resolve()}}function MV(t,e,n,r={}){var i;const o=(t=ei(t,pc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=pt.MOCK_USER;else{a=P2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new G(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new pt(c)}t._authCredentials=new Qk(new y1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new si(this.firestore,e,this._query)}}class zt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}}class mr extends si{constructor(e,n,r){super(e,n,P1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new K(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function _T(t,e,...n){if(t=Ln(t),wT("collection","path",e),t instanceof pc){const r=Se.fromString(e,...n);return s0(r),new mr(t,null,r)}{if(!(t instanceof zt||t instanceof mr))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return s0(r),new mr(t.firestore,null,r)}}function sg(t,e,...n){if(t=Ln(t),arguments.length===1&&(e=w1.newId()),wT("doc","path",e),t instanceof pc){const r=Se.fromString(e,...n);return o0(r),new zt(t,null,new K(r))}{if(!(t instanceof zt||t instanceof mr))throw new G(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return o0(r),new zt(t.firestore,t instanceof mr?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tT(this,"async_queue_retry"),this.Vu=()=>{const r=kd();r&&H("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=kd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=kd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new gr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!pa(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Bn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ng.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&Z()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class wa extends pc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new l0,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l0(e),this._firestoreClient=void 0,await e}}}function LV(t,e){const n=typeof t=="object"?t:Fk(),r=typeof t=="string"?t:e||"(default)",i=Ok(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=C2("firestore");o&&MV(i,...o)}return i}function ET(t){if(t._terminated)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FV(t),t._firestoreClient}function FV(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,c,d){return new dN(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,yT(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new RV(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ao(st.fromBase64String(e))}catch(n){throw new G(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ao(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=/^__.*__$/;class jV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ga(e,this.data,n,this.fieldTransforms)}}class TT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function IT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class ug{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _u(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(IT(this.Cu)&&BV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class UV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||cc(e)}Qu(e,n,r,i=!1){return new ug({Cu:e,methodName:n,qu:r,path:tt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cg(t){const e=t._freezeSettings(),n=cc(t._databaseId);return new UV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $V(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);fg("Data must be an object, but it was:",s,r);const a=ST(r,s);let u,c;if(o.merge)u=new Bt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=sh(e,h,n);if(!s.contains(p))throw new G(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);AT(d,p)||d.push(p)}u=new Bt(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new jV(new Rt(a),u,c)}class vc extends mc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vc}}class dg extends mc{_toFieldTransform(e){return new MN(e.path,new Ks)}isEqual(e){return e instanceof dg}}function zV(t,e,n,r){const i=t.Qu(1,e,n);fg("Data must be an object, but it was:",i,r);const o=[],s=Rt.empty();ii(r,(u,c)=>{const d=hg(e,u,n);c=Ln(c);const h=i.Nu(d);if(c instanceof vc)o.push(d);else{const p=_a(c,h);p!=null&&(o.push(d),s.set(d,p))}});const a=new Bt(o);return new TT(s,a,i.fieldTransforms)}function WV(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[sh(e,r,n)],u=[i];if(o.length%2!=0)throw new G(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<o.length;p+=2)a.push(sh(e,o[p])),u.push(o[p+1]);const c=[],d=Rt.empty();for(let p=a.length-1;p>=0;--p)if(!AT(c,a[p])){const m=a[p];let v=u[p];v=Ln(v);const b=s.Nu(m);if(v instanceof vc)c.push(m);else{const R=_a(v,b);R!=null&&(c.push(m),d.set(m,R))}}const h=new Bt(c);return new TT(d,h,s.fieldTransforms)}function GV(t,e,n,r=!1){return _a(n,t.Qu(r?4:3,e))}function _a(t,e){if(bT(t=Ln(t)))return fg("Unsupported field value:",e,t),ST(t,e);if(t instanceof mc)return function(r,i){if(!IT(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=_a(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=$e.fromDate(r);return{timestampValue:vu(i.serializer,o)}}if(r instanceof $e){const o=new $e(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vu(i.serializer,o)}}if(r instanceof ag)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ao)return{bytesValue:H1(i.serializer,r._byteString)};if(r instanceof zt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Kp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof lg)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return Wp(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${hc(r)}`)}(t,e)}function ST(t,e){const n={};return _1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ii(t,(r,i)=>{const o=_a(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function bT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $e||t instanceof ag||t instanceof ao||t instanceof zt||t instanceof mc||t instanceof lg)}function fg(t,e,n){if(!bT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hc(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function sh(t,e,n){if((e=Ln(e))instanceof gc)return e._internalPath;if(typeof e=="string")return hg(t,e);throw _u("Field path arguments must be of type string or ",t,!1,void 0,n)}const HV=new RegExp("[~\\*/\\[\\]]");function hg(t,e,n){if(e.search(HV)>=0)throw _u(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gc(...e.split("."))._internalPath}catch{throw _u(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _u(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new G(F.INVALID_ARGUMENT,a+t+u)}function AT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qV extends CT{data(){return super.data()}}function pg(t,e){return typeof e=="string"?hg(t,e):e instanceof gc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new G(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gg{}class xT extends gg{}function QV(t,e,...n){let r=[];e instanceof gg&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof vg).length,a=o.filter(u=>u instanceof mg).length;if(s>1||s>0&&a>0)throw new G(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class mg extends xT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mg(e,n,r)}_apply(e){const n=this._parse(e);return PT(e._query,n),new si(e.firestore,e.converter,Yf(e._query,n))}_parse(e){const n=cg(e.firestore);return function(o,s,a,u,c,d,h){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new G(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){c0(h,d);const m=[];for(const v of h)m.push(u0(u,o,v));p={arrayValue:{values:m}}}else p=u0(u,o,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||c0(h,d),p=GV(a,s,h,d==="in"||d==="not-in");return Be.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class vg extends gg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:mn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const u of a)PT(s,u),s=Yf(s,u)}(e._query,n),new si(e.firestore,e.converter,Yf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yg extends xT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yg(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new G(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new G(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qs(o,s)}(e._query,this._field,this._direction);return new si(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new vo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function YV(t,e="asc"){const n=e,r=pg("orderBy",t);return yg._create(r,n)}function u0(t,e,n){if(typeof(n=Ln(n))=="string"){if(n==="")throw new G(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!R1(e)&&n.indexOf("/")!==-1)throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!K.isDocumentKey(r))throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dy(t,new K(r))}if(n instanceof zt)return Dy(t,n._key);throw new G(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hc(n)}.`)}function c0(t,e){if(!Array.isArray(t)||t.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PT(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XV{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ii(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new lg(o)}convertGeoPoint(e){return new ag(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ws(e));default:return null}}convertTimestamp(e){const n=Er(e);return new $e(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);me(J1(r));const i=new Gs(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(n)||Bn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ZV extends CT{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Cl extends ZV{data(e={}){return super.data(e)}}class eM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ll(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Cl(this._firestore,this._userDataWriter,r.key,r,new ll(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new Cl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new Cl(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ll(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:tM(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}class nM extends XV{constructor(e){super(),this.firestore=e}convertBytes(e){return new ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,n)}}function rM(t){t=ei(t,si);const e=ei(t.firestore,wa),n=ET(e),r=new nM(e);return KV(t._query),OV(n,t._query).then(i=>new eM(e,r,t,i))}function iM(t,e,n,...r){t=ei(t,zt);const i=ei(t.firestore,wa),o=cg(i);let s;return s=typeof(e=Ln(e))=="string"||e instanceof gc?WV(o,"updateDoc",t._key,e,n,r):zV(o,"updateDoc",t._key,e),wg(i,[s.toMutation(t._key,pn.exists(!0))])}function oM(t){return wg(ei(t.firestore,wa),[new Gp(t._key,pn.none())])}function sM(t,e){const n=ei(t.firestore,wa),r=sg(t),i=JV(t.converter,e);return wg(n,[$V(cg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,pn.exists(!1))]).then(()=>r)}function wg(t,e){return function(r,i){const o=new gr;return r.asyncQueue.enqueueAndForget(async()=>EV(await kV(r),i,o)),o.promise}(ET(t),e)}function ah(){return new dg("serverTimestamp")}(function(e,n=!0){(function(i){mo=i})(Lk),hu(new Us("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new wa(new Yk(r.getProvider("auth-internal")),new eN(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new G(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gs(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),$i(Ay,"4.7.3",e),$i(Ay,"4.7.3","esm2017")})();var aM="firebase",lM="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(aM,lM,"app");const uM={apiKey:"AIzaSyDXB5wT0hAGOATKllw-fmhHgdAptnI-KLM",authDomain:"todolist-4d79a.firebaseapp.com",projectId:"todolist-4d79a",storageBucket:"todolist-4d79a.firebasestorage.app",messagingSenderId:"89781914451",appId:"1:89781914451:web:8df5524bfdcbbe86eb6fa6"},cM=u1(uM),yc=LV(cM),dM=t=>{const e=t.data();return{id:t.id,title:e.title,description:e.description,priority:e.priority,isCompleted:e.isCompleted,category:e.category||"OTHER",backgroundColor:e.backgroundColor||"#FFF9C4",createdAt:e.createdAt.toDate(),updatedAt:e.updatedAt.toDate()}},fM=async()=>{const t=_T(yc,"todos"),e=QV(t,YV("createdAt","desc"));return(await rM(e)).docs.map(dM)},hM=async t=>(await sM(_T(yc,"todos"),{...t,createdAt:ah(),updatedAt:ah()})).id,Ho=async(t,e)=>{const n=sg(yc,"todos",t);await iM(n,{...e,updatedAt:ah()})},pM=async t=>{await oM(sg(yc,"todos",t))},gM=()=>{const[t,e]=ne.useState(()=>{const E=localStorage.getItem("todos");return E?JSON.parse(E):[]}),[n,r]=ne.useState(!1),[i,o]=ne.useState(()=>localStorage.theme==="dark"),[s,a]=ne.useState("all"),[u,c]=O.useState("ALL");ne.useEffect(()=>{localStorage.setItem("todos",JSON.stringify(t))},[t]),ne.useEffect(()=>{i?(document.documentElement.classList.add("dark"),localStorage.theme="dark"):(document.documentElement.classList.remove("dark"),localStorage.theme="light")},[i]),O.useEffect(()=>{(async()=>{try{const C=await fM();e(C)}catch(C){console.error("Failed to fetch todos:",C)}})()},[]);const d=ne.useMemo(()=>{let E=t;switch(u!=="ALL"&&(E=E.filter(C=>C.category===u)),s){case"important":return E.filter(k=>k.priority===1);case"completed":return E.filter(k=>k.isCompleted);case"today":const C=new Date;return E.filter(k=>new Date(k.createdAt).toDateString()===C.toDateString());default:return E}},[t,s,u]),h=async(E,C)=>{try{const k={title:E,description:C,priority:2,isCompleted:!1,category:"OTHER",backgroundColor:"#FFF9C4"},V=await hM(k),I={...k,id:V,createdAt:new Date,updatedAt:new Date};e([I,...t]),r(!1)}catch(k){console.error("Failed to add todo:",k)}},p=async E=>{try{const C=t.find(k=>k.id===E);if(!C)return;await Ho(E,{isCompleted:!C.isCompleted}),e(t.map(k=>k.id===E?{...k,isCompleted:!k.isCompleted}:k))}catch(C){console.error("Failed to toggle todo:",C)}},m=async E=>{try{const C=t.find(V=>V.id===E);if(!C)return;const k=C.priority===1?2:1;await Ho(E,{priority:k}),e(t.map(V=>V.id===E?{...V,priority:k}:V))}catch(C){console.error("Failed to update priority:",C)}},v=async E=>{try{await pM(E),e(t.filter(C=>C.id!==E))}catch(C){console.error("Failed to delete todo:",C)}},b=async(E,C)=>{try{await Ho(E,{backgroundColor:C}),e(t.map(k=>k.id===E?{...k,backgroundColor:C}:k))}catch(k){console.error("Failed to update color:",k)}},R=async(E,C,k)=>{try{await Ho(E,{title:C,description:k,updatedAt:new Date}),e(t.map(V=>V.id===E?{...V,title:C,description:k,updatedAt:new Date}:V))}catch(V){console.error("Failed to update todo:",V)}},T=E=>{if(!E.destination)return;const C=E.source.index,k=E.destination.index,V=d[C],I=t.findIndex(D=>D.id===V.id),_=Array.from(t),[S]=_.splice(I,1),A=d[k],P=t.findIndex(D=>D.id===A.id);_.splice((P>=I,P),0,S),e(_)},y=async(E,C)=>{try{await Ho(E,{category:C}),e(t.map(k=>k.id===E?{...k,category:C}:k))}catch(k){console.error("Failed to update category:",k)}};return L.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[L.jsx(bA,{isDark:i,onDarkModeToggle:()=>o(!i),currentCategory:u,onCategoryFilter:c}),L.jsx(AA,{currentFilter:s,onFilterChange:a}),L.jsx("main",{className:"pt-16 md:pl-48",children:L.jsx("div",{className:"max-w-[calc(100vw-192px)] mx-auto p-4",children:L.jsx(AD,{onDragEnd:T,children:L.jsx(t1,{droppableId:"todos-list",type:"todo",children:E=>L.jsxs("div",{ref:E.innerRef,...E.droppableProps,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:[d.map((C,k)=>L.jsx(g2,{todo:C,index:k,onToggle:p,onDelete:v,onPriorityChange:m,onColorChange:b,onEdit:R,onCategoryChange:y},C.id)),E.placeholder]})})})})}),n&&L.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:L.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 w-[300px]",children:L.jsx(m2,{onAdd:h,onCancel:()=>r(!1)})})}),L.jsx(v2,{onClick:()=>r(!0)})]})};var mM=typeof Element<"u",vM=typeof Map=="function",yM=typeof Set=="function",wM=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function xl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!xl(t[r],e[r]))return!1;return!0}var o;if(vM&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!xl(r.value[1],e.get(r.value[0])))return!1;return!0}if(yM&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(wM&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(mM&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!xl(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var _M=function(e,n){try{return xl(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const EM=ti(_M);var TM=function(t,e,n,r,i,o,s,a){if(!t){var u;if(e===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],d=0;u=new Error(e.replace(/%s/g,function(){return c[d++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},IM=TM;const d0=ti(IM);var SM=function(e,n,r,i){var o=r?r.call(i,e,n):void 0;if(o!==void 0)return!!o;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var s=Object.keys(e),a=Object.keys(n);if(s.length!==a.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(n),c=0;c<s.length;c++){var d=s[c];if(!u(d))return!1;var h=e[d],p=n[d];if(o=r?r.call(i,h,p,d):void 0,o===!1||o===void 0&&h!==p)return!1}return!0};const bM=ti(SM);function Ne(){return Ne=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ne.apply(this,arguments)}function _g(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,lh(t,e)}function lh(t,e){return lh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},lh(t,e)}function f0(t,e){if(t==null)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}var J={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},AM={rel:["amphtml","canonical","alternate"]},CM={type:["application/ld+json"]},xM={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},h0=Object.keys(J).map(function(t){return J[t]}),Eu={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},PM=Object.keys(Eu).reduce(function(t,e){return t[Eu[e]]=e,t},{}),Wi=function(t,e){for(var n=t.length-1;n>=0;n-=1){var r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},RM=function(t){var e=Wi(t,J.TITLE),n=Wi(t,"titleTemplate");if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,function(){return e});var r=Wi(t,"defaultTitle");return e||r||void 0},DM=function(t){return Wi(t,"onChangeClientState")||function(){}},Od=function(t,e){return e.filter(function(n){return n[t]!==void 0}).map(function(n){return n[t]}).reduce(function(n,r){return Ne({},n,r)},{})},kM=function(t,e){return e.filter(function(n){return n[J.BASE]!==void 0}).map(function(n){return n[J.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var i=Object.keys(r),o=0;o<i.length;o+=1){var s=i[o].toLowerCase();if(t.indexOf(s)!==-1&&r[s])return n.concat(r)}return n},[])},qo=function(t,e,n){var r={};return n.filter(function(i){return!!Array.isArray(i[t])||(i[t]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+t+' should be of type "Array". Instead found type "'+typeof i[t]+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var s={};o.filter(function(h){for(var p,m=Object.keys(h),v=0;v<m.length;v+=1){var b=m[v],R=b.toLowerCase();e.indexOf(R)===-1||p==="rel"&&h[p].toLowerCase()==="canonical"||R==="rel"&&h[R].toLowerCase()==="stylesheet"||(p=R),e.indexOf(b)===-1||b!=="innerHTML"&&b!=="cssText"&&b!=="itemprop"||(p=b)}if(!p||!h[p])return!1;var T=h[p].toLowerCase();return r[p]||(r[p]={}),s[p]||(s[p]={}),!r[p][T]&&(s[p][T]=!0,!0)}).reverse().forEach(function(h){return i.push(h)});for(var a=Object.keys(s),u=0;u<a.length;u+=1){var c=a[u],d=Ne({},r[c],s[c]);r[c]=d}return i},[]).reverse()},NM=function(t,e){if(Array.isArray(t)&&t.length){for(var n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},RT=function(t){return Array.isArray(t)?t.join(""):t},Vd=function(t,e){return Array.isArray(t)?t.reduce(function(n,r){return function(i,o){for(var s=Object.keys(i),a=0;a<s.length;a+=1)if(o[s[a]]&&o[s[a]].includes(i[s[a]]))return!0;return!1}(r,e)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:t}},p0=function(t,e){var n;return Ne({},t,((n={})[e]=void 0,n))},OM=[J.NOSCRIPT,J.SCRIPT,J.STYLE],Md=function(t,e){return e===void 0&&(e=!0),e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},g0=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n]!==void 0?n+'="'+t[n]+'"':""+n;return e?e+" "+r:r},"")},m0=function(t,e){return e===void 0&&(e={}),Object.keys(t).reduce(function(n,r){return n[Eu[r]||r]=t[r],n},e)},Pl=function(t,e){return e.map(function(n,r){var i,o=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(s){var a=Eu[s]||s;a==="innerHTML"||a==="cssText"?o.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:o[a]=n[s]}),ne.createElement(t,o)})},Qt=function(t,e,n){switch(t){case J.TITLE:return{toComponent:function(){return i=e.titleAttributes,(o={key:r=e.title})["data-rh"]=!0,s=m0(i,o),[ne.createElement(J.TITLE,s,r)];var r,i,o,s},toString:function(){return function(r,i,o,s){var a=g0(o),u=RT(i);return a?"<"+r+' data-rh="true" '+a+">"+Md(u,s)+"</"+r+">":"<"+r+' data-rh="true">'+Md(u,s)+"</"+r+">"}(t,e.title,e.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return m0(e)},toString:function(){return g0(e)}};default:return{toComponent:function(){return Pl(t,e)},toString:function(){return function(r,i,o){return i.reduce(function(s,a){var u=Object.keys(a).filter(function(h){return!(h==="innerHTML"||h==="cssText")}).reduce(function(h,p){var m=a[p]===void 0?p:p+'="'+Md(a[p],o)+'"';return h?h+" "+m:m},""),c=a.innerHTML||a.cssText||"",d=OM.indexOf(r)===-1;return s+"<"+r+' data-rh="true" '+u+(d?"/>":">"+c+"</"+r+">")},"")}(t,e,n)}}}},uh=function(t){var e=t.baseTag,n=t.bodyAttributes,r=t.encode,i=t.htmlAttributes,o=t.noscriptTags,s=t.styleTags,a=t.title,u=a===void 0?"":a,c=t.titleAttributes,d=t.linkTags,h=t.metaTags,p=t.scriptTags,m={toComponent:function(){},toString:function(){return""}};if(t.prioritizeSeoTags){var v=function(b){var R=b.linkTags,T=b.scriptTags,y=b.encode,E=Vd(b.metaTags,xM),C=Vd(R,AM),k=Vd(T,CM);return{priorityMethods:{toComponent:function(){return[].concat(Pl(J.META,E.priority),Pl(J.LINK,C.priority),Pl(J.SCRIPT,k.priority))},toString:function(){return Qt(J.META,E.priority,y)+" "+Qt(J.LINK,C.priority,y)+" "+Qt(J.SCRIPT,k.priority,y)}},metaTags:E.default,linkTags:C.default,scriptTags:k.default}}(t);m=v.priorityMethods,d=v.linkTags,h=v.metaTags,p=v.scriptTags}return{priority:m,base:Qt(J.BASE,e,r),bodyAttributes:Qt("bodyAttributes",n,r),htmlAttributes:Qt("htmlAttributes",i,r),link:Qt(J.LINK,d,r),meta:Qt(J.META,h,r),noscript:Qt(J.NOSCRIPT,o,r),script:Qt(J.SCRIPT,p,r),style:Qt(J.STYLE,s,r),title:Qt(J.TITLE,{title:u,titleAttributes:c},r)}},ul=[],ch=function(t,e){var n=this;e===void 0&&(e=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?ul:n.instances},add:function(r){(n.canUseDOM?ul:n.instances).push(r)},remove:function(r){var i=(n.canUseDOM?ul:n.instances).indexOf(r);(n.canUseDOM?ul:n.instances).splice(i,1)}}},this.context=t,this.canUseDOM=e,e||(t.helmet=uh({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},DT=ne.createContext({}),VM=se.shape({setHelmet:se.func,helmetInstances:se.shape({get:se.func,add:se.func,remove:se.func})}),MM=typeof document<"u",Vi=function(t){function e(n){var r;return(r=t.call(this,n)||this).helmetData=new ch(r.props.context,e.canUseDOM),r}return _g(e,t),e.prototype.render=function(){return ne.createElement(DT.Provider,{value:this.helmetData.value},this.props.children)},e}(O.Component);Vi.canUseDOM=MM,Vi.propTypes={context:se.shape({helmet:se.shape()}),children:se.node.isRequired},Vi.defaultProps={context:{}},Vi.displayName="HelmetProvider";var wi=function(t,e){var n,r=document.head||document.querySelector(J.HEAD),i=r.querySelectorAll(t+"[data-rh]"),o=[].slice.call(i),s=[];return e&&e.length&&e.forEach(function(a){var u=document.createElement(t);for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(c==="innerHTML"?u.innerHTML=a.innerHTML:c==="cssText"?u.styleSheet?u.styleSheet.cssText=a.cssText:u.appendChild(document.createTextNode(a.cssText)):u.setAttribute(c,a[c]===void 0?"":a[c]));u.setAttribute("data-rh","true"),o.some(function(d,h){return n=h,u.isEqualNode(d)})?o.splice(n,1):s.push(u)}),o.forEach(function(a){return a.parentNode.removeChild(a)}),s.forEach(function(a){return r.appendChild(a)}),{oldTags:o,newTags:s}},Ld=function(t,e){var n=document.getElementsByTagName(t)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],o=[].concat(i),s=Object.keys(e),a=0;a<s.length;a+=1){var u=s[a],c=e[u]||"";n.getAttribute(u)!==c&&n.setAttribute(u,c),i.indexOf(u)===-1&&i.push(u);var d=o.indexOf(u);d!==-1&&o.splice(d,1)}for(var h=o.length-1;h>=0;h-=1)n.removeAttribute(o[h]);i.length===o.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==s.join(",")&&n.setAttribute("data-rh",s.join(","))}},v0=function(t,e){var n=t.baseTag,r=t.htmlAttributes,i=t.linkTags,o=t.metaTags,s=t.noscriptTags,a=t.onChangeClientState,u=t.scriptTags,c=t.styleTags,d=t.title,h=t.titleAttributes;Ld(J.BODY,t.bodyAttributes),Ld(J.HTML,r),function(b,R){b!==void 0&&document.title!==b&&(document.title=RT(b)),Ld(J.TITLE,R)}(d,h);var p={baseTag:wi(J.BASE,n),linkTags:wi(J.LINK,i),metaTags:wi(J.META,o),noscriptTags:wi(J.NOSCRIPT,s),scriptTags:wi(J.SCRIPT,u),styleTags:wi(J.STYLE,c)},m={},v={};Object.keys(p).forEach(function(b){var R=p[b],T=R.newTags,y=R.oldTags;T.length&&(m[b]=T),y.length&&(v[b]=p[b].oldTags)}),e&&e(),a(t,m,v)},Ko=null,Tu=function(t){function e(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(r=t.call.apply(t,[this].concat(o))||this).rendered=!1,r}_g(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(r){return!bM(r,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var r,i,o=this.props.context,s=o.setHelmet,a=null,u=(r=o.helmetInstances.get().map(function(c){var d=Ne({},c.props);return delete d.context,d}),{baseTag:kM(["href"],r),bodyAttributes:Od("bodyAttributes",r),defer:Wi(r,"defer"),encode:Wi(r,"encodeSpecialCharacters"),htmlAttributes:Od("htmlAttributes",r),linkTags:qo(J.LINK,["rel","href"],r),metaTags:qo(J.META,["name","charset","http-equiv","property","itemprop"],r),noscriptTags:qo(J.NOSCRIPT,["innerHTML"],r),onChangeClientState:DM(r),scriptTags:qo(J.SCRIPT,["src","innerHTML"],r),styleTags:qo(J.STYLE,["cssText"],r),title:RM(r),titleAttributes:Od("titleAttributes",r),prioritizeSeoTags:NM(r,"prioritizeSeoTags")});Vi.canUseDOM?(i=u,Ko&&cancelAnimationFrame(Ko),i.defer?Ko=requestAnimationFrame(function(){v0(i,function(){Ko=null})}):(v0(i),Ko=null)):uh&&(a=uh(u)),s(a)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},e}(O.Component);Tu.propTypes={context:VM.isRequired},Tu.displayName="HelmetDispatcher";var LM=["children"],FM=["children"],Rl=function(t){function e(){return t.apply(this,arguments)||this}_g(e,t);var n=e.prototype;return n.shouldComponentUpdate=function(r){return!EM(p0(this.props,"helmetData"),p0(r,"helmetData"))},n.mapNestedChildrenToProps=function(r,i){if(!i)return null;switch(r.type){case J.SCRIPT:case J.NOSCRIPT:return{innerHTML:i};case J.STYLE:return{cssText:i};default:throw new Error("<"+r.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.flattenArrayTypeChildren=function(r){var i,o=r.child,s=r.arrayTypeChildren;return Ne({},s,((i={})[o.type]=[].concat(s[o.type]||[],[Ne({},r.newChildProps,this.mapNestedChildrenToProps(o,r.nestedChildren))]),i))},n.mapObjectTypeChildren=function(r){var i,o,s=r.child,a=r.newProps,u=r.newChildProps,c=r.nestedChildren;switch(s.type){case J.TITLE:return Ne({},a,((i={})[s.type]=c,i.titleAttributes=Ne({},u),i));case J.BODY:return Ne({},a,{bodyAttributes:Ne({},u)});case J.HTML:return Ne({},a,{htmlAttributes:Ne({},u)});default:return Ne({},a,((o={})[s.type]=Ne({},u),o))}},n.mapArrayTypeChildrenToProps=function(r,i){var o=Ne({},i);return Object.keys(r).forEach(function(s){var a;o=Ne({},o,((a={})[s]=r[s],a))}),o},n.warnOnInvalidChildren=function(r,i){return d0(h0.some(function(o){return r.type===o}),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+h0.join(", ")+" are allowed. Helmet does not support rendering <"+r.type+"> elements. Refer to our API for more information."),d0(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(o){return typeof o!="string"}),"Helmet expects a string as a child of <"+r.type+">. Did you forget to wrap your children in braces? ( <"+r.type+">{``}</"+r.type+"> ) Refer to our API for more information."),!0},n.mapChildrenToProps=function(r,i){var o=this,s={};return ne.Children.forEach(r,function(a){if(a&&a.props){var u=a.props,c=u.children,d=f0(u,LM),h=Object.keys(d).reduce(function(m,v){return m[PM[v]||v]=d[v],m},{}),p=a.type;switch(typeof p=="symbol"?p=p.toString():o.warnOnInvalidChildren(a,c),p){case J.FRAGMENT:i=o.mapChildrenToProps(c,i);break;case J.LINK:case J.META:case J.NOSCRIPT:case J.SCRIPT:case J.STYLE:s=o.flattenArrayTypeChildren({child:a,arrayTypeChildren:s,newChildProps:h,nestedChildren:c});break;default:i=o.mapObjectTypeChildren({child:a,newProps:i,newChildProps:h,nestedChildren:c})}}}),this.mapArrayTypeChildrenToProps(s,i)},n.render=function(){var r=this.props,i=r.children,o=f0(r,FM),s=Ne({},o),a=o.helmetData;return i&&(s=this.mapChildrenToProps(i,s)),!a||a instanceof ch||(a=new ch(a.context,a.instances)),a?ne.createElement(Tu,Ne({},s,{context:a.value,helmetData:void 0})):ne.createElement(DT.Consumer,null,function(u){return ne.createElement(Tu,Ne({},s,{context:u}))})},e}(O.Component);Rl.propTypes={base:se.object,bodyAttributes:se.object,children:se.oneOfType([se.arrayOf(se.node),se.node]),defaultTitle:se.string,defer:se.bool,encodeSpecialCharacters:se.bool,htmlAttributes:se.object,link:se.arrayOf(se.object),meta:se.arrayOf(se.object),noscript:se.arrayOf(se.object),onChangeClientState:se.func,script:se.arrayOf(se.object),style:se.arrayOf(se.object),title:se.string,titleAttributes:se.object,titleTemplate:se.string,prioritizeSeoTags:se.bool,helmetData:se.object},Rl.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},Rl.displayName="Helmet";const BM=({title:t="Todo List",description:e="     "})=>L.jsxs(Rl,{children:[L.jsx("title",{children:t}),L.jsx("meta",{name:"description",content:e}),L.jsx("meta",{property:"og:title",content:t}),L.jsx("meta",{property:"og:description",content:e}),L.jsx("meta",{name:"theme-color",content:"#6366F1"})]});function jM(){return L.jsxs(Vi,{children:[L.jsx(BM,{}),L.jsx(gM,{})]})}Fd.createRoot(document.getElementById("root")).render(L.jsx(ne.StrictMode,{children:L.jsx(jM,{})}));
